2025-09-23 09:14:25.094 +03:00 [INF] Starting database seeding.
2025-09-23 09:14:27.641 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 09:14:34.118 +03:00 [INF] Executed DbCommand (279ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:14:34.351 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:14:34.362 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:14:34.409 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:14:34.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:14:34.544 +03:00 [INF] Database seeding finished successfully.
2025-09-23 09:14:38.799 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 09:14:38.802 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 09:14:39.015 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 09:14:39.018 +03:00 [INF] Hosting environment: Development
2025-09-23 09:14:39.024 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 09:14:39.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 09:14:39.651 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 274.4813ms
2025-09-23 09:14:39.766 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 09:14:39.795 +03:00 [INF] No cached response available for this request.
2025-09-23 09:14:39.827 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 09:14:39.838 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 09:14:39.843 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 09:14:39.854 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 09:14:39.860 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 09:14:39.864 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 09:14:43.950 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 09:14:43.958 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:14:44.039 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 09:14:44.639 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 09:14:45.366 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 09:27:28.322 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 764256.2903ms
2025-09-23 09:27:28.343 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:27:33.031 +03:00 [ERR] An un handled exception has occured: Book with isbn 978048640077 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryBookManagementSystem.API.Middlewares.GlobalExceptionHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\GlobalExceptionHandler.cs:line 29
2025-09-23 09:27:33.423 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - 500 null application/json 773656.5509ms
2025-09-23 09:29:01.086 +03:00 [INF] Starting database seeding.
2025-09-23 09:29:03.303 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 09:29:09.113 +03:00 [INF] Executed DbCommand (256ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:29:09.341 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:29:09.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:29:09.388 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:29:09.492 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:29:09.512 +03:00 [INF] Database seeding finished successfully.
2025-09-23 09:29:12.795 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 09:29:12.802 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 09:29:13.147 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 09:29:13.152 +03:00 [INF] Hosting environment: Development
2025-09-23 09:29:13.159 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 09:29:49.694 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 09:29:49.810 +03:00 [ERR] An un handled exception has occured: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at LibraryBookManagementSystem.API.Middlewares.GlobalExceptionHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\GlobalExceptionHandler.cs:line 29
2025-09-23 09:29:50.146 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 500 null application/json 461.0754ms
2025-09-23 09:31:36.379 +03:00 [INF] Starting database seeding.
2025-09-23 09:31:36.947 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 09:32:04.048 +03:00 [INF] Starting database seeding.
2025-09-23 09:32:04.929 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 09:32:07.530 +03:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:32:07.697 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:32:07.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:32:07.758 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:32:07.880 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:32:07.898 +03:00 [INF] Database seeding finished successfully.
2025-09-23 09:32:08.923 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 09:32:08.927 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 09:32:09.194 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 09:32:09.199 +03:00 [INF] Hosting environment: Development
2025-09-23 09:32:09.204 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 09:32:38.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 09:32:38.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 168.9836ms
2025-09-23 09:32:38.914 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 09:32:38.944 +03:00 [INF] No cached response available for this request.
2025-09-23 09:32:38.981 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 09:32:38.992 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 09:32:38.997 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 09:32:39.005 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 09:32:39.009 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 09:32:39.015 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 09:32:39.159 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 09:32:39.165 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:32:39.233 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 09:32:39.627 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 09:32:40.104 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 09:32:47.822 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 8564.187ms
2025-09-23 09:32:47.835 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:48:32.578 +03:00 [INF] Starting database seeding.
2025-09-23 09:48:33.104 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 09:48:35.512 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:48:35.608 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:48:35.614 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:48:35.634 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:48:35.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:48:35.700 +03:00 [INF] Database seeding finished successfully.
2025-09-23 09:48:36.758 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 09:48:36.762 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 09:48:37.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 09:48:37.036 +03:00 [INF] Hosting environment: Development
2025-09-23 09:48:37.043 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 09:49:05.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 09:49:05.435 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 381.7903ms
2025-09-23 09:49:05.636 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 09:49:05.694 +03:00 [INF] No cached response available for this request.
2025-09-23 09:49:05.753 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 09:49:05.777 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 09:49:05.787 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 09:49:05.806 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 09:49:05.812 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 09:49:05.826 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 09:49:06.118 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 09:49:06.130 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:49:06.254 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 09:49:06.985 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 09:49:07.757 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 09:49:26.975 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 20689.7195ms
2025-09-23 09:49:26.983 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:51:43.039 +03:00 [INF] Starting database seeding.
2025-09-23 09:51:43.758 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 09:51:46.195 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:51:46.329 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:51:46.341 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 09:51:46.373 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:51:46.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 09:51:46.489 +03:00 [INF] Database seeding finished successfully.
2025-09-23 09:51:47.622 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 09:51:47.624 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 09:51:47.845 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 09:51:47.849 +03:00 [INF] Hosting environment: Development
2025-09-23 09:51:47.853 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 09:51:54.583 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 09:51:54.780 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 219.087ms
2025-09-23 09:51:54.884 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 09:51:54.909 +03:00 [INF] No cached response available for this request.
2025-09-23 09:51:54.942 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 09:51:54.952 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 09:51:54.954 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 09:51:54.962 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 09:51:54.966 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 09:51:54.975 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 09:51:55.139 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 09:51:55.146 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:51:55.201 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 09:51:55.755 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 09:51:56.415 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 09:52:08.298 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 13077.9643ms
2025-09-23 09:52:08.305 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:53:01.617 +03:00 [ERR] An un handled exception has occured: Book with isbn 978048640077 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at LibraryBookManagementSystem.API.Middlewares.GlobalExceptionHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\GlobalExceptionHandler.cs:line 29
2025-09-23 09:53:07.190 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - 500 null application/json 72306.0639ms
2025-09-23 09:53:25.035 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 09:53:25.156 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 121.3255ms
2025-09-23 09:53:25.163 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 09:53:25.177 +03:00 [INF] No cached response available for this request.
2025-09-23 09:53:25.181 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 09:53:25.183 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 09:53:25.187 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 09:53:25.192 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 09:53:25.195 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 09:53:25.198 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 09:53:25.204 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 09:53:25.211 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 09:53:25.217 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 09:53:25.240 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 09:53:25.278 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 09:54:39.468 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 74237.2891ms
2025-09-23 09:54:39.479 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 10:04:13.916 +03:00 [INF] Starting database seeding.
2025-09-23 10:04:14.522 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 10:04:17.221 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 10:04:17.391 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 10:04:17.400 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 10:04:17.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 10:04:17.474 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 10:04:17.490 +03:00 [INF] Database seeding finished successfully.
2025-09-23 10:04:18.627 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 10:04:18.631 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 10:04:18.892 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 10:04:18.899 +03:00 [INF] Hosting environment: Development
2025-09-23 10:04:18.904 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 10:04:26.759 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 10:04:27.034 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 307.2543ms
2025-09-23 10:04:27.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 10:04:27.183 +03:00 [INF] No cached response available for this request.
2025-09-23 10:04:27.215 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 10:04:27.224 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 10:04:27.227 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 10:04:27.233 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 10:04:27.236 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 10:04:27.244 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 10:04:27.413 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 10:04:27.420 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 10:04:27.499 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 10:04:28.015 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 10:04:28.527 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 10:04:36.471 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 8951.4841ms
2025-09-23 10:04:36.477 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 10:54:32.836 +03:00 [INF] Starting database seeding.
2025-09-23 10:54:33.560 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 10:54:37.023 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 10:54:37.194 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 10:54:37.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 10:54:37.248 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 10:54:37.366 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 10:54:37.384 +03:00 [INF] Database seeding finished successfully.
2025-09-23 10:54:38.183 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 10:54:38.187 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 10:54:38.513 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 10:54:38.520 +03:00 [INF] Hosting environment: Development
2025-09-23 10:54:38.526 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 10:54:40.842 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 10:54:41.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 291.2595ms
2025-09-23 10:54:41.234 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 10:54:41.330 +03:00 [INF] No cached response available for this request.
2025-09-23 10:54:41.362 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 10:54:41.373 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 10:54:41.375 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 10:54:41.382 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 10:54:41.384 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 10:54:41.388 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 10:54:41.534 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 10:54:41.541 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 10:54:41.604 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 10:54:42.242 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 10:54:42.791 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 10:54:55.397 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 13768.7151ms
2025-09-23 10:54:55.407 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 10:55:01.729 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 10:55:22.385 +03:00 [WRN] A Not Found exception has occured: Book with isbn 978048640077 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 10:55:31.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - 404 null application/problem+json 50372.498ms
2025-09-23 11:06:21.905 +03:00 [INF] Starting database seeding.
2025-09-23 11:06:22.426 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 11:06:24.802 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:06:25.004 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:06:25.018 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:06:25.056 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:06:25.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:06:25.127 +03:00 [INF] Database seeding finished successfully.
2025-09-23 11:06:25.940 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 11:06:25.951 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 11:06:26.359 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 11:06:26.363 +03:00 [INF] Hosting environment: Development
2025-09-23 11:06:26.368 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 11:06:36.761 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 11:06:37.012 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 285.9898ms
2025-09-23 11:06:37.130 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 11:06:37.163 +03:00 [INF] No cached response available for this request.
2025-09-23 11:06:37.210 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:06:37.221 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:06:37.224 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:06:37.233 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:06:37.240 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:06:37.244 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:06:37.419 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 11:06:37.426 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 11:06:37.501 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:06:37.946 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 11:06:38.639 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 11:06:42.207 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 4681.4903ms
2025-09-23 11:06:42.225 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 11:06:48.719 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:06:49.044 +03:00 [WRN] A Not Found exception has occured: Book with isbn 978048640077 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:06:49.335 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - 404 null null 12205.7899ms
2025-09-23 11:18:25.021 +03:00 [INF] Starting database seeding.
2025-09-23 11:18:25.502 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 11:18:28.425 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:18:28.676 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:18:28.686 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:18:28.738 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:18:28.990 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:18:29.006 +03:00 [INF] Database seeding finished successfully.
2025-09-23 11:18:30.173 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 11:18:30.179 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 11:18:30.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 11:18:30.528 +03:00 [INF] Hosting environment: Development
2025-09-23 11:18:30.533 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 11:18:46.364 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 11:18:46.584 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 250.4723ms
2025-09-23 11:18:46.694 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 11:18:46.728 +03:00 [INF] No cached response available for this request.
2025-09-23 11:18:46.763 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:18:46.778 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:18:46.783 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:18:46.826 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:18:46.829 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:18:46.833 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:18:46.997 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 11:18:47.006 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 11:18:47.147 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:18:47.597 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 11:18:48.311 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 11:18:50.290 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 3111.2441ms
2025-09-23 11:18:50.297 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 11:18:53.813 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:18:53.991 +03:00 [WRN] A Not Found exception has occured: Book with isbn 978048640077 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:18:54.252 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - 404 null application/problem+json 7558.3786ms
2025-09-23 11:40:08.343 +03:00 [INF] Starting database seeding.
2025-09-23 11:40:09.013 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 11:40:11.905 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:40:12.062 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:40:12.071 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:40:12.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:40:12.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:40:12.214 +03:00 [INF] Database seeding finished successfully.
2025-09-23 11:40:13.016 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 11:40:13.022 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 11:40:13.311 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 11:40:13.315 +03:00 [INF] Hosting environment: Development
2025-09-23 11:40:13.321 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 11:40:24.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - null null
2025-09-23 11:40:24.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/978048640077 - 307 0 null 199.3695ms
2025-09-23 11:40:24.642 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - null null
2025-09-23 11:40:24.667 +03:00 [INF] No cached response available for this request.
2025-09-23 11:40:24.723 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:40:24.742 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:40:24.746 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:40:24.757 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:40:24.762 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:40:24.766 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:40:24.936 +03:00 [INF] Incomming Request: GET /api/Books/isbn/978048640077
2025-09-23 11:40:24.943 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 11:40:25.072 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:40:25.628 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-09-23 11:40:26.437 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 11:40:31.197 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 6080.6824ms
2025-09-23 11:40:31.215 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-09-23 11:40:35.497 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:40:35.634 +03:00 [WRN] A Not Found exception has occured: Book with isbn 978048640077 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 978048640077 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 181
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 101
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:40:35.749 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/978048640077 - 404 null null 11106.7455ms
2025-09-23 11:42:35.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - null null
2025-09-23 11:42:35.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - 307 0 null 17.7533ms
2025-09-23 11:42:35.987 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - null null
2025-09-23 11:42:36.005 +03:00 [INF] No cached response available for this request.
2025-09-23 11:42:36.008 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:42:36.012 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:42:36.016 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:42:36.020 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:42:36.024 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:42:36.030 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:42:36.033 +03:00 [INF] Incomming Request: GET /api/Books/by-author/1
2025-09-23 11:42:36.037 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:42:36.050 +03:00 [INF] Route matched with {action = "GetBooksByAuthorId", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksByAuthorIdAsync(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:42:36.068 +03:00 [INF] Executing an action GetBooksByAuthorId on controller Books.
2025-09-23 11:42:36.143 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 11:42:36.279 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
) AS [s] ON [b].[Id] = [s].[BooksId]
WHERE @__authorId_0 IN (
    SELECT [a].[Id]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    WHERE [b].[Id] = [b0].[BooksId]
)
ORDER BY [b].[Id], [s].[AuthorsId], [s].[BooksId]
2025-09-23 11:42:36.364 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 11:42:36.392 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API) in 332.7109ms
2025-09-23 11:42:36.401 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:42:36.408 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 11:42:36.418 +03:00 [INF] Generating expiration headers.
2025-09-23 11:42:36.424 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 08:43:36 GMT. Cache-Control: public,max-age=60.
2025-09-23 11:42:36.432 +03:00 [INF] Generating Validation headers.
2025-09-23 11:42:36.464 +03:00 [INF] Validation headers generated. ETag: Strong, "E68BF4CDEAA7BEE73E9FB97B0D535695". Last-Modified: Tue, 23 Sep 2025 08:42:36 GMT
2025-09-23 11:42:36.471 +03:00 [INF] Generating Vary header.
2025-09-23 11:42:36.478 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 11:42:36.506 +03:00 [INF] The response has been cached.
2025-09-23 11:42:36.512 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - 200 null application/json; charset=utf-8 524.8496ms
2025-09-23 11:42:42.296 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - null null
2025-09-23 11:42:42.306 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - 307 0 null 9.4869ms
2025-09-23 11:42:42.308 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - null null
2025-09-23 11:42:42.344 +03:00 [INF] Serving response from cache.
2025-09-23 11:42:42.348 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - 200 null application/json; charset=utf-8 39.5346ms
2025-09-23 11:42:47.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - null null
2025-09-23 11:42:47.098 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - 307 0 null 10.5273ms
2025-09-23 11:42:47.101 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - null null
2025-09-23 11:42:47.133 +03:00 [INF] Serving response from cache.
2025-09-23 11:42:47.137 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - 200 null application/json; charset=utf-8 36.3035ms
2025-09-23 11:46:05.648 +03:00 [INF] Starting database seeding.
2025-09-23 11:46:06.140 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 11:46:08.621 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:46:08.738 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:46:08.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 11:46:08.763 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:46:08.826 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 11:46:08.834 +03:00 [INF] Database seeding finished successfully.
2025-09-23 11:46:09.548 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 11:46:09.552 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 11:46:09.822 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 11:46:09.826 +03:00 [INF] Hosting environment: Development
2025-09-23 11:46:09.834 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 11:47:21.977 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/By-authoR/1 - null null
2025-09-23 11:47:22.279 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/By-authoR/1 - 307 0 null 326.1233ms
2025-09-23 11:47:22.445 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/By-authoR/1 - null null
2025-09-23 11:47:22.478 +03:00 [INF] No cached response available for this request.
2025-09-23 11:47:22.531 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:47:22.552 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:47:22.558 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:47:22.580 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:47:22.588 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:47:22.595 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:47:22.800 +03:00 [INF] Incomming Request: GET /api/Books/By-authoR/1
2025-09-23 11:47:22.814 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:47:22.931 +03:00 [INF] Route matched with {action = "GetBooksByAuthorId", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksByAuthorIdAsync(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:47:23.612 +03:00 [INF] Executing an action GetBooksByAuthorId on controller Books.
2025-09-23 11:47:23.934 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 11:47:24.340 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
) AS [s] ON [b].[Id] = [s].[BooksId]
WHERE @__authorId_0 IN (
    SELECT [a].[Id]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    WHERE [b].[Id] = [b0].[BooksId]
)
ORDER BY [b].[Id], [s].[AuthorsId], [s].[BooksId]
2025-09-23 11:47:24.436 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 11:47:24.492 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API) in 1527.9852ms
2025-09-23 11:47:24.501 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:47:24.511 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 11:47:24.527 +03:00 [INF] Generating expiration headers.
2025-09-23 11:47:24.536 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 08:48:24 GMT. Cache-Control: public,max-age=60.
2025-09-23 11:47:24.543 +03:00 [INF] Generating Validation headers.
2025-09-23 11:47:24.585 +03:00 [INF] Validation headers generated. ETag: Strong, "EA7A7C749C61224C024E81F1B2A1FD10". Last-Modified: Tue, 23 Sep 2025 08:47:24 GMT
2025-09-23 11:47:24.590 +03:00 [INF] Generating Vary header.
2025-09-23 11:47:24.596 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 11:47:24.620 +03:00 [INF] The response has been cached.
2025-09-23 11:47:24.638 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/By-authoR/1 - 200 null application/json; charset=utf-8 2193.3057ms
2025-09-23 11:47:43.504 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 11:47:43.524 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 20.5374ms
2025-09-23 11:47:43.537 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 11:47:43.580 +03:00 [INF] No cached response available for this request.
2025-09-23 11:47:43.589 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:47:43.602 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:47:43.614 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:47:43.620 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:47:43.634 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:47:43.661 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:47:43.672 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 11:47:43.686 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 11:47:43.725 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:47:43.774 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 11:50:28.895 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 165131.7418ms
2025-09-23 11:50:28.919 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 11:50:29.991 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Borrowing>()
    .Where(b0 => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(b0, "BookId")))
    .All(b0 => b0.IsReturned)' could not be translated. Additional information: Translation of member 'IsReturned' on entity type 'Borrowing' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.GetAvailableBooksAsync(Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 67
   at LibraryManagementSystem.Business.Services.BookService.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 207
   at LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:50:30.324 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 500 0 null 166787.7417ms
2025-09-23 11:50:36.995 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 11:50:37.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 21.1758ms
2025-09-23 11:50:37.020 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 11:50:37.046 +03:00 [INF] No cached response available for this request.
2025-09-23 11:50:37.055 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:50:37.059 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:50:37.062 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:50:37.074 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:50:37.085 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:50:37.089 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:50:37.100 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 11:50:37.105 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 11:50:37.114 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:50:37.152 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 11:50:38.922 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 1788.8276ms
2025-09-23 11:50:38.949 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 11:50:40.528 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Borrowing>()
    .Where(b0 => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(b0, "BookId")))
    .All(b0 => b0.IsReturned)' could not be translated. Additional information: Translation of member 'IsReturned' on entity type 'Borrowing' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.GetAvailableBooksAsync(Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 67
   at LibraryManagementSystem.Business.Services.BookService.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 207
   at LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:50:40.806 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 500 0 null 3786.3838ms
2025-09-23 11:50:58.655 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books - null null
2025-09-23 11:50:58.669 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books - 307 0 null 14.3918ms
2025-09-23 11:50:58.681 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books - null null
2025-09-23 11:50:58.725 +03:00 [INF] No cached response available for this request.
2025-09-23 11:50:58.732 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:50:58.736 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:50:58.740 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:50:58.746 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:50:58.749 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:50:58.752 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:50:58.755 +03:00 [INF] Incomming Request: GET /api/Books
2025-09-23 11:50:58.763 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAll (LibraryManagementSystem.API)'
2025-09-23 11:50:58.782 +03:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:50:58.812 +03:00 [INF] Executing an action GetAll on controller Books.
2025-09-23 11:50:58.863 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-09-23 11:50:58.895 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
FROM [Books] AS [b]
ORDER BY [b].[Title]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-23 11:50:58.963 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 11:50:58.984 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAll (LibraryManagementSystem.API) in 191.2833ms
2025-09-23 11:50:58.987 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAll (LibraryManagementSystem.API)'
2025-09-23 11:50:58.992 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 11:50:58.996 +03:00 [INF] Generating expiration headers.
2025-09-23 11:50:58.999 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 08:51:58 GMT. Cache-Control: public,max-age=60.
2025-09-23 11:50:59.001 +03:00 [INF] Generating Validation headers.
2025-09-23 11:50:59.005 +03:00 [INF] Validation headers generated. ETag: Strong, "0BCD45C215C3F7D085D628CBBB4A7476". Last-Modified: Tue, 23 Sep 2025 08:50:59 GMT
2025-09-23 11:50:59.008 +03:00 [INF] Generating Vary header.
2025-09-23 11:50:59.016 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 11:50:59.028 +03:00 [INF] The response has been cached.
2025-09-23 11:50:59.034 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books - 200 null application/json; charset=utf-8 352.1982ms
2025-09-23 11:51:26.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - null null
2025-09-23 11:51:26.129 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/by-author/1 - 307 0 null 63.2849ms
2025-09-23 11:51:26.144 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - null null
2025-09-23 11:51:26.193 +03:00 [INF] No cached response available for this request.
2025-09-23 11:51:26.199 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:51:26.211 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:51:26.224 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:51:26.230 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:51:26.241 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:51:26.251 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:51:26.259 +03:00 [INF] Incomming Request: GET /api/Books/by-author/1
2025-09-23 11:51:26.274 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:51:26.291 +03:00 [INF] Route matched with {action = "GetBooksByAuthorId", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksByAuthorIdAsync(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:51:26.319 +03:00 [INF] Executing an action GetBooksByAuthorId on controller Books.
2025-09-23 11:51:26.328 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 11:51:26.348 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId]
FROM [Books] AS [b]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
) AS [s] ON [b].[Id] = [s].[BooksId]
WHERE @__authorId_0 IN (
    SELECT [a].[Id]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    WHERE [b].[Id] = [b0].[BooksId]
)
ORDER BY [b].[Id], [s].[AuthorsId], [s].[BooksId]
2025-09-23 11:51:26.364 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 11:51:26.369 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API) in 51.2081ms
2025-09-23 11:51:26.377 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:51:26.381 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 11:51:26.384 +03:00 [INF] Generating expiration headers.
2025-09-23 11:51:26.389 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 08:52:26 GMT. Cache-Control: public,max-age=60.
2025-09-23 11:51:26.391 +03:00 [INF] Generating Validation headers.
2025-09-23 11:51:26.394 +03:00 [INF] Validation headers generated. ETag: Strong, "E68BF4CDEAA7BEE73E9FB97B0D535695". Last-Modified: Tue, 23 Sep 2025 08:51:26 GMT
2025-09-23 11:51:26.396 +03:00 [INF] Generating Vary header.
2025-09-23 11:51:26.399 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 11:51:26.405 +03:00 [INF] The response has been cached.
2025-09-23 11:51:26.408 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/by-author/1 - 200 null application/json; charset=utf-8 265.8649ms
2025-09-23 11:53:49.694 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/by-author/available - null null
2025-09-23 11:53:49.734 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/by-author/available - 307 0 null 40.6997ms
2025-09-23 11:53:49.737 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/by-author/available - null null
2025-09-23 11:53:49.777 +03:00 [INF] No cached response available for this request.
2025-09-23 11:53:49.793 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:53:49.797 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:53:49.804 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:53:49.807 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:53:49.811 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:53:49.814 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:53:49.823 +03:00 [INF] Incomming Request: GET /api/Books/by-author/available
2025-09-23 11:53:49.831 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:53:49.868 +03:00 [INF] Route matched with {action = "GetBooksByAuthorId", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksByAuthorIdAsync(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:53:49.890 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 11:53:49.936 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API) in 59.6054ms
2025-09-23 11:53:49.940 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:53:49.946 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 11:53:49.950 +03:00 [INF] Generating expiration headers.
2025-09-23 11:53:49.954 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 08:54:49 GMT. Cache-Control: public,max-age=60.
2025-09-23 11:53:49.961 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-23 11:53:49.964 +03:00 [INF] Generating Vary header.
2025-09-23 11:53:49.968 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 11:53:49.976 +03:00 [INF] The response could not be cached for this request.
2025-09-23 11:53:49.980 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/by-author/available - 400 null application/json; charset=utf-8 242.5535ms
2025-09-23 11:55:26.198 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/by-author/available - null null
2025-09-23 11:55:26.225 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/by-author/available - 307 0 null 27.2056ms
2025-09-23 11:55:26.228 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/by-author/available - null null
2025-09-23 11:55:26.244 +03:00 [INF] No cached response available for this request.
2025-09-23 11:55:26.248 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:55:26.255 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:55:26.257 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:55:26.262 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:55:26.271 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:55:26.273 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:55:26.276 +03:00 [INF] Incomming Request: GET /api/Books/by-author/available
2025-09-23 11:55:26.280 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:55:26.285 +03:00 [INF] Route matched with {action = "GetBooksByAuthorId", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksByAuthorIdAsync(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:55:26.296 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 11:55:26.308 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API) in 13.6598ms
2025-09-23 11:55:26.313 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetBooksByAuthorIdAsync (LibraryManagementSystem.API)'
2025-09-23 11:55:26.317 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 11:55:26.320 +03:00 [INF] Generating expiration headers.
2025-09-23 11:55:26.326 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 08:56:26 GMT. Cache-Control: public,max-age=60.
2025-09-23 11:55:26.332 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-23 11:55:26.341 +03:00 [INF] Generating Vary header.
2025-09-23 11:55:26.350 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 11:55:26.356 +03:00 [INF] The response could not be cached for this request.
2025-09-23 11:55:26.359 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/by-author/available - 400 null application/json; charset=utf-8 130.9739ms
2025-09-23 11:55:34.263 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 11:55:34.274 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 11.0823ms
2025-09-23 11:55:34.277 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 11:55:34.303 +03:00 [INF] No cached response available for this request.
2025-09-23 11:55:34.308 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 11:55:34.313 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 11:55:34.319 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 11:55:34.324 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 11:55:34.335 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 11:55:34.341 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 11:55:34.350 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 11:55:34.356 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 11:55:34.367 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 11:55:34.385 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 11:55:38.764 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 4379.7425ms
2025-09-23 11:55:38.783 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 11:55:40.510 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Borrowing>()
    .Where(b0 => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(b0, "BookId")))
    .All(b0 => b0.IsReturned)' could not be translated. Additional information: Translation of member 'IsReturned' on entity type 'Borrowing' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.GetAvailableBooksAsync(Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 67
   at LibraryManagementSystem.Business.Services.BookService.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 207
   at LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 11:55:40.861 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 500 0 null 6584.0663ms
2025-09-23 12:04:03.986 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 12:04:04.004 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 24.4139ms
2025-09-23 12:04:04.008 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 12:04:04.031 +03:00 [INF] No cached response available for this request.
2025-09-23 12:04:04.038 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:04:04.042 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:04:04.046 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:04:04.054 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:04:04.058 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:04:04.067 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:04:04.075 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 12:04:04.085 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:04:04.103 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:04:04.121 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 12:04:10.966 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 6844.9866ms
2025-09-23 12:04:10.984 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:04:13.048 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Borrowing>()
    .Where(b0 => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(b0, "BookId")))
    .All(b0 => b0.IsReturned)' could not be translated. Additional information: Translation of member 'IsReturned' on entity type 'Borrowing' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.GetAvailableBooksAsync(Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 67
   at LibraryManagementSystem.Business.Services.BookService.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 207
   at LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:04:13.402 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 500 0 null 9393.5972ms
2025-09-23 12:04:55.667 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 12:04:55.696 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 30.6824ms
2025-09-23 12:04:55.703 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 12:04:55.745 +03:00 [INF] No cached response available for this request.
2025-09-23 12:04:55.751 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:04:55.761 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:04:55.787 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:04:55.794 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:04:55.800 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:04:55.810 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:04:55.822 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 12:04:55.833 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:04:55.854 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:04:55.870 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 12:05:49.874 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 54004.3652ms
2025-09-23 12:05:49.899 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:05:52.355 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Borrowing>()
    .Where(b0 => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(b0, "BookId")))
    .All(b0 => b0.IsReturned)' could not be translated. Additional information: Translation of member 'IsReturned' on entity type 'Borrowing' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.GetAvailableBooksAsync(Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 67
   at LibraryManagementSystem.Business.Services.BookService.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 207
   at LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:05:52.904 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 500 0 null 57203.1602ms
2025-09-23 12:07:28.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 12:07:28.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 20.7943ms
2025-09-23 12:07:28.833 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 12:07:28.864 +03:00 [INF] No cached response available for this request.
2025-09-23 12:07:28.868 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:07:28.876 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:07:28.882 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:07:28.886 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:07:28.893 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:07:28.897 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:07:28.900 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 12:07:28.907 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:07:28.914 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:07:28.930 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 12:07:32.893 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 3963.7375ms
2025-09-23 12:07:32.913 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:07:35.464 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Borrowing>()
    .Where(b0 => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(b0, "BookId")))
    .All(b0 => b0.IsReturned)' could not be translated. Additional information: Translation of member 'IsReturned' on entity type 'Borrowing' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.GetAvailableBooksAsync(Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 67
   at LibraryManagementSystem.Business.Services.BookService.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 207
   at LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:07:35.917 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 500 0 null 7084.6479ms
2025-09-23 12:07:48.150 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 12:07:48.166 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 15.7163ms
2025-09-23 12:07:48.170 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 12:07:48.214 +03:00 [INF] No cached response available for this request.
2025-09-23 12:07:48.233 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:07:48.243 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:07:48.254 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:07:48.261 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:07:48.273 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:07:48.280 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:07:48.291 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 12:07:48.304 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:07:48.317 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:07:48.330 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 12:15:14.581 +03:00 [INF] Starting database seeding.
2025-09-23 12:15:15.180 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 12:15:18.917 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:15:19.110 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:15:19.122 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:15:19.182 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:15:19.362 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:15:19.399 +03:00 [INF] Database seeding finished successfully.
2025-09-23 12:15:20.562 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 12:15:20.566 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 12:15:20.890 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 12:15:20.894 +03:00 [INF] Hosting environment: Development
2025-09-23 12:15:20.900 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 12:15:23.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 12:15:23.377 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 182.3272ms
2025-09-23 12:15:23.458 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 12:15:23.477 +03:00 [INF] No cached response available for this request.
2025-09-23 12:15:23.524 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:15:23.541 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:15:23.545 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:15:23.557 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:15:23.562 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:15:23.578 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:15:23.758 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 12:15:23.765 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:15:23.844 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:15:24.252 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 12:15:24.957 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title], [b1].[Id], [b1].[BookId], [b1].[BorrowDate], [b1].[BorrowerId], [b1].[DeleteDate], [b1].[ReturnDate]
FROM [Books] AS [b]
LEFT JOIN [Borrowings] AS [b1] ON [b].[Id] = [b1].[BookId]
WHERE NOT EXISTS (
    SELECT 1
    FROM [Borrowings] AS [b0]
    WHERE [b].[Id] = [b0].[BookId] AND [b0].[ReturnDate] IS NULL)
ORDER BY [b].[Id]
2025-09-23 12:15:25.296 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 12:15:25.345 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 1469.5204ms
2025-09-23 12:15:25.357 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:15:25.363 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 12:15:25.379 +03:00 [INF] Generating expiration headers.
2025-09-23 12:15:25.385 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 09:16:25 GMT. Cache-Control: public,max-age=60.
2025-09-23 12:15:25.394 +03:00 [INF] Generating Validation headers.
2025-09-23 12:15:25.440 +03:00 [INF] Validation headers generated. ETag: Strong, "7F9EA02F896D4FD6CF89A1E42E60BD4B". Last-Modified: Tue, 23 Sep 2025 09:15:25 GMT
2025-09-23 12:15:25.450 +03:00 [INF] Generating Vary header.
2025-09-23 12:15:25.454 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 12:15:25.482 +03:00 [INF] The response has been cached.
2025-09-23 12:15:25.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 200 null application/json; charset=utf-8 2038.969ms
2025-09-23 12:18:04.017 +03:00 [INF] Starting database seeding.
2025-09-23 12:18:04.898 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 12:18:07.708 +03:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:18:07.922 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:18:07.930 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:18:07.965 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:18:08.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:18:08.088 +03:00 [INF] Database seeding finished successfully.
2025-09-23 12:18:09.093 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 12:18:09.098 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 12:18:09.370 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 12:18:09.374 +03:00 [INF] Hosting environment: Development
2025-09-23 12:18:09.379 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 12:18:18.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/available - null null
2025-09-23 12:18:18.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/available - 307 0 null 191.0009ms
2025-09-23 12:18:18.585 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/available - null null
2025-09-23 12:18:18.610 +03:00 [INF] No cached response available for this request.
2025-09-23 12:18:18.661 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:18:18.672 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:18:18.680 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:18:18.686 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:18:18.688 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:18:18.691 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:18:18.846 +03:00 [INF] Incomming Request: GET /api/Books/available
2025-09-23 12:18:18.856 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:18:18.930 +03:00 [INF] Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooksAsync() on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:18:19.410 +03:00 [INF] Executing an action GetAvailableBooks on controller Books.
2025-09-23 12:18:20.009 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title], [b1].[Id], [b1].[BookId], [b1].[BorrowDate], [b1].[BorrowerId], [b1].[DeleteDate], [b1].[ReturnDate]
FROM [Books] AS [b]
LEFT JOIN [Borrowings] AS [b1] ON [b].[Id] = [b1].[BookId]
WHERE NOT EXISTS (
    SELECT 1
    FROM [Borrowings] AS [b0]
    WHERE [b].[Id] = [b0].[BookId] AND [b0].[ReturnDate] IS NOT NULL)
ORDER BY [b].[Id]
2025-09-23 12:18:20.330 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 12:18:20.410 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API) in 1441.8223ms
2025-09-23 12:18:20.449 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAvailableBooksAsync (LibraryManagementSystem.API)'
2025-09-23 12:18:20.458 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 12:18:20.468 +03:00 [INF] Generating expiration headers.
2025-09-23 12:18:20.473 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 09:19:20 GMT. Cache-Control: public,max-age=60.
2025-09-23 12:18:20.481 +03:00 [INF] Generating Validation headers.
2025-09-23 12:18:20.523 +03:00 [INF] Validation headers generated. ETag: Strong, "02F971812AC7A2C30EAEE852A91D99DF". Last-Modified: Tue, 23 Sep 2025 09:18:20 GMT
2025-09-23 12:18:20.531 +03:00 [INF] Generating Vary header.
2025-09-23 12:18:20.533 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 12:18:20.563 +03:00 [INF] The response has been cached.
2025-09-23 12:18:20.578 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/available - 200 null application/json; charset=utf-8 1993.924ms
2025-09-23 12:18:32.316 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/availabl - null null
2025-09-23 12:18:32.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/availabl - 307 0 null 13.7066ms
2025-09-23 12:18:32.335 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/availabl - null null
2025-09-23 12:18:32.352 +03:00 [INF] No cached response available for this request.
2025-09-23 12:18:32.356 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:18:32.359 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:18:32.365 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:18:32.370 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:18:32.373 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:18:32.378 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:18:32.384 +03:00 [INF] Incomming Request: GET /api/Books/availabl
2025-09-23 12:18:32.388 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 12:18:32.414 +03:00 [INF] Route matched with {action = "GetById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:18:32.471 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 12:18:32.517 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API) in 89.2432ms
2025-09-23 12:18:32.522 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 12:18:32.528 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 12:18:32.534 +03:00 [INF] Generating expiration headers.
2025-09-23 12:18:32.539 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 09:19:32 GMT. Cache-Control: public,max-age=60.
2025-09-23 12:18:32.543 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-23 12:18:32.549 +03:00 [INF] Generating Vary header.
2025-09-23 12:18:32.553 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 12:18:32.557 +03:00 [INF] The response could not be cached for this request.
2025-09-23 12:18:32.560 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/availabl - 400 null application/json; charset=utf-8 224.3865ms
2025-09-23 12:18:44.443 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/availablE - null null
2025-09-23 12:18:44.452 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/availablE - 307 0 null 10.1109ms
2025-09-23 12:18:44.455 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/availablE - null null
2025-09-23 12:18:44.485 +03:00 [INF] Serving response from cache.
2025-09-23 12:18:44.488 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/availablE - 200 null application/json; charset=utf-8 33.0888ms
2025-09-23 12:20:36.643 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:20:36.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 31.0454ms
2025-09-23 12:20:36.680 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:20:36.730 +03:00 [INF] No cached response available for this request.
2025-09-23 12:20:36.738 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:20:36.747 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:20:36.758 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:20:36.764 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:20:36.775 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:20:36.786 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:20:36.801 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:20:36.808 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:20:36.850 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:20:36.985 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:22:32.659 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 115776.2169ms
2025-09-23 12:22:32.699 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:22:34.872 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:22:35.363 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 0 null 118683.0454ms
2025-09-23 12:23:07.497 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:23:07.523 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 25.5967ms
2025-09-23 12:23:07.528 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:23:07.560 +03:00 [INF] No cached response available for this request.
2025-09-23 12:23:07.569 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:23:07.575 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:23:07.583 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:23:07.590 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:23:07.601 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:23:07.606 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:23:07.616 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:23:07.624 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:23:07.637 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:23:07.660 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:24:32.732 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 85075.7543ms
2025-09-23 12:24:32.750 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:24:34.646 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:24:35.161 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 0 null 87632.8656ms
2025-09-23 12:25:54.534 +03:00 [INF] Starting database seeding.
2025-09-23 12:25:55.123 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 12:25:58.166 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:25:58.421 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:25:58.432 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:25:58.487 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:25:58.586 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:25:58.605 +03:00 [INF] Database seeding finished successfully.
2025-09-23 12:25:59.643 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 12:25:59.647 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 12:25:59.914 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 12:25:59.918 +03:00 [INF] Hosting environment: Development
2025-09-23 12:25:59.922 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 12:27:21.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:27:21.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 168.4335ms
2025-09-23 12:27:21.932 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:27:21.960 +03:00 [INF] No cached response available for this request.
2025-09-23 12:27:21.994 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:27:22.007 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:27:22.012 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:27:22.021 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:27:22.025 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:27:22.030 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:27:22.229 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:27:22.242 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:27:22.362 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:27:22.981 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:27:55.154 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 32763.7079ms
2025-09-23 12:27:55.162 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:27:56.449 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:27:56.865 +03:00 [ERR] An unhandled exception occurred: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:27:57.275 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 null null 35343.4626ms
2025-09-23 12:28:39.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:28:39.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 21.8606ms
2025-09-23 12:28:39.763 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:28:39.793 +03:00 [INF] No cached response available for this request.
2025-09-23 12:28:39.798 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:28:39.802 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:28:39.810 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:28:39.820 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:28:39.828 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:28:39.831 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:28:39.836 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:28:39.838 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:28:39.844 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:28:39.863 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:29:25.389 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 45532.1265ms
2025-09-23 12:29:25.436 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:29:26.325 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges)
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:29:26.671 +03:00 [ERR] An unhandled exception occurred: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges)
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:29:27.097 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 null null 47334.4613ms
2025-09-23 12:29:55.440 +03:00 [INF] Starting database seeding.
2025-09-23 12:29:56.346 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 12:30:00.737 +03:00 [INF] Executed DbCommand (193ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:30:00.834 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:30:00.839 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:30:00.858 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:30:00.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:30:00.936 +03:00 [INF] Database seeding finished successfully.
2025-09-23 12:30:02.109 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 12:30:02.116 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 12:30:02.521 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 12:30:02.525 +03:00 [INF] Hosting environment: Development
2025-09-23 12:30:02.530 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 12:30:15.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:30:15.636 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 253.1678ms
2025-09-23 12:30:15.761 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:30:15.797 +03:00 [INF] No cached response available for this request.
2025-09-23 12:30:15.874 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:30:15.898 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:30:15.955 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:30:15.964 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:30:15.969 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:30:15.978 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:30:16.168 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:30:16.175 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:30:16.297 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:30:16.882 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:30:40.988 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 24665.1081ms
2025-09-23 12:30:40.995 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:30:42.751 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:30:43.581 +03:00 [ERR] An unhandled exception occurred: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:30:43.975 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 null null 28214.2699ms
2025-09-23 12:31:00.076 +03:00 [INF] Starting database seeding.
2025-09-23 12:31:00.655 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 12:31:03.484 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:31:03.657 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:31:03.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:31:03.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:31:03.803 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:31:03.818 +03:00 [INF] Database seeding finished successfully.
2025-09-23 12:31:04.526 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 12:31:04.529 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 12:31:04.789 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 12:31:04.793 +03:00 [INF] Hosting environment: Development
2025-09-23 12:31:04.797 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 12:32:04.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:32:04.954 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 206.7486ms
2025-09-23 12:32:05.075 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:32:05.104 +03:00 [INF] No cached response available for this request.
2025-09-23 12:32:05.143 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:32:05.156 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:32:05.160 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:32:05.179 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:32:05.184 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:32:05.196 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:32:05.524 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:32:05.536 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:32:05.665 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:32:06.348 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:32:58.927 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 53221.9031ms
2025-09-23 12:32:58.935 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:33:02.099 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:33:02.638 +03:00 [ERR] An unhandled exception occurred: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:33:02.928 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 null null 57852.9586ms
2025-09-23 12:34:41.785 +03:00 [INF] Starting database seeding.
2025-09-23 12:34:43.593 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 12:34:49.534 +03:00 [INF] Executed DbCommand (232ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:34:49.714 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:34:49.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 12:34:49.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:34:49.892 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 12:34:49.907 +03:00 [INF] Database seeding finished successfully.
2025-09-23 12:34:51.981 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 12:34:51.984 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 12:34:52.250 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 12:34:52.253 +03:00 [INF] Hosting environment: Development
2025-09-23 12:34:52.257 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 12:34:52.364 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:34:52.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 208.7315ms
2025-09-23 12:34:52.678 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:34:52.707 +03:00 [INF] No cached response available for this request.
2025-09-23 12:34:52.772 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:34:52.782 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:34:52.784 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:34:52.791 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:34:52.794 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:34:52.800 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:34:57.127 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:34:57.139 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:34:57.272 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:34:57.808 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:35:05.794 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 8475.6461ms
2025-09-23 12:35:05.816 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:35:07.617 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:35:08.355 +03:00 [ERR] An unhandled exception occurred: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\Repositories\BookRepository.cs:line 78
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:35:08.752 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 null null 16073.967ms
2025-09-23 12:37:52.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:37:52.260 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 44.1578ms
2025-09-23 12:37:52.271 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 12:37:52.314 +03:00 [INF] No cached response available for this request.
2025-09-23 12:37:52.325 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 12:37:52.334 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 12:37:52.348 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 12:37:52.356 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 12:37:52.367 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 12:37:52.378 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 12:37:52.385 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 12:37:52.393 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:37:52.401 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 12:37:52.427 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 12:41:56.767 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 244349.7965ms
2025-09-23 12:41:56.799 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 12:41:59.701 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges)
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:42:06.622 +03:00 [ERR] An unhandled exception occurred: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
System.InvalidOperationException: The LINQ expression 'DbSet<Dictionary<string, object>>("AuthorBook")
    .Where(a => EF.Property<int?>(StructuralTypeShaperExpression(
        StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
        ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
        IsNullable: False), "Id") != null && object.Equals(
        objA: (object)EF.Property<int?>(StructuralTypeShaperExpression(
            StructuralType: LibraryManagementSystem.DataAccess.Entities.Book
            ValueBufferExpression: ProjectionBindingExpression: EmptyProjectionMember
            IsNullable: False), "Id"), 
        objB: (object)EF.Property<int?>(a, "BooksId")))
    .Join(
        inner: DbSet<Author>(), 
        outerKeySelector: a => (object)EF.Property<int?>(a, "AuthorsId"), 
        innerKeySelector: a0 => (object)EF.Property<int?>(a0, "Id"), 
        resultSelector: (a, a0) => new TransparentIdentifier<Dictionary<string, object>, Author>(
            Outer = a, 
            Inner = a0
        ))
    .Join(
        inner: DbSet<Person>(), 
        outerKeySelector: ti => EF.Property<int?>(ti.Inner, "PersonId"), 
        innerKeySelector: p => EF.Property<int?>(p, "Id"), 
        resultSelector: (o, i) => new TransparentIdentifier<TransparentIdentifier<Dictionary<string, object>, Author>, Person>(
            Outer = o, 
            Inner = i
        ))
    .Any(ti => EF.Property<PersonName>(ti.Inner, "Name").ToString().ToLower().Contains(__searchTerm_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.TranslateSubquery(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.<VisitMethodCall>g__TranslateAsSubquery|33_0(Expression expression, <>c__DisplayClass33_0&)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.Shared.PagedList`1.ToPagedList(IQueryable`1 source, Int32 pageNumber, Int32 pageSize)
   at LibraryManagementSystem.DataAccess.Repositories.BookRepository.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters, Boolean trackChanges)
   at LibraryManagementSystem.Business.Services.BookService.SearchBooksByAuthorNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 216
   at LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync(SearchParameters searchParameters) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 150
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-23 12:42:07.025 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 500 null null 254754.6992ms
2025-09-23 13:04:37.885 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 13:04:37.897 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 14.8231ms
2025-09-23 13:04:37.904 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 13:04:37.924 +03:00 [INF] No cached response available for this request.
2025-09-23 13:04:37.927 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 13:04:37.929 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 13:04:37.933 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 13:04:37.935 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 13:04:37.941 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 13:04:37.944 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 13:04:37.952 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 13:04:37.957 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 13:04:37.974 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 13:04:38.005 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 15:40:11.511 +03:00 [INF] Starting database seeding.
2025-09-23 15:40:12.209 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 15:40:14.592 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:40:14.686 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:40:14.693 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:40:14.711 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 15:40:14.762 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 15:40:14.772 +03:00 [INF] Database seeding finished successfully.
2025-09-23 15:40:15.356 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 15:40:15.362 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 15:40:15.619 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 15:40:15.625 +03:00 [INF] Hosting environment: Development
2025-09-23 15:40:15.634 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 15:40:27.652 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 15:40:27.833 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 187.6734ms
2025-09-23 15:40:27.947 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 15:40:27.973 +03:00 [INF] No cached response available for this request.
2025-09-23 15:40:28.004 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 15:40:28.014 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 15:40:28.017 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 15:40:28.025 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 15:40:28.031 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 15:40:28.038 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 15:40:28.200 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 15:40:28.206 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 15:40:28.283 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 15:40:28.789 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 15:51:54.674 +03:00 [INF] Starting database seeding.
2025-09-23 15:51:54.918 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 15:51:56.137 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:51:56.228 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:51:56.233 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:51:56.248 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 15:51:56.284 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 15:51:56.291 +03:00 [INF] Database seeding finished successfully.
2025-09-23 15:51:56.650 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 15:51:56.652 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 15:51:56.768 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 15:51:56.771 +03:00 [INF] Hosting environment: Development
2025-09-23 15:51:56.774 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 15:52:00.870 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 15:52:00.943 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 77.3204ms
2025-09-23 15:52:00.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 15:52:01.009 +03:00 [INF] No cached response available for this request.
2025-09-23 15:52:01.024 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 15:52:01.030 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 15:52:01.032 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 15:52:01.035 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 15:52:01.036 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 15:52:01.038 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 15:52:01.115 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 15:52:01.118 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 15:52:01.145 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 15:52:01.313 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 15:59:47.985 +03:00 [INF] Starting database seeding.
2025-09-23 15:59:48.264 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 15:59:49.500 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:59:49.563 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:59:49.568 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 15:59:49.580 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 15:59:49.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 15:59:49.618 +03:00 [INF] Database seeding finished successfully.
2025-09-23 15:59:49.897 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 15:59:49.899 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 15:59:49.994 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 15:59:49.997 +03:00 [INF] Hosting environment: Development
2025-09-23 15:59:49.999 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 15:59:59.388 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 15:59:59.446 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 62.6539ms
2025-09-23 15:59:59.480 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 15:59:59.491 +03:00 [INF] No cached response available for this request.
2025-09-23 15:59:59.507 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 15:59:59.512 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 15:59:59.515 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 15:59:59.518 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 15:59:59.520 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 15:59:59.521 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 15:59:59.607 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 15:59:59.611 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 15:59:59.657 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 15:59:59.852 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:00:00.041 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:00:00.153 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:00:00.190 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:00:00.212 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 546.5548ms
2025-09-23 16:00:00.216 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:00:00.219 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:00:00.222 +03:00 [INF] Generating expiration headers.
2025-09-23 16:00:00.227 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:01:00 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:00:00.230 +03:00 [INF] Generating Validation headers.
2025-09-23 16:00:00.245 +03:00 [INF] Validation headers generated. ETag: Strong, "F15C2C00BA7F6A211C0D6986FA6F10EF". Last-Modified: Tue, 23 Sep 2025 13:00:00 GMT
2025-09-23 16:00:00.250 +03:00 [INF] Generating Vary header.
2025-09-23 16:00:00.252 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:00:00.268 +03:00 [INF] The response has been cached.
2025-09-23 16:00:00.275 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 794.514ms
2025-09-23 16:00:21.953 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books - null null
2025-09-23 16:00:21.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books - 307 0 null 8.3788ms
2025-09-23 16:00:21.974 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books - null null
2025-09-23 16:00:21.980 +03:00 [INF] No cached response available for this request.
2025-09-23 16:00:21.982 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:00:21.984 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:00:21.985 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:00:21.986 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:00:21.988 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:00:21.989 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:00:21.990 +03:00 [INF] Incomming Request: GET /api/Books
2025-09-23 16:00:21.992 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAll (LibraryManagementSystem.API)'
2025-09-23 16:00:21.997 +03:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:00:22.005 +03:00 [INF] Executing an action GetAll on controller Books.
2025-09-23 16:00:22.025 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
2025-09-23 16:00:22.037 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
FROM [Books] AS [b]
ORDER BY [b].[Title]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-23 16:00:22.059 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:00:22.064 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetAll (LibraryManagementSystem.API) in 63.0684ms
2025-09-23 16:00:22.070 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetAll (LibraryManagementSystem.API)'
2025-09-23 16:00:22.071 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:00:22.073 +03:00 [INF] Generating expiration headers.
2025-09-23 16:00:22.074 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:01:22 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:00:22.075 +03:00 [INF] Generating Validation headers.
2025-09-23 16:00:22.077 +03:00 [INF] Validation headers generated. ETag: Strong, "0BCD45C215C3F7D085D628CBBB4A7476". Last-Modified: Tue, 23 Sep 2025 13:00:22 GMT
2025-09-23 16:00:22.079 +03:00 [INF] Generating Vary header.
2025-09-23 16:00:22.080 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:00:22.083 +03:00 [INF] The response has been cached.
2025-09-23 16:00:22.085 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books - 200 null application/json; charset=utf-8 111.211ms
2025-09-23 16:00:31.118 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:00:31.122 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.2508ms
2025-09-23 16:00:31.124 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:00:31.133 +03:00 [INF] Serving response from cache.
2025-09-23 16:00:31.135 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 11.404ms
2025-09-23 16:00:59.720 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:00:59.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 7.4346ms
2025-09-23 16:00:59.730 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:00:59.741 +03:00 [INF] Serving response from cache.
2025-09-23 16:00:59.742 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 12.1464ms
2025-09-23 16:01:00.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:00.737 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.0161ms
2025-09-23 16:01:00.738 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:00.744 +03:00 [INF] No cached response available for this request.
2025-09-23 16:01:00.746 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:01:00.748 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:01:00.749 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:01:00.752 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:01:00.753 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:01:00.755 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:01:00.758 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:01:00.760 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:01:00.762 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:01:00.776 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:01:00.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:01:00.790 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:01:00.807 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:01:00.809 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 43.037ms
2025-09-23 16:01:00.811 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:01:00.814 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:01:00.816 +03:00 [INF] Generating expiration headers.
2025-09-23 16:01:00.817 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:02:00 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:01:00.818 +03:00 [INF] Generating Validation headers.
2025-09-23 16:01:00.819 +03:00 [INF] Validation headers generated. ETag: Strong, "F15C2C00BA7F6A211C0D6986FA6F10EF". Last-Modified: Tue, 23 Sep 2025 13:01:00 GMT
2025-09-23 16:01:00.820 +03:00 [INF] Generating Vary header.
2025-09-23 16:01:00.821 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:01:00.823 +03:00 [INF] The response has been cached.
2025-09-23 16:01:00.824 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 86.5718ms
2025-09-23 16:01:01.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:01.591 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.5226ms
2025-09-23 16:01:01.592 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:01.601 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:01.603 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 10.4143ms
2025-09-23 16:01:02.451 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:02.456 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 5.2841ms
2025-09-23 16:01:02.457 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:02.465 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:02.466 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 9.298ms
2025-09-23 16:01:03.482 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:03.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.1806ms
2025-09-23 16:01:03.488 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:03.495 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:03.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.9725ms
2025-09-23 16:01:09.114 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:09.117 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.5943ms
2025-09-23 16:01:09.118 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:09.125 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:09.127 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.3253ms
2025-09-23 16:01:10.290 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:10.296 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 5.8932ms
2025-09-23 16:01:10.297 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:10.303 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:10.304 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 6.6964ms
2025-09-23 16:01:11.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:11.072 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.6952ms
2025-09-23 16:01:11.073 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:11.082 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:11.083 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 9.6864ms
2025-09-23 16:01:11.753 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:11.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.3712ms
2025-09-23 16:01:11.758 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:11.765 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:11.766 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.4109ms
2025-09-23 16:01:12.985 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:12.989 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.6519ms
2025-09-23 16:01:12.990 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:13.001 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:13.002 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 11.9229ms
2025-09-23 16:01:14.724 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:14.729 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 5.3905ms
2025-09-23 16:01:14.731 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:14.741 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:14.742 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 11.1542ms
2025-09-23 16:01:19.271 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:19.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 5.7957ms
2025-09-23 16:01:19.278 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:19.284 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:19.285 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 6.8303ms
2025-09-23 16:01:20.545 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:20.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.7574ms
2025-09-23 16:01:20.550 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:20.559 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:20.560 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 10.5984ms
2025-09-23 16:01:22.319 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:22.323 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.1178ms
2025-09-23 16:01:22.324 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:22.331 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:22.332 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.1529ms
2025-09-23 16:01:23.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:23.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.3129ms
2025-09-23 16:01:23.434 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:23.440 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:23.442 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.2008ms
2025-09-23 16:01:24.525 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:24.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.4767ms
2025-09-23 16:01:24.530 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:24.536 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:24.538 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.319ms
2025-09-23 16:01:25.453 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:25.477 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 23.8416ms
2025-09-23 16:01:25.479 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:25.495 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:25.496 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 17.0425ms
2025-09-23 16:01:26.489 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:26.493 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.6449ms
2025-09-23 16:01:26.494 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:26.501 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:26.502 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 7.7446ms
2025-09-23 16:01:28.190 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:28.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.1879ms
2025-09-23 16:01:28.195 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:28.205 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:28.207 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 12.1701ms
2025-09-23 16:01:29.640 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:29.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.5766ms
2025-09-23 16:01:29.645 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:29.650 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:29.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 7.0595ms
2025-09-23 16:01:31.751 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:31.755 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.8272ms
2025-09-23 16:01:31.756 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:31.764 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:31.765 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.4434ms
2025-09-23 16:01:33.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:33.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.3097ms
2025-09-23 16:01:33.026 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:33.033 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:33.034 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.0807ms
2025-09-23 16:01:33.850 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:33.856 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 5.1611ms
2025-09-23 16:01:33.857 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:33.864 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:33.865 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.4147ms
2025-09-23 16:01:36.365 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:36.370 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.9111ms
2025-09-23 16:01:36.371 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:36.377 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:36.378 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 7.5967ms
2025-09-23 16:01:38.120 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:38.124 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.1008ms
2025-09-23 16:01:38.126 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:38.133 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:38.134 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.4498ms
2025-09-23 16:01:38.892 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:38.897 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.6474ms
2025-09-23 16:01:38.898 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:38.905 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:38.907 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.8718ms
2025-09-23 16:01:40.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:40.072 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.4617ms
2025-09-23 16:01:40.073 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:40.080 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:40.081 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.2737ms
2025-09-23 16:01:41.052 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:41.055 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.434ms
2025-09-23 16:01:41.056 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:41.063 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:41.065 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.633ms
2025-09-23 16:01:42.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:42.240 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.3106ms
2025-09-23 16:01:42.241 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:42.247 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:42.250 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 9.5092ms
2025-09-23 16:01:43.843 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:43.847 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.2185ms
2025-09-23 16:01:43.848 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:43.857 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:43.858 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 9.7485ms
2025-09-23 16:01:44.666 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:44.670 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.5103ms
2025-09-23 16:01:44.671 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:44.677 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:44.679 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 8.2822ms
2025-09-23 16:01:45.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:45.437 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.4241ms
2025-09-23 16:01:45.438 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:45.444 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:45.445 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 7.4686ms
2025-09-23 16:01:46.168 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:46.173 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 4.5355ms
2025-09-23 16:01:46.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:46.179 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:46.180 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 6.5072ms
2025-09-23 16:01:47.000 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:47.004 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Fa%22 - 307 0 null 3.4536ms
2025-09-23 16:01:47.004 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - null null
2025-09-23 16:01:47.010 +03:00 [INF] Serving response from cache.
2025-09-23 16:01:47.015 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Fa%22 - 200 null application/json; charset=utf-8 10.1383ms
2025-09-23 16:02:01.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:01.467 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 3.3283ms
2025-09-23 16:02:01.468 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:01.475 +03:00 [INF] No cached response available for this request.
2025-09-23 16:02:01.477 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:02:01.478 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:02:01.479 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:02:01.480 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:02:01.481 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:02:01.482 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:02:01.483 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:02:01.484 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:02:01.487 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:02:01.491 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:02:01.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:02:01.502 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:02:01.513 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:02:01.516 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 25.7985ms
2025-09-23 16:02:01.518 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:02:01.519 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:02:01.520 +03:00 [INF] Generating expiration headers.
2025-09-23 16:02:01.521 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:03:01 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:02:01.522 +03:00 [INF] Generating Validation headers.
2025-09-23 16:02:01.523 +03:00 [INF] Validation headers generated. ETag: Strong, "F74A023F57F501239FA188A537C5EA08". Last-Modified: Tue, 23 Sep 2025 13:02:01 GMT
2025-09-23 16:02:01.524 +03:00 [INF] Generating Vary header.
2025-09-23 16:02:01.526 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:02:01.528 +03:00 [INF] The response has been cached.
2025-09-23 16:02:01.529 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 60.7846ms
2025-09-23 16:02:03.093 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:03.097 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 3.6741ms
2025-09-23 16:02:03.098 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:03.106 +03:00 [INF] Serving response from cache.
2025-09-23 16:02:03.107 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 9.3999ms
2025-09-23 16:02:04.050 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:04.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 3.6023ms
2025-09-23 16:02:04.055 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:04.065 +03:00 [INF] Serving response from cache.
2025-09-23 16:02:04.066 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 11.5408ms
2025-09-23 16:02:04.915 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:04.920 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 5.1897ms
2025-09-23 16:02:04.921 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:04.927 +03:00 [INF] Serving response from cache.
2025-09-23 16:02:04.928 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 6.6286ms
2025-09-23 16:02:38.559 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:38.570 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 11.7372ms
2025-09-23 16:02:38.572 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:38.584 +03:00 [INF] Serving response from cache.
2025-09-23 16:02:38.585 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 13.7036ms
2025-09-23 16:02:40.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:40.662 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 3.7116ms
2025-09-23 16:02:40.663 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:40.670 +03:00 [INF] Serving response from cache.
2025-09-23 16:02:40.672 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 8.5205ms
2025-09-23 16:02:41.792 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:41.798 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 6.1811ms
2025-09-23 16:02:41.800 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:02:41.806 +03:00 [INF] Serving response from cache.
2025-09-23 16:02:41.807 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 7.0517ms
2025-09-23 16:02:50.454 +03:00 [INF] Starting database seeding.
2025-09-23 16:02:50.717 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 16:02:51.941 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:02:52.001 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:02:52.006 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:02:52.018 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:02:52.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:02:52.057 +03:00 [INF] Database seeding finished successfully.
2025-09-23 16:02:52.338 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 16:02:52.342 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 16:02:52.438 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 16:02:52.441 +03:00 [INF] Hosting environment: Development
2025-09-23 16:02:52.443 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 16:03:00.315 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:03:00.461 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=%22Th%22 - 307 0 null 158.31ms
2025-09-23 16:03:00.561 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - null null
2025-09-23 16:03:00.586 +03:00 [INF] No cached response available for this request.
2025-09-23 16:03:00.610 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:03:00.616 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:03:00.618 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:03:00.627 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:03:00.629 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:03:00.631 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:03:00.856 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:03:00.866 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:03:00.917 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:03:01.402 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:03:24.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:03:24.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:03:24.206 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:03:24.227 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 23143.8054ms
2025-09-23 16:03:24.233 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:03:24.236 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:03:24.241 +03:00 [INF] Generating expiration headers.
2025-09-23 16:03:24.244 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:04:24 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:03:24.248 +03:00 [INF] Generating Validation headers.
2025-09-23 16:03:24.259 +03:00 [INF] Validation headers generated. ETag: Strong, "F74A023F57F501239FA188A537C5EA08". Last-Modified: Tue, 23 Sep 2025 13:03:24 GMT
2025-09-23 16:03:24.262 +03:00 [INF] Generating Vary header.
2025-09-23 16:03:24.263 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:03:24.272 +03:00 [INF] The response has been cached.
2025-09-23 16:03:24.278 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=%22Th%22 - 200 null application/json; charset=utf-8 23717.3944ms
2025-09-23 16:03:33.926 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:03:33.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 6.3275ms
2025-09-23 16:03:33.934 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:03:33.941 +03:00 [INF] Serving response from cache.
2025-09-23 16:03:33.943 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 8.9486ms
2025-09-23 16:03:36.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:03:36.244 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 6.2856ms
2025-09-23 16:03:36.246 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:03:36.256 +03:00 [INF] Serving response from cache.
2025-09-23 16:03:36.259 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 12.1768ms
2025-09-23 16:03:37.542 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:03:37.546 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 4.6306ms
2025-09-23 16:03:37.548 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:03:37.552 +03:00 [INF] Serving response from cache.
2025-09-23 16:03:37.554 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 5.7248ms
2025-09-23 16:03:52.087 +03:00 [INF] Starting database seeding.
2025-09-23 16:03:52.354 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 16:03:53.574 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:03:53.634 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:03:53.637 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:03:53.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:03:53.682 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:03:53.686 +03:00 [INF] Database seeding finished successfully.
2025-09-23 16:03:53.973 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 16:03:53.975 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 16:03:54.065 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 16:03:54.068 +03:00 [INF] Hosting environment: Development
2025-09-23 16:03:54.069 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 16:04:07.869 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:04:07.966 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 111.8153ms
2025-09-23 16:04:08.028 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:04:08.107 +03:00 [INF] No cached response available for this request.
2025-09-23 16:04:08.141 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:04:08.147 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:04:08.149 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:04:08.153 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:04:08.154 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:04:08.156 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:04:08.247 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:04:08.252 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:04:08.307 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:04:08.719 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:04:09.045 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:04:09.240 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:04:09.354 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:04:09.383 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 961.8162ms
2025-09-23 16:04:09.387 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:04:09.389 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:04:09.393 +03:00 [INF] Generating expiration headers.
2025-09-23 16:04:09.396 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:05:09 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:04:09.402 +03:00 [INF] Generating Validation headers.
2025-09-23 16:04:09.424 +03:00 [INF] Validation headers generated. ETag: Strong, "C1351DFC480A2D1B23CE3AE8F7390113". Last-Modified: Tue, 23 Sep 2025 13:04:09 GMT
2025-09-23 16:04:09.428 +03:00 [INF] Generating Vary header.
2025-09-23 16:04:09.430 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:04:09.440 +03:00 [INF] The response has been cached.
2025-09-23 16:04:09.451 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 1423.7503ms
2025-09-23 16:04:15.224 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:04:15.231 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 6.4499ms
2025-09-23 16:04:15.233 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:04:15.239 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:15.241 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 8.4408ms
2025-09-23 16:04:37.132 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:04:37.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 6.1035ms
2025-09-23 16:04:37.171 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:04:37.180 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:37.182 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 12.1009ms
2025-09-23 16:04:39.393 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:04:39.398 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 4.2207ms
2025-09-23 16:04:39.399 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:04:39.404 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:39.405 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 6.5755ms
2025-09-23 16:04:42.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:04:42.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.6673ms
2025-09-23 16:04:42.244 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:04:42.251 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:42.253 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 9.4649ms
2025-09-23 16:04:52.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:52.854 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 3.6667ms
2025-09-23 16:04:52.856 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:52.862 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:52.864 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 7.6227ms
2025-09-23 16:04:53.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:53.999 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 5.7458ms
2025-09-23 16:04:54.001 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:54.007 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:54.009 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 8.4721ms
2025-09-23 16:04:54.984 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:54.989 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 4.7921ms
2025-09-23 16:04:54.991 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:55.000 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:55.002 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 10.8538ms
2025-09-23 16:04:55.916 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:55.919 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 3.4587ms
2025-09-23 16:04:55.921 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:04:55.926 +03:00 [INF] Serving response from cache.
2025-09-23 16:04:55.928 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 6.736ms
2025-09-23 16:05:26.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=An - null null
2025-09-23 16:05:26.404 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=An - 307 0 null 7.7792ms
2025-09-23 16:05:26.406 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=An - null null
2025-09-23 16:05:26.416 +03:00 [INF] No cached response available for this request.
2025-09-23 16:05:26.418 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:05:26.419 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:05:26.420 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:05:26.421 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:05:26.422 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:05:26.423 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:05:26.425 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:05:26.426 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:05:26.428 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:05:26.434 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:05:26.449 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:05:26.457 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:05:26.468 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:05:26.471 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 39.6651ms
2025-09-23 16:05:26.474 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:05:26.475 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:05:26.476 +03:00 [INF] Generating expiration headers.
2025-09-23 16:05:26.477 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:06:26 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:05:26.478 +03:00 [INF] Generating Validation headers.
2025-09-23 16:05:26.480 +03:00 [INF] Validation headers generated. ETag: Strong, "C47EA7F47F86D7581D8158CFFCFFDC58". Last-Modified: Tue, 23 Sep 2025 13:05:26 GMT
2025-09-23 16:05:26.483 +03:00 [INF] Generating Vary header.
2025-09-23 16:05:26.485 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:05:26.488 +03:00 [INF] The response has been cached.
2025-09-23 16:05:26.490 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=An - 200 null application/json; charset=utf-8 84.6709ms
2025-09-23 16:05:42.943 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:42.948 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 5.0685ms
2025-09-23 16:05:42.949 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:42.957 +03:00 [INF] Serving response from cache.
2025-09-23 16:05:42.958 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 8.454ms
2025-09-23 16:05:44.310 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:44.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 4.9432ms
2025-09-23 16:05:44.316 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:44.323 +03:00 [INF] Serving response from cache.
2025-09-23 16:05:44.324 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 8.5459ms
2025-09-23 16:05:45.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:45.270 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.947ms
2025-09-23 16:05:45.271 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:45.277 +03:00 [INF] Serving response from cache.
2025-09-23 16:05:45.281 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 9.9376ms
2025-09-23 16:05:46.460 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:46.464 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 4.5774ms
2025-09-23 16:05:46.465 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:46.471 +03:00 [INF] Serving response from cache.
2025-09-23 16:05:46.472 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 7.0345ms
2025-09-23 16:05:47.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:47.445 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 4.4899ms
2025-09-23 16:05:47.446 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:47.453 +03:00 [INF] Serving response from cache.
2025-09-23 16:05:47.455 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 8.9347ms
2025-09-23 16:05:48.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:48.534 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.5741ms
2025-09-23 16:05:48.535 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:48.541 +03:00 [INF] Serving response from cache.
2025-09-23 16:05:48.543 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 7.8801ms
2025-09-23 16:05:49.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:49.888 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 4.432ms
2025-09-23 16:05:49.890 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:05:49.898 +03:00 [INF] Serving response from cache.
2025-09-23 16:05:49.900 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 10.1953ms
2025-09-23 16:06:47.539 +03:00 [INF] Starting database seeding.
2025-09-23 16:06:47.802 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 16:06:49.221 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:06:49.284 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:06:49.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:06:49.300 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:06:49.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:06:49.346 +03:00 [INF] Database seeding finished successfully.
2025-09-23 16:06:49.645 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 16:06:49.647 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 16:06:49.745 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 16:06:49.748 +03:00 [INF] Hosting environment: Development
2025-09-23 16:06:49.751 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 16:06:52.717 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:06:52.787 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 78.1541ms
2025-09-23 16:06:52.827 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:06:52.836 +03:00 [INF] No cached response available for this request.
2025-09-23 16:06:52.849 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:06:52.853 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:06:52.854 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:06:52.857 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:06:52.859 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:06:52.860 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:06:52.927 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:06:52.932 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:06:52.961 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:06:53.113 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:06:53.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:06:53.328 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:06:53.374 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:06:53.392 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 422.6194ms
2025-09-23 16:06:53.396 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:06:53.398 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:06:53.401 +03:00 [INF] Generating expiration headers.
2025-09-23 16:06:53.404 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:07:53 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-23 16:06:53.407 +03:00 [INF] Generating Validation headers.
2025-09-23 16:06:53.419 +03:00 [INF] Validation headers generated. ETag: Strong, "F935E2D7C555C662148D255554BE9615". Last-Modified: Tue, 23 Sep 2025 13:06:53 GMT
2025-09-23 16:06:53.422 +03:00 [INF] Generating Vary header.
2025-09-23 16:06:53.424 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:06:53.433 +03:00 [INF] The response has been cached.
2025-09-23 16:06:53.441 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 614.002ms
2025-09-23 16:06:58.123 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:06:58.129 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 5.9622ms
2025-09-23 16:06:58.132 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:06:58.141 +03:00 [INF] Serving response from cache.
2025-09-23 16:06:58.143 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 11.7764ms
2025-09-23 16:06:59.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:06:59.514 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 7.1599ms
2025-09-23 16:06:59.516 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:06:59.524 +03:00 [INF] Serving response from cache.
2025-09-23 16:06:59.526 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 10.1165ms
2025-09-23 16:07:00.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:07:00.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 5.5123ms
2025-09-23 16:07:00.827 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:07:00.834 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:00.836 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 8.8917ms
2025-09-23 16:07:08.319 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=An - null null
2025-09-23 16:07:08.323 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=An - 307 0 null 4.6939ms
2025-09-23 16:07:08.325 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=An - null null
2025-09-23 16:07:08.331 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:08.333 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=An - 200 null application/json; charset=utf-8 7.4727ms
2025-09-23 16:07:14.083 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:14.089 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 6.1914ms
2025-09-23 16:07:14.090 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:14.097 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:14.098 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 7.5802ms
2025-09-23 16:07:15.811 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:15.815 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 3.6116ms
2025-09-23 16:07:15.816 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:15.823 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:15.826 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 9.605ms
2025-09-23 16:07:16.747 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:16.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 5.8296ms
2025-09-23 16:07:16.754 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:16.762 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:16.764 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 9.4221ms
2025-09-23 16:07:17.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:17.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 5.2056ms
2025-09-23 16:07:17.538 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:17.550 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:17.552 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 14.0981ms
2025-09-23 16:07:53.561 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:53.568 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 7.6818ms
2025-09-23 16:07:53.570 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:53.582 +03:00 [INF] No cached response available for this request.
2025-09-23 16:07:53.582 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:07:53.583 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:07:53.584 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:07:53.586 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:07:53.586 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:07:53.588 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:07:53.591 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:07:53.593 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:07:53.594 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:07:53.600 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:07:53.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:07:53.623 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:07:53.632 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:07:53.635 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 38.2965ms
2025-09-23 16:07:53.639 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:07:53.642 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:07:53.644 +03:00 [INF] Generating expiration headers.
2025-09-23 16:07:53.645 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:08:53 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-23 16:07:53.646 +03:00 [INF] Generating Validation headers.
2025-09-23 16:07:53.648 +03:00 [INF] Validation headers generated. ETag: Strong, "C1351DFC480A2D1B23CE3AE8F7390113". Last-Modified: Tue, 23 Sep 2025 13:07:53 GMT
2025-09-23 16:07:53.649 +03:00 [INF] Generating Vary header.
2025-09-23 16:07:53.650 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:07:53.651 +03:00 [INF] The response has been cached.
2025-09-23 16:07:53.654 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 84.1158ms
2025-09-23 16:07:54.952 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:54.956 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 4.2613ms
2025-09-23 16:07:54.958 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:54.965 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:54.966 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 8.0067ms
2025-09-23 16:07:55.995 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:55.999 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 3.6577ms
2025-09-23 16:07:56.000 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:56.010 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:56.011 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 11.3139ms
2025-09-23 16:07:57.790 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:57.795 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 4.4665ms
2025-09-23 16:07:57.796 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:57.802 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:57.804 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 7.9354ms
2025-09-23 16:07:58.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:59.000 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 6.8099ms
2025-09-23 16:07:59.001 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:07:59.007 +03:00 [INF] Serving response from cache.
2025-09-23 16:07:59.009 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 8.3428ms
2025-09-23 16:08:13.792 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:13.796 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 3.5273ms
2025-09-23 16:08:13.798 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:13.805 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:13.806 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 8.1168ms
2025-09-23 16:08:19.377 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:19.382 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 4.6481ms
2025-09-23 16:08:19.383 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:19.390 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:19.391 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 7.5886ms
2025-09-23 16:08:20.672 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:20.675 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 3.5883ms
2025-09-23 16:08:20.677 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:20.688 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:20.689 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 12.3271ms
2025-09-23 16:08:21.219 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:21.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 4.403ms
2025-09-23 16:08:21.224 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:21.230 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:21.232 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 8.1674ms
2025-09-23 16:08:23.034 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:23.038 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 3.4969ms
2025-09-23 16:08:23.039 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:23.045 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:23.047 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 8.0825ms
2025-09-23 16:08:23.566 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:23.570 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 3.9362ms
2025-09-23 16:08:23.572 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:23.580 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:23.582 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 10.0409ms
2025-09-23 16:08:24.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:24.924 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 3.1927ms
2025-09-23 16:08:24.925 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:24.935 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:24.936 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 11.1327ms
2025-09-23 16:08:26.290 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:26.296 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 5.6675ms
2025-09-23 16:08:26.297 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:26.305 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:26.306 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 8.6245ms
2025-09-23 16:08:28.229 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:28.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 4.767ms
2025-09-23 16:08:28.236 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:28.242 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:28.244 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 8.1624ms
2025-09-23 16:08:29.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:29.285 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 4.9113ms
2025-09-23 16:08:29.286 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:08:29.292 +03:00 [INF] Serving response from cache.
2025-09-23 16:08:29.293 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 7.3365ms
2025-09-23 16:09:10.246 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:09:10.254 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Fa - 307 0 null 8.0646ms
2025-09-23 16:09:10.256 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - null null
2025-09-23 16:09:10.266 +03:00 [INF] No cached response available for this request.
2025-09-23 16:09:10.268 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:09:10.268 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:09:10.270 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:09:10.271 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:09:10.272 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:09:10.273 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:09:10.276 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:09:10.278 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:09:10.280 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:09:10.289 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:09:10.295 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:09:10.302 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:09:10.314 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:09:10.317 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 33.8869ms
2025-09-23 16:09:10.319 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:09:10.321 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:09:10.322 +03:00 [INF] Generating expiration headers.
2025-09-23 16:09:10.323 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:10:10 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-23 16:09:10.325 +03:00 [INF] Generating Validation headers.
2025-09-23 16:09:10.326 +03:00 [INF] Validation headers generated. ETag: Strong, "6C5622F3B523B799147D8CCB545E3A40". Last-Modified: Tue, 23 Sep 2025 13:09:10 GMT
2025-09-23 16:09:10.327 +03:00 [INF] Generating Vary header.
2025-09-23 16:09:10.329 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:09:10.330 +03:00 [INF] The response has been cached.
2025-09-23 16:09:10.332 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Fa - 200 null application/json; charset=utf-8 76.325ms
2025-09-23 16:09:17.817 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:09:17.820 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 3.4774ms
2025-09-23 16:09:17.821 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:09:17.828 +03:00 [INF] Serving response from cache.
2025-09-23 16:09:17.830 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 8.638ms
2025-09-23 16:13:48.508 +03:00 [INF] Starting database seeding.
2025-09-23 16:13:49.641 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 16:13:51.184 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:13:51.247 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:13:51.251 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:13:51.265 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:13:51.302 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:13:51.307 +03:00 [INF] Database seeding finished successfully.
2025-09-23 16:13:51.672 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 16:13:51.674 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 16:13:51.771 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 16:13:51.774 +03:00 [INF] Hosting environment: Development
2025-09-23 16:13:51.776 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 16:14:11.019 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:14:11.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=Th - 307 0 null 81.5147ms
2025-09-23 16:14:11.140 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - null null
2025-09-23 16:14:11.149 +03:00 [INF] No cached response available for this request.
2025-09-23 16:14:11.161 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:14:11.165 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:14:11.166 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:14:11.168 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:14:11.169 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:14:11.171 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:14:11.245 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:14:11.248 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:14:11.271 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:14:11.413 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:14:11.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:14:11.629 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:14:11.675 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:14:11.692 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 411.6117ms
2025-09-23 16:14:11.696 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:14:11.697 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:14:11.701 +03:00 [INF] Generating expiration headers.
2025-09-23 16:14:11.703 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:15:11 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-23 16:14:11.707 +03:00 [INF] Generating Validation headers.
2025-09-23 16:14:11.720 +03:00 [INF] Validation headers generated. ETag: Strong, "C1351DFC480A2D1B23CE3AE8F7390113". Last-Modified: Tue, 23 Sep 2025 13:14:11 GMT
2025-09-23 16:14:11.724 +03:00 [INF] Generating Vary header.
2025-09-23 16:14:11.725 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:14:11.732 +03:00 [INF] The response has been cached.
2025-09-23 16:14:11.737 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=Th - 200 null application/json; charset=utf-8 597.4414ms
2025-09-23 16:14:20.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:20.973 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 5.5339ms
2025-09-23 16:14:20.976 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:20.982 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:20.983 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 7.2182ms
2025-09-23 16:14:24.911 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:24.915 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 4.2066ms
2025-09-23 16:14:24.918 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:24.926 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:24.927 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 9.131ms
2025-09-23 16:14:26.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:26.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.4772ms
2025-09-23 16:14:26.143 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:26.147 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:26.149 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 5.431ms
2025-09-23 16:14:27.194 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:27.197 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.3145ms
2025-09-23 16:14:27.201 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:27.208 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:27.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 8.5496ms
2025-09-23 16:14:28.221 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:28.225 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.3947ms
2025-09-23 16:14:28.226 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:28.231 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:28.233 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 6.9479ms
2025-09-23 16:14:29.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:29.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.266ms
2025-09-23 16:14:29.346 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:29.352 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:29.353 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 7.2601ms
2025-09-23 16:14:30.475 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:30.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 4.134ms
2025-09-23 16:14:30.480 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:30.485 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:30.487 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 6.9218ms
2025-09-23 16:14:32.487 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:32.491 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 3.8293ms
2025-09-23 16:14:32.492 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:14:32.496 +03:00 [INF] Serving response from cache.
2025-09-23 16:14:32.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 5.9565ms
2025-09-23 16:15:33.364 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:15:33.372 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=fa - 307 0 null 7.7749ms
2025-09-23 16:15:33.374 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - null null
2025-09-23 16:15:33.380 +03:00 [INF] No cached response available for this request.
2025-09-23 16:15:33.381 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:15:33.383 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:15:33.384 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:15:33.385 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:15:33.386 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:15:33.387 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:15:33.389 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:15:33.390 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:15:33.392 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:15:33.399 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:15:33.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:15:33.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:15:33.429 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:15:33.432 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 35.4559ms
2025-09-23 16:15:33.434 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:15:33.436 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:15:33.437 +03:00 [INF] Generating expiration headers.
2025-09-23 16:15:33.438 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:16:33 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-23 16:15:33.440 +03:00 [INF] Generating Validation headers.
2025-09-23 16:15:33.441 +03:00 [INF] Validation headers generated. ETag: Strong, "F935E2D7C555C662148D255554BE9615". Last-Modified: Tue, 23 Sep 2025 13:15:33 GMT
2025-09-23 16:15:33.443 +03:00 [INF] Generating Vary header.
2025-09-23 16:15:33.445 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:15:33.448 +03:00 [INF] The response has been cached.
2025-09-23 16:15:33.451 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=fa - 200 null application/json; charset=utf-8 77.1714ms
2025-09-23 16:15:46.509 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:46.513 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - 307 0 null 3.8952ms
2025-09-23 16:15:46.515 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:46.520 +03:00 [INF] Serving response from cache.
2025-09-23 16:15:46.521 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - 200 null application/json; charset=utf-8 6.4777ms
2025-09-23 16:15:56.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:56.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - 307 0 null 4.3309ms
2025-09-23 16:15:56.815 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:56.822 +03:00 [INF] Serving response from cache.
2025-09-23 16:15:56.823 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - 200 null application/json; charset=utf-8 8.8412ms
2025-09-23 16:15:57.776 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:57.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - 307 0 null 4.3993ms
2025-09-23 16:15:57.782 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:57.787 +03:00 [INF] Serving response from cache.
2025-09-23 16:15:57.788 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - 200 null application/json; charset=utf-8 6.575ms
2025-09-23 16:15:58.708 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:58.712 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - 307 0 null 4.1317ms
2025-09-23 16:15:58.713 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:15:58.719 +03:00 [INF] Serving response from cache.
2025-09-23 16:15:58.721 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - 200 null application/json; charset=utf-8 7.5758ms
2025-09-23 16:16:00.559 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:16:00.562 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - 307 0 null 3.0126ms
2025-09-23 16:16:00.563 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:16:00.568 +03:00 [INF] Serving response from cache.
2025-09-23 16:16:00.570 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - 200 null application/json; charset=utf-8 7.3735ms
2025-09-23 16:16:50.998 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:16:51.005 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - 307 0 null 8.4773ms
2025-09-23 16:16:51.007 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:16:51.015 +03:00 [INF] No cached response available for this request.
2025-09-23 16:16:51.017 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:16:51.018 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:16:51.020 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:16:51.022 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:16:51.023 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:16:51.024 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:16:51.027 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:16:51.028 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:16:51.031 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:16:51.047 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:16:51.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:16:51.060 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:18:36.585 +03:00 [INF] Starting database seeding.
2025-09-23 16:18:36.798 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 16:18:37.942 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:18:38.000 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:18:38.004 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-23 16:18:38.015 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:18:38.047 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-23 16:18:38.057 +03:00 [INF] Database seeding finished successfully.
2025-09-23 16:18:38.343 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-23 16:18:38.346 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-23 16:18:38.433 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 16:18:38.435 +03:00 [INF] Hosting environment: Development
2025-09-23 16:18:38.436 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-23 16:18:45.083 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:18:45.144 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=ad - 307 0 null 68.703ms
2025-09-23 16:18:45.188 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - null null
2025-09-23 16:18:45.199 +03:00 [INF] No cached response available for this request.
2025-09-23 16:18:45.209 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:18:45.213 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:18:45.215 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:18:45.218 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:18:45.219 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:18:45.220 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:18:45.275 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:18:45.278 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:18:45.300 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:18:45.432 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:18:45.579 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:18:45.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:18:45.695 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:18:45.710 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 402.3073ms
2025-09-23 16:18:45.713 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:18:45.717 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:18:45.723 +03:00 [INF] Generating expiration headers.
2025-09-23 16:18:45.725 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:19:45 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-23 16:18:45.727 +03:00 [INF] Generating Validation headers.
2025-09-23 16:18:45.742 +03:00 [INF] Validation headers generated. ETag: Strong, "00DA0DC1DBF18FB04E8A435AA8846B11". Last-Modified: Tue, 23 Sep 2025 13:18:45 GMT
2025-09-23 16:18:45.745 +03:00 [INF] Generating Vary header.
2025-09-23 16:18:45.748 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:18:45.756 +03:00 [INF] The response has been cached.
2025-09-23 16:18:45.761 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=ad - 200 null application/json; charset=utf-8 573.1813ms
2025-09-23 16:19:06.452 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:06.462 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - 307 0 null 9.081ms
2025-09-23 16:19:06.470 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:06.480 +03:00 [INF] Serving response from cache.
2025-09-23 16:19:06.481 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - 200 null application/json; charset=utf-8 10.9674ms
2025-09-23 16:19:09.828 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:09.832 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - 307 0 null 4.3282ms
2025-09-23 16:19:09.834 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:09.840 +03:00 [INF] Serving response from cache.
2025-09-23 16:19:09.842 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - 200 null application/json; charset=utf-8 8.1471ms
2025-09-23 16:19:11.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:11.065 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - 307 0 null 3.8957ms
2025-09-23 16:19:11.066 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:11.072 +03:00 [INF] Serving response from cache.
2025-09-23 16:19:11.073 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - 200 null application/json; charset=utf-8 6.8617ms
2025-09-23 16:19:11.942 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:11.946 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - 307 0 null 3.4066ms
2025-09-23 16:19:11.947 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:11.953 +03:00 [INF] Serving response from cache.
2025-09-23 16:19:11.955 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - 200 null application/json; charset=utf-8 8.1379ms
2025-09-23 16:19:46.214 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:46.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=alosh - 307 0 null 9.6532ms
2025-09-23 16:19:46.225 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - null null
2025-09-23 16:19:46.236 +03:00 [INF] No cached response available for this request.
2025-09-23 16:19:46.237 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:19:46.239 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:19:46.240 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:19:46.241 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:19:46.242 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:19:46.244 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:19:46.246 +03:00 [INF] Incomming Request: GET /api/Books/search
2025-09-23 16:19:46.248 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:19:46.250 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:19:46.256 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-23 16:19:46.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-23 16:19:46.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:19:46.293 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:19:46.296 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 42.5993ms
2025-09-23 16:19:46.298 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-23 16:19:46.299 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:19:46.300 +03:00 [INF] Generating expiration headers.
2025-09-23 16:19:46.302 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:20:46 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-23 16:19:46.303 +03:00 [INF] Generating Validation headers.
2025-09-23 16:19:46.305 +03:00 [INF] Validation headers generated. ETag: Strong, "F0F25AFE80FA4530E77BE19769001051". Last-Modified: Tue, 23 Sep 2025 13:19:46 GMT
2025-09-23 16:19:46.306 +03:00 [INF] Generating Vary header.
2025-09-23 16:19:46.307 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:19:46.308 +03:00 [INF] The response has been cached.
2025-09-23 16:19:46.310 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=alosh - 200 null application/json; charset=utf-8 84.8343ms
2025-09-23 16:19:57.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:19:57.274 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 4.2119ms
2025-09-23 16:19:57.275 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:19:57.281 +03:00 [INF] Serving response from cache.
2025-09-23 16:19:57.283 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 8.318ms
2025-09-23 16:20:05.037 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:05.041 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 4.2063ms
2025-09-23 16:20:05.042 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:05.047 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:05.048 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 6.2748ms
2025-09-23 16:20:06.158 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:06.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 6.4192ms
2025-09-23 16:20:06.165 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:06.170 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:06.172 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 7.0382ms
2025-09-23 16:20:07.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:07.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 3.461ms
2025-09-23 16:20:07.120 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:07.127 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:07.128 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 7.3466ms
2025-09-23 16:20:07.892 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:07.895 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 3.3441ms
2025-09-23 16:20:07.896 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:07.901 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:07.904 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 7.4012ms
2025-09-23 16:20:08.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:08.746 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 4.4715ms
2025-09-23 16:20:08.748 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:08.754 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:08.756 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 7.9407ms
2025-09-23 16:20:09.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:09.400 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 3.7532ms
2025-09-23 16:20:09.402 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:09.408 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:09.410 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 8.1148ms
2025-09-23 16:20:09.975 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:09.979 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 3.7398ms
2025-09-23 16:20:09.980 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:09.987 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:09.989 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 8.2314ms
2025-09-23 16:20:10.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:10.510 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 3.2606ms
2025-09-23 16:20:10.511 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:10.516 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:10.518 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 6.8053ms
2025-09-23 16:20:10.980 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:10.986 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 5.4313ms
2025-09-23 16:20:10.987 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:10.993 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:10.994 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 6.8561ms
2025-09-23 16:20:11.480 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:11.483 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 2.9246ms
2025-09-23 16:20:11.484 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:11.491 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:11.492 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 8.0901ms
2025-09-23 16:20:11.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:11.934 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 3.2062ms
2025-09-23 16:20:11.935 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:11.941 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:11.942 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 6.4488ms
2025-09-23 16:20:12.864 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:12.869 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 4.6617ms
2025-09-23 16:20:12.870 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:12.875 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:12.876 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 6.3555ms
2025-09-23 16:20:14.029 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:14.032 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 2.849ms
2025-09-23 16:20:14.032 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:14.038 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:14.039 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 6.5161ms
2025-09-23 16:20:14.842 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:14.846 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 4.2462ms
2025-09-23 16:20:14.847 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:14.852 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:14.853 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 6.0499ms
2025-09-23 16:20:15.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:15.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/search?SearchTerm=a - 307 0 null 3.7619ms
2025-09-23 16:20:15.591 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - null null
2025-09-23 16:20:15.596 +03:00 [INF] Serving response from cache.
2025-09-23 16:20:15.597 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/search?SearchTerm=a - 200 null application/json; charset=utf-8 5.7533ms
2025-09-23 16:24:29.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/1 - null null
2025-09-23 16:24:29.151 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/1 - 307 0 null 7.8523ms
2025-09-23 16:24:29.152 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/1 - null null
2025-09-23 16:24:29.159 +03:00 [INF] No cached response available for this request.
2025-09-23 16:24:29.162 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:24:29.163 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:24:29.165 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:24:29.167 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:24:29.168 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:24:29.170 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:24:29.174 +03:00 [INF] Incomming Request: GET /api/Books/1
2025-09-23 16:24:29.175 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:24:29.182 +03:00 [INF] Route matched with {action = "GetById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:24:29.199 +03:00 [INF] Executing an action GetById on controller Books.
2025-09-23 16:24:29.232 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:24:29.253 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:24:29.263 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API) in 75.0412ms
2025-09-23 16:24:29.266 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:24:29.270 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:24:29.272 +03:00 [INF] Generating expiration headers.
2025-09-23 16:24:29.274 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:25:29 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:24:29.275 +03:00 [INF] Generating Validation headers.
2025-09-23 16:24:29.278 +03:00 [INF] Validation headers generated. ETag: Strong, "66E17EE2F449A17F662B58EE48EDCDD4". Last-Modified: Tue, 23 Sep 2025 13:24:29 GMT
2025-09-23 16:24:29.280 +03:00 [INF] Generating Vary header.
2025-09-23 16:24:29.282 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:24:29.284 +03:00 [INF] The response has been cached.
2025-09-23 16:24:29.287 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/1 - 200 null application/json; charset=utf-8 135.2344ms
2025-09-23 16:24:34.784 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/2 - null null
2025-09-23 16:24:34.788 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/2 - 307 0 null 3.759ms
2025-09-23 16:24:34.789 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/2 - null null
2025-09-23 16:24:34.794 +03:00 [INF] No cached response available for this request.
2025-09-23 16:24:34.796 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:24:34.797 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:24:34.798 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:24:34.800 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:24:34.801 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:24:34.801 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:24:34.803 +03:00 [INF] Incomming Request: GET /api/Books/2
2025-09-23 16:24:34.805 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:24:34.806 +03:00 [INF] Route matched with {action = "GetById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:24:34.809 +03:00 [INF] Executing an action GetById on controller Books.
2025-09-23 16:24:34.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:24:34.820 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:24:34.822 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API) in 13.4062ms
2025-09-23 16:24:34.824 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:24:34.825 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:24:34.826 +03:00 [INF] Generating expiration headers.
2025-09-23 16:24:34.827 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:25:34 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:24:34.829 +03:00 [INF] Generating Validation headers.
2025-09-23 16:24:34.831 +03:00 [INF] Validation headers generated. ETag: Strong, "13BA9ADECCA124CDF100D6B317EDFFD9". Last-Modified: Tue, 23 Sep 2025 13:24:34 GMT
2025-09-23 16:24:34.832 +03:00 [INF] Generating Vary header.
2025-09-23 16:24:34.833 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:24:34.835 +03:00 [INF] The response has been cached.
2025-09-23 16:24:34.836 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/2 - 200 null application/json; charset=utf-8 47.3966ms
2025-09-23 16:24:41.332 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/4 - null null
2025-09-23 16:24:41.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/4 - 307 0 null 3.7558ms
2025-09-23 16:24:41.337 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/4 - null null
2025-09-23 16:24:41.343 +03:00 [INF] No cached response available for this request.
2025-09-23 16:24:41.344 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:24:41.345 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:24:41.346 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:24:41.348 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:24:41.350 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:24:41.351 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:24:41.352 +03:00 [INF] Incomming Request: GET /api/Books/4
2025-09-23 16:24:41.353 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:24:41.355 +03:00 [INF] Route matched with {action = "GetById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:24:41.358 +03:00 [INF] Executing an action GetById on controller Books.
2025-09-23 16:24:41.361 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:24:41.368 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:24:41.370 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API) in 12.6487ms
2025-09-23 16:24:41.372 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:24:41.374 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:24:41.375 +03:00 [INF] Generating expiration headers.
2025-09-23 16:24:41.376 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:25:41 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:24:41.377 +03:00 [INF] Generating Validation headers.
2025-09-23 16:24:41.379 +03:00 [INF] Validation headers generated. ETag: Strong, "DF1CB431A313B53DDC5F160BE84E4EDA". Last-Modified: Tue, 23 Sep 2025 13:24:41 GMT
2025-09-23 16:24:41.380 +03:00 [INF] Generating Vary header.
2025-09-23 16:24:41.381 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:24:41.383 +03:00 [INF] The response has been cached.
2025-09-23 16:24:41.384 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/4 - 200 null application/json; charset=utf-8 47.116ms
2025-09-23 16:24:48.411 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/1 - null null
2025-09-23 16:24:48.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/1 - 307 0 null 3.8082ms
2025-09-23 16:24:48.416 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/1 - null null
2025-09-23 16:24:48.421 +03:00 [INF] Serving response from cache.
2025-09-23 16:24:48.422 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/1 - 200 null application/json; charset=utf-8 6.1431ms
2025-09-23 16:24:52.349 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/1 - null null
2025-09-23 16:24:52.352 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/1 - 307 0 null 2.9036ms
2025-09-23 16:24:52.354 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/1 - null null
2025-09-23 16:24:52.360 +03:00 [INF] Serving response from cache.
2025-09-23 16:24:52.361 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/1 - 200 null application/json; charset=utf-8 6.5215ms
2025-09-23 16:24:53.617 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/1 - null null
2025-09-23 16:24:53.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/1 - 307 0 null 3.1789ms
2025-09-23 16:24:53.621 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/1 - null null
2025-09-23 16:24:53.627 +03:00 [INF] Serving response from cache.
2025-09-23 16:24:53.628 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/1 - 200 null application/json; charset=utf-8 6.8145ms
2025-09-23 16:24:54.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/1 - null null
2025-09-23 16:24:54.710 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/1 - 307 0 null 5.8165ms
2025-09-23 16:24:54.711 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/1 - null null
2025-09-23 16:24:54.715 +03:00 [INF] Serving response from cache.
2025-09-23 16:24:54.717 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/1 - 200 null application/json; charset=utf-8 5.9865ms
2025-09-23 16:25:00.083 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/2 - null null
2025-09-23 16:25:00.106 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/2 - 307 0 null 23.4649ms
2025-09-23 16:25:00.109 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/2 - null null
2025-09-23 16:25:00.117 +03:00 [INF] Serving response from cache.
2025-09-23 16:25:00.119 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/2 - 200 null application/json; charset=utf-8 10.1558ms
2025-09-23 16:25:02.746 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/3 - null null
2025-09-23 16:25:02.752 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/3 - 307 0 null 6.1807ms
2025-09-23 16:25:02.754 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/3 - null null
2025-09-23 16:25:02.763 +03:00 [INF] No cached response available for this request.
2025-09-23 16:25:02.764 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-23 16:25:02.765 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-23 16:25:02.766 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-23 16:25:02.767 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-23 16:25:02.768 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-23 16:25:02.770 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-23 16:25:02.771 +03:00 [INF] Incomming Request: GET /api/Books/3
2025-09-23 16:25:02.773 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:25:02.776 +03:00 [INF] Route matched with {action = "GetById", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-23 16:25:02.780 +03:00 [INF] Executing an action GetById on controller Books.
2025-09-23 16:25:02.783 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[AuthorsId], [b0].[BooksId], [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-23 16:25:02.794 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 16:25:02.798 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API) in 18.1047ms
2025-09-23 16:25:02.800 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetById (LibraryManagementSystem.API)'
2025-09-23 16:25:02.801 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-23 16:25:02.804 +03:00 [INF] Generating expiration headers.
2025-09-23 16:25:02.805 +03:00 [INF] Expiration headers generated. Expires: Tue, 23 Sep 2025 13:26:02 GMT. Cache-Control: public,max-age=60.
2025-09-23 16:25:02.807 +03:00 [INF] Generating Validation headers.
2025-09-23 16:25:02.809 +03:00 [INF] Validation headers generated. ETag: Strong, "04E37E5A57CCF470D6243FCF08EECBCD". Last-Modified: Tue, 23 Sep 2025 13:25:02 GMT
2025-09-23 16:25:02.811 +03:00 [INF] Generating Vary header.
2025-09-23 16:25:02.812 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-23 16:25:02.813 +03:00 [INF] The response has been cached.
2025-09-23 16:25:02.815 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/3 - 200 null application/json; charset=utf-8 60.8046ms
