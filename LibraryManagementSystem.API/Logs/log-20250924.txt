2025-09-24 08:29:07.032 +03:00 [INF] Starting database seeding.
2025-09-24 08:29:09.218 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 08:29:15.151 +03:00 [INF] Executed DbCommand (504ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:29:15.393 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:29:15.405 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:29:15.441 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:29:15.544 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:29:15.558 +03:00 [INF] Database seeding finished successfully.
2025-09-24 08:29:17.181 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 08:29:17.189 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 08:29:17.766 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 08:29:17.773 +03:00 [INF] Hosting environment: Development
2025-09-24 08:29:17.782 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 08:30:00.678 +03:00 [INF] Starting database seeding.
2025-09-24 08:30:01.376 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 08:30:03.901 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:30:04.071 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:30:04.084 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:30:04.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:30:04.162 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:30:04.170 +03:00 [INF] Database seeding finished successfully.
2025-09-24 08:30:04.819 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 08:30:04.825 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 08:30:05.091 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 08:30:05.094 +03:00 [INF] Hosting environment: Development
2025-09-24 08:30:05.098 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 08:30:10.609 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=Fa - null null
2025-09-24 08:30:10.759 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=Fa - 307 0 null 160.1086ms
2025-09-24 08:30:10.841 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=Fa - null null
2025-09-24 08:30:10.861 +03:00 [INF] No cached response available for this request.
2025-09-24 08:30:10.883 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:30:10.893 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:30:10.895 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:30:10.902 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:30:10.905 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:30:10.910 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:30:15.047 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:30:15.068 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:30:15.136 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:30:15.525 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-24 08:30:15.872 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-24 08:30:16.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-24 08:30:16.135 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:30:16.162 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 1012.3082ms
2025-09-24 08:30:16.168 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:30:16.171 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:30:16.177 +03:00 [INF] Generating expiration headers.
2025-09-24 08:30:16.180 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:31:16 GMT. Cache-Control: public,max-age=60.
2025-09-24 08:30:16.185 +03:00 [INF] Generating Validation headers.
2025-09-24 08:30:16.204 +03:00 [INF] Validation headers generated. ETag: Strong, "EFEE5465E55CA3ECD7ADC17EE108CD03". Last-Modified: Wed, 24 Sep 2025 05:30:16 GMT
2025-09-24 08:30:16.208 +03:00 [INF] Generating Vary header.
2025-09-24 08:30:16.209 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:30:16.222 +03:00 [INF] The response has been cached.
2025-09-24 08:30:16.231 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=Fa - 200 null application/json; charset=utf-8 5389.8127ms
2025-09-24 08:30:35.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=th - null null
2025-09-24 08:30:35.542 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=th - 307 0 null 19.0288ms
2025-09-24 08:30:35.548 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=th - null null
2025-09-24 08:30:35.584 +03:00 [INF] Serving response from cache.
2025-09-24 08:30:35.591 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=th - 200 null application/json; charset=utf-8 42.1891ms
2025-09-24 08:34:08.284 +03:00 [INF] Starting database seeding.
2025-09-24 08:34:08.832 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 08:34:11.197 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:34:11.315 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:34:11.320 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:34:11.338 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:34:11.393 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:34:11.400 +03:00 [INF] Database seeding finished successfully.
2025-09-24 08:34:12.042 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 08:34:12.046 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 08:34:12.182 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 08:34:12.185 +03:00 [INF] Hosting environment: Development
2025-09-24 08:34:12.187 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 08:34:20.142 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:34:20.243 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - 307 0 null 110.2414ms
2025-09-24 08:34:20.300 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:34:20.382 +03:00 [INF] No cached response available for this request.
2025-09-24 08:34:20.409 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:34:20.416 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:34:20.419 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:34:20.426 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:34:20.429 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:34:20.432 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:34:20.564 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:34:20.577 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:34:20.683 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:34:21.096 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-24 08:34:21.138 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 414.5372ms
2025-09-24 08:34:21.154 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:35:55.905 +03:00 [INF] Starting database seeding.
2025-09-24 08:35:56.825 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 08:35:59.628 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:35:59.749 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:35:59.757 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:35:59.777 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:35:59.832 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:35:59.842 +03:00 [INF] Database seeding finished successfully.
2025-09-24 08:36:00.333 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 08:36:00.339 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 08:36:00.560 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 08:36:00.564 +03:00 [INF] Hosting environment: Development
2025-09-24 08:36:00.568 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 08:36:04.248 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:36:04.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - 307 0 null 111.2633ms
2025-09-24 08:36:04.411 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:36:04.427 +03:00 [INF] No cached response available for this request.
2025-09-24 08:36:04.450 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:36:04.458 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:36:04.462 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:36:04.469 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:36:04.474 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:36:04.479 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:36:04.712 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:36:04.724 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:36:04.825 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:36:05.442 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-24 08:36:05.762 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-24 08:36:05.910 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-24 08:36:06.050 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:36:06.094 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 1241.2432ms
2025-09-24 08:36:06.104 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:36:06.113 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:36:06.124 +03:00 [INF] Generating expiration headers.
2025-09-24 08:36:06.130 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:37:06 GMT. Cache-Control: public,max-age=60.
2025-09-24 08:36:06.138 +03:00 [INF] Generating Validation headers.
2025-09-24 08:36:06.168 +03:00 [INF] Validation headers generated. ETag: Strong, "73F7C3D333ADDC22F6768CB97D08948B". Last-Modified: Wed, 24 Sep 2025 05:36:06 GMT
2025-09-24 08:36:06.176 +03:00 [INF] Generating Vary header.
2025-09-24 08:36:06.180 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:36:06.198 +03:00 [INF] The response has been cached.
2025-09-24 08:36:06.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - 200 null application/json; charset=utf-8 1797.4857ms
2025-09-24 08:36:37.311 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:36:37.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - 307 0 null 12.3902ms
2025-09-24 08:36:37.336 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:36:37.354 +03:00 [INF] Serving response from cache.
2025-09-24 08:36:37.357 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - 200 null application/json; charset=utf-8 21.5103ms
2025-09-24 08:36:46.447 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:36:46.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - 307 0 null 143.3815ms
2025-09-24 08:36:46.593 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:36:46.614 +03:00 [INF] Serving response from cache.
2025-09-24 08:36:46.617 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - 200 null application/json; charset=utf-8 23.8952ms
2025-09-24 08:36:51.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=th - null null
2025-09-24 08:36:51.711 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=th - 307 0 null 18.2123ms
2025-09-24 08:36:51.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=th - null null
2025-09-24 08:36:51.757 +03:00 [INF] No cached response available for this request.
2025-09-24 08:36:51.767 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:36:51.773 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:36:51.780 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:36:51.786 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:36:51.796 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:36:51.804 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:36:51.813 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:36:51.823 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:36:51.842 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:36:51.879 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-24 08:36:51.935 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-24 08:36:51.971 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-24 08:36:52.036 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:36:52.053 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 187.0304ms
2025-09-24 08:36:52.070 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:36:52.082 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:36:52.090 +03:00 [INF] Generating expiration headers.
2025-09-24 08:36:52.095 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:37:52 GMT. Cache-Control: public,max-age=60.
2025-09-24 08:36:52.102 +03:00 [INF] Generating Validation headers.
2025-09-24 08:36:52.110 +03:00 [INF] Validation headers generated. ETag: Strong, "70F97A07FA6CF154CA6A6E8D2E5B6BC2". Last-Modified: Wed, 24 Sep 2025 05:36:52 GMT
2025-09-24 08:36:52.117 +03:00 [INF] Generating Vary header.
2025-09-24 08:36:52.123 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:36:52.134 +03:00 [INF] The response has been cached.
2025-09-24 08:36:52.140 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=th - 200 null application/json; charset=utf-8 423.6431ms
2025-09-24 08:36:58.939 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=tf - null null
2025-09-24 08:36:58.951 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=tf - 307 0 null 12.4078ms
2025-09-24 08:36:58.955 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=tf - null null
2025-09-24 08:36:58.977 +03:00 [INF] No cached response available for this request.
2025-09-24 08:36:58.988 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:36:58.995 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:36:59.000 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:36:59.006 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:36:59.011 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:36:59.016 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:36:59.027 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:36:59.032 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:36:59.042 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:36:59.086 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-24 08:36:59.099 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-24 08:36:59.145 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-24 08:36:59.233 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:36:59.252 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 189.1225ms
2025-09-24 08:36:59.265 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:36:59.278 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:36:59.285 +03:00 [INF] Generating expiration headers.
2025-09-24 08:36:59.291 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:37:59 GMT. Cache-Control: public,max-age=60.
2025-09-24 08:36:59.298 +03:00 [INF] Generating Validation headers.
2025-09-24 08:36:59.305 +03:00 [INF] Validation headers generated. ETag: Strong, "BCA28CE45C2E42F005EC4D6A253778D6". Last-Modified: Wed, 24 Sep 2025 05:36:59 GMT
2025-09-24 08:36:59.314 +03:00 [INF] Generating Vary header.
2025-09-24 08:36:59.320 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:36:59.333 +03:00 [INF] The response has been cached.
2025-09-24 08:36:59.343 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=tf - 200 null application/json; charset=utf-8 387.9653ms
2025-09-24 08:37:05.258 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=th - null null
2025-09-24 08:37:05.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=th - 307 0 null 19.2343ms
2025-09-24 08:37:05.282 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=th - null null
2025-09-24 08:37:05.319 +03:00 [INF] Serving response from cache.
2025-09-24 08:37:05.327 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=th - 200 null application/json; charset=utf-8 45.1952ms
2025-09-24 08:37:11.885 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:37:11.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm=fa - 307 0 null 12.8471ms
2025-09-24 08:37:11.900 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - null null
2025-09-24 08:37:11.927 +03:00 [INF] No cached response available for this request.
2025-09-24 08:37:11.931 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:37:11.935 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:37:11.940 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:37:11.944 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:37:11.950 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:37:11.955 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:37:11.958 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:37:11.962 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:37:11.966 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:37:11.977 +03:00 [INF] Executing an action SearchBooksByNameOrTitle on controller Books.
2025-09-24 08:37:11.988 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
    SELECT 1
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
2025-09-24 08:37:12.026 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[DeleteDate], [b2].[ISBN], [b2].[PublishYear], [b2].[Title], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName]
FROM (
    SELECT [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE LOWER([b].[Title]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR EXISTS (
        SELECT 1
        FROM [BookAuthors] AS [b0]
        INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
        INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
        WHERE [b].[Id] = [b0].[BooksId] AND (LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'))
    ORDER BY [b].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [b2]
LEFT JOIN (
    SELECT [b1].[AuthorsId], [b1].[BooksId], [a0].[Id], [a0].[Biography], [a0].[PersonId], [p0].[Id] AS [Id0], [p0].[FirstName], [p0].[LastName]
    FROM [BookAuthors] AS [b1]
    INNER JOIN [Authors] AS [a0] ON [b1].[AuthorsId] = [a0].[Id]
    INNER JOIN [Persons] AS [p0] ON [a0].[PersonId] = [p0].[Id]
) AS [s] ON [b2].[Id] = [s].[BooksId]
ORDER BY [b2].[Title], [b2].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-09-24 08:37:12.087 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:37:12.095 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 117.9566ms
2025-09-24 08:37:12.102 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:37:12.110 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:37:12.115 +03:00 [INF] Generating expiration headers.
2025-09-24 08:37:12.119 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:38:12 GMT. Cache-Control: public,max-age=60.
2025-09-24 08:37:12.123 +03:00 [INF] Generating Validation headers.
2025-09-24 08:37:12.127 +03:00 [INF] Validation headers generated. ETag: Strong, "73F7C3D333ADDC22F6768CB97D08948B". Last-Modified: Wed, 24 Sep 2025 05:37:12 GMT
2025-09-24 08:37:12.134 +03:00 [INF] Generating Vary header.
2025-09-24 08:37:12.138 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:37:12.142 +03:00 [INF] The response has been cached.
2025-09-24 08:37:12.147 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm=fa - 200 null application/json; charset=utf-8 246.3081ms
2025-09-24 08:37:20.718 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm= - null null
2025-09-24 08:37:20.728 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm= - 307 0 null 10.2984ms
2025-09-24 08:37:20.731 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm= - null null
2025-09-24 08:37:20.755 +03:00 [INF] No cached response available for this request.
2025-09-24 08:37:20.762 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:37:20.767 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:37:20.772 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:37:20.777 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:37:20.783 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:37:20.789 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:37:20.794 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:37:20.800 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:37:20.807 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:37:20.825 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:37:20.881 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 63.4771ms
2025-09-24 08:37:20.887 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:37:20.898 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:37:20.902 +03:00 [INF] Generating expiration headers.
2025-09-24 08:37:20.907 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:38:20 GMT. Cache-Control: public,max-age=60.
2025-09-24 08:37:20.911 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:37:20.920 +03:00 [INF] Generating Vary header.
2025-09-24 08:37:20.931 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:37:20.940 +03:00 [INF] The response could not be cached for this request.
2025-09-24 08:37:20.949 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm= - 400 null application/json; charset=utf-8 217.9707ms
2025-09-24 08:37:37.660 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm= - null null
2025-09-24 08:37:37.671 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/Search?SearchTerm= - 307 0 null 11.4546ms
2025-09-24 08:37:37.674 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm= - null null
2025-09-24 08:37:37.696 +03:00 [INF] No cached response available for this request.
2025-09-24 08:37:37.700 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:37:37.704 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-24 08:37:37.708 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:37:37.711 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:37:37.715 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:37:37.719 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:37:37.724 +03:00 [INF] Incomming Request: GET /api/Books/Search
2025-09-24 08:37:37.729 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:37:37.735 +03:00 [INF] Route matched with {action = "SearchBooksByNameOrTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByNameOrTitleAsync(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:37:37.748 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:37:37.754 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API) in 7.3769ms
2025-09-24 08:37:37.760 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.SearchBooksByNameOrTitleAsync (LibraryManagementSystem.API)'
2025-09-24 08:37:37.766 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:37:37.772 +03:00 [INF] Generating expiration headers.
2025-09-24 08:37:37.775 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:38:37 GMT. Cache-Control: public,max-age=60.
2025-09-24 08:37:37.779 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:37:37.784 +03:00 [INF] Generating Vary header.
2025-09-24 08:37:37.789 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:37:37.793 +03:00 [INF] The response could not be cached for this request.
2025-09-24 08:37:37.798 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/Search?SearchTerm= - 400 null application/json; charset=utf-8 123.8569ms
2025-09-24 08:40:52.511 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - multipart/form-data; boundary=--------------------------917660244695873599789891 534
2025-09-24 08:40:52.525 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 13.6472ms
2025-09-24 08:40:52.529 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - multipart/form-data; boundary=--------------------------907355361662123876733426 534
2025-09-24 08:40:52.553 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:40:52.559 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:40:52.564 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:40:52.570 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:40:52.575 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:40:52.580 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:40:52.619 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:40:52.640 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:40:52.645 +03:00 [INF] Generating expiration headers.
2025-09-24 08:40:52.650 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:41:52 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:40:52.658 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:40:52.663 +03:00 [INF] Generating Vary header.
2025-09-24 08:40:52.669 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:40:52.675 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 145.616ms
2025-09-24 08:45:20.807 +03:00 [INF] Starting database seeding.
2025-09-24 08:45:21.489 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 08:45:24.201 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:45:24.395 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:45:24.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 08:45:24.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:45:24.467 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:45:24.478 +03:00 [INF] Database seeding finished successfully.
2025-09-24 08:45:25.058 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 08:45:25.062 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 08:45:25.234 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 08:45:25.239 +03:00 [INF] Hosting environment: Development
2025-09-24 08:45:25.244 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 08:45:33.143 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - multipart/form-data; boundary=--------------------------974386956437264231931760 296
2025-09-24 08:45:33.345 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - 307 0 null 217.1025ms
2025-09-24 08:45:33.445 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - multipart/form-data; boundary=--------------------------030377102969910500509834 296
2025-09-24 08:45:33.502 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:45:33.511 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:45:33.560 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:45:33.578 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:45:33.623 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:45:33.629 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:45:33.813 +03:00 [INF] Incomming Request: POST /api/Accounts/Login
2025-09-24 08:45:33.819 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-24 08:45:33.874 +03:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementSystem.Business.Dtos.AccountDtos.LoginDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 08:45:34.321 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:45:34.404 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API) in 513.7376ms
2025-09-24 08:45:34.410 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-24 08:45:34.414 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:45:34.426 +03:00 [INF] Generating expiration headers.
2025-09-24 08:45:34.431 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:46:34 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:45:34.438 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:45:34.441 +03:00 [INF] Generating Vary header.
2025-09-24 08:45:34.443 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:45:34.454 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - 415 null application/json; charset=utf-8 1009.0344ms
2025-09-24 08:47:25.568 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - application/json 69
2025-09-24 08:47:25.593 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - 307 0 null 25.2176ms
2025-09-24 08:47:25.603 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - application/json 69
2025-09-24 08:47:25.625 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:47:25.630 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:47:25.636 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:47:25.641 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:47:25.645 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:47:25.650 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:47:25.657 +03:00 [INF] Incomming Request: POST /api/Accounts/Login
2025-09-24 08:47:25.663 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-24 08:47:25.678 +03:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementSystem.Business.Dtos.AccountDtos.LoginDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 08:47:25.754 +03:00 [INF] Executing an action Login on controller Accounts.
2025-09-24 08:47:25.931 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 08:47:26.760 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-24 08:47:27.041 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 08:47:27.093 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 08:47:27.708 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PersonId] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-09-24 08:47:27.815 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:47:27.831 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API) in 2137.4177ms
2025-09-24 08:47:27.842 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-24 08:47:27.851 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:47:27.863 +03:00 [INF] Generating expiration headers.
2025-09-24 08:47:27.868 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:48:27 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:47:27.877 +03:00 [INF] Generating Validation headers.
2025-09-24 08:47:27.926 +03:00 [INF] Validation headers generated. ETag: Strong, "4D5947908ADFE61DFA7733CED5B3DB52". Last-Modified: Wed, 24 Sep 2025 05:47:27 GMT
2025-09-24 08:47:27.935 +03:00 [INF] Generating Vary header.
2025-09-24 08:47:27.941 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:47:27.967 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - 200 null application/json; charset=utf-8 2363.8878ms
2025-09-24 08:49:45.395 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:49:45.418 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 23.1729ms
2025-09-24 08:49:45.423 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:49:45.449 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:49:45.453 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:49:45.459 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:49:45.463 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:49:45.469 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:49:45.475 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:49:45.519 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:49:45.568 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:49:45.591 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:49:45.607 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:49:45.611 +03:00 [INF] Generating expiration headers.
2025-09-24 08:49:45.615 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:50:45 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:49:45.620 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:49:45.627 +03:00 [INF] Generating Vary header.
2025-09-24 08:49:45.633 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:49:45.641 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 217.8128ms
2025-09-24 08:51:08.439 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:51:08.462 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 22.2727ms
2025-09-24 08:51:08.465 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:51:08.490 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:51:08.495 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:51:08.501 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:51:08.509 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:51:08.514 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:51:08.517 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:51:08.524 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:51:08.550 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:51:08.557 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:51:08.562 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:51:08.565 +03:00 [INF] Generating expiration headers.
2025-09-24 08:51:08.570 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:52:08 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:51:08.574 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:51:08.579 +03:00 [INF] Generating Vary header.
2025-09-24 08:51:08.581 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:51:08.585 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 120.6981ms
2025-09-24 08:51:10.928 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:51:10.941 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 13.209ms
2025-09-24 08:51:10.947 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:51:10.975 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:51:10.983 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:51:10.989 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:51:10.996 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:51:11.003 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:51:11.010 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:51:11.018 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:51:11.078 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:51:11.100 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:51:11.110 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:51:11.118 +03:00 [INF] Generating expiration headers.
2025-09-24 08:51:11.124 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:52:11 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:51:11.134 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:51:11.140 +03:00 [INF] Generating Vary header.
2025-09-24 08:51:11.147 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:51:11.154 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 207.6294ms
2025-09-24 08:51:13.072 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:51:13.086 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 14.4284ms
2025-09-24 08:51:13.089 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:51:13.111 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:51:13.115 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:51:13.121 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:51:13.127 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:51:13.132 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:51:13.137 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:51:13.143 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:51:13.182 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:51:13.190 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:51:13.198 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:51:13.204 +03:00 [INF] Generating expiration headers.
2025-09-24 08:51:13.211 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:52:13 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:51:13.219 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:51:13.226 +03:00 [INF] Generating Vary header.
2025-09-24 08:51:13.231 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:51:13.238 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 149.1444ms
2025-09-24 08:52:08.243 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:52:08.265 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 21.8771ms
2025-09-24 08:52:08.271 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:52:08.333 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:52:08.336 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:52:08.337 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:52:08.340 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:52:08.343 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:52:08.345 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:52:08.394 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Cu2m1DJMQAi2Ga_FGDNAon9U8T9OTDKVqHRl0f0gYo0'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 08:52:08.436 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Cu2m1DJMQAi2Ga_FGDNAon9U8T9OTDKVqHRl0f0gYo0'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-09-24 08:52:08.445 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:52:08.448 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:52:08.451 +03:00 [INF] Generating expiration headers.
2025-09-24 08:52:08.453 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:53:08 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:52:08.456 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:52:08.458 +03:00 [INF] Generating Vary header.
2025-09-24 08:52:08.460 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:52:08.464 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 192.9704ms
2025-09-24 08:52:35.831 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:52:35.861 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 31.9585ms
2025-09-24 08:52:35.871 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:52:35.908 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:52:35.913 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:52:35.918 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:52:35.926 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:52:35.933 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:52:35.938 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:52:35.944 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:52:35.985 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:52:35.997 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:52:36.005 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:52:36.010 +03:00 [INF] Generating expiration headers.
2025-09-24 08:52:36.017 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:53:36 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:52:36.025 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:52:36.030 +03:00 [INF] Generating Vary header.
2025-09-24 08:52:36.035 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:52:36.042 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 171.1328ms
2025-09-24 08:52:37.898 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:52:37.910 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 11.4617ms
2025-09-24 08:52:37.912 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:52:37.932 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:52:37.935 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:52:37.939 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:52:37.943 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:52:37.950 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:52:37.954 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:52:37.958 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:52:37.987 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:52:37.998 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:52:38.008 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:52:38.014 +03:00 [INF] Generating expiration headers.
2025-09-24 08:52:38.019 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:53:38 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:52:38.028 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:52:38.033 +03:00 [INF] Generating Vary header.
2025-09-24 08:52:38.037 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:52:38.041 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 128.8235ms
2025-09-24 08:52:47.323 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:52:47.336 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 13.1984ms
2025-09-24 08:52:47.341 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:52:47.371 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:52:47.381 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:52:47.387 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:52:47.393 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:52:47.400 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:52:47.407 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:52:47.415 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:52:47.470 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:52:47.486 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:52:47.498 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:52:47.508 +03:00 [INF] Generating expiration headers.
2025-09-24 08:52:47.517 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:53:47 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:52:47.526 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:52:47.532 +03:00 [INF] Generating Vary header.
2025-09-24 08:52:47.539 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:52:47.545 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 203.3402ms
2025-09-24 08:53:22.644 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:53:22.664 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 23.2248ms
2025-09-24 08:53:22.669 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:53:22.696 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:53:22.699 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:53:22.703 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:53:22.708 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:53:22.712 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:53:22.715 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:53:22.722 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:53:22.753 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:53:22.761 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:53:22.767 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:53:22.771 +03:00 [INF] Generating expiration headers.
2025-09-24 08:53:22.775 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:54:22 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:53:22.781 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:53:22.785 +03:00 [INF] Generating Vary header.
2025-09-24 08:53:22.790 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:53:22.794 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 124.5462ms
2025-09-24 08:53:25.429 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:53:25.438 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 9.4332ms
2025-09-24 08:53:25.441 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:53:25.460 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:53:25.463 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:53:25.468 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:53:25.474 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:53:25.480 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:53:25.486 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:53:25.491 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-24 08:53:25.526 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-09-24 08:53:25.533 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 08:53:25.540 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 08:53:25.544 +03:00 [INF] Generating expiration headers.
2025-09-24 08:53:25.549 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:54:25 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:53:25.553 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:53:25.557 +03:00 [INF] Generating Vary header.
2025-09-24 08:53:25.560 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:53:25.563 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 122.5176ms
2025-09-24 08:55:52.567 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 124
2025-09-24 08:55:52.585 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 20.1502ms
2025-09-24 08:55:52.589 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 124
2025-09-24 08:55:52.607 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:55:52.616 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:55:52.621 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:55:52.627 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:55:52.632 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:55:52.637 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:55:52.683 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 08:55:52.688 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 08:55:52.703 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:55:52.743 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 08:55:52.767 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 56.6384ms
2025-09-24 08:55:52.773 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 08:55:52.781 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 08:55:52.785 +03:00 [INF] Generating expiration headers.
2025-09-24 08:55:52.788 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 05:56:52 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 08:55:52.794 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 08:55:52.799 +03:00 [INF] Generating Vary header.
2025-09-24 08:55:52.802 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 08:55:52.807 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 400 null application/json; charset=utf-8 218.8104ms
2025-09-24 08:56:30.257 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 123
2025-09-24 08:56:30.280 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 23.395ms
2025-09-24 08:56:30.286 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 123
2025-09-24 08:56:30.306 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:56:30.309 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:56:30.311 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:56:30.314 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:56:30.316 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:56:30.319 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:56:30.323 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 08:56:30.327 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 08:56:30.331 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:56:30.340 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 08:56:30.527 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 08:56:30.837 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId]
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 08:56:57.578 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 27240.621ms
2025-09-24 08:56:57.595 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 08:57:01.963 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: The following author Ids Are not Found: System.Linq.Enumerable+<ExceptIterator>d__117`1[System.Int32]
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 87
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 08:57:02.205 +03:00 [WRN] A Not Found exception has occured: The following author Ids Are not Found: System.Linq.Enumerable+<ExceptIterator>d__117`1[System.Int32]
LibraryManagementSystem.Business.Exceptions.NotFoundException: The following author Ids Are not Found: System.Linq.Enumerable+<ExceptIterator>d__117`1[System.Int32]
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 87
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 08:57:02.346 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 404 null null 32060.0406ms
2025-09-24 08:57:40.225 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 126
2025-09-24 08:57:40.249 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 24.0412ms
2025-09-24 08:57:40.253 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 126
2025-09-24 08:57:40.279 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 08:57:40.285 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 08:57:40.292 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 08:57:40.301 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 08:57:40.310 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 08:57:40.317 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 08:57:40.325 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 08:57:40.337 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 08:57:40.350 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 08:57:40.416 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 08:57:40.435 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 08:57:40.468 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId]
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 08:57:41.022 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 13), @p2='?' (DbType = Int32), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([DeleteDate], [ISBN], [PublishYear], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-24 08:57:41.206 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorsId], [BooksId])
VALUES (@p4, @p5),
(@p6, @p7),
(@p8, @p9);
2025-09-24 08:58:48.165 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 67797.7669ms
2025-09-24 08:58:48.169 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 08:58:55.408 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Book -> BookDetailsDto
LibraryManagementSystem.DataAccess.Entities.Book -> LibraryManagementSystem.Business.Dtos.BookDtos.BookDetailsDto

Type Map configuration:
Book -> BookDetailsDto
LibraryManagementSystem.DataAccess.Entities.Book -> LibraryManagementSystem.Business.Dtos.BookDtos.BookDetailsDto

Destination Member:
AuthorNames

 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at lambda_method541(Closure, Author)
   at System.Linq.Enumerable.ListSelectIterator`2.MoveNext()
   at lambda_method540(Closure, Object, BookDetailsDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method540(Closure, Object, BookDetailsDto, ResolutionContext)
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 95
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 08:59:01.896 +03:00 [ERR] An unhandled exception occurred: Error mapping types.

Mapping types:
Book -> BookDetailsDto
LibraryManagementSystem.DataAccess.Entities.Book -> LibraryManagementSystem.Business.Dtos.BookDtos.BookDetailsDto

Type Map configuration:
Book -> BookDetailsDto
LibraryManagementSystem.DataAccess.Entities.Book -> LibraryManagementSystem.Business.Dtos.BookDtos.BookDetailsDto

Destination Member:
AuthorNames

AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Book -> BookDetailsDto
LibraryManagementSystem.DataAccess.Entities.Book -> LibraryManagementSystem.Business.Dtos.BookDtos.BookDetailsDto

Type Map configuration:
Book -> BookDetailsDto
LibraryManagementSystem.DataAccess.Entities.Book -> LibraryManagementSystem.Business.Dtos.BookDtos.BookDetailsDto

Destination Member:
AuthorNames

 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at lambda_method541(Closure, Author)
   at System.Linq.Enumerable.ListSelectIterator`2.MoveNext()
   at lambda_method540(Closure, Object, BookDetailsDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method540(Closure, Object, BookDetailsDto, ResolutionContext)
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 95
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 08:59:02.161 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 500 null null 81908.5808ms
2025-09-24 09:01:44.450 +03:00 [INF] Starting database seeding.
2025-09-24 09:01:44.907 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:01:47.879 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:01:47.980 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:01:47.989 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:01:48.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:01:48.070 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:01:48.079 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:01:49.015 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:01:49.022 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:01:49.437 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:01:49.441 +03:00 [INF] Hosting environment: Development
2025-09-24 09:01:49.445 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:01:58.684 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 126
2025-09-24 09:01:58.945 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 287.5346ms
2025-09-24 09:01:59.064 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 126
2025-09-24 09:01:59.105 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:01:59.108 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:01:59.113 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:01:59.121 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:01:59.124 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:01:59.128 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:01:59.509 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:01:59.518 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:01:59.587 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:02:00.517 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 09:02:00.844 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 09:02:48.788 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 48929.3768ms
2025-09-24 09:02:48.809 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:02:53.950 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.ConflictException: A book with ISBN 978-052555947 already exist.
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 74
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 09:02:54.199 +03:00 [WRN] An Conflict exception has occured: A book with ISBN 978-052555947 already exist.
LibraryManagementSystem.Business.Exceptions.ConflictException: A book with ISBN 978-052555947 already exist.
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 74
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 09:02:54.376 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 409 null null 55312.737ms
2025-09-24 09:15:54.750 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 114
2025-09-24 09:15:54.772 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 22.2114ms
2025-09-24 09:15:54.779 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 114
2025-09-24 09:15:54.797 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:15:54.802 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:15:54.807 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:15:54.812 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:15:54.818 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:15:54.823 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:15:54.833 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:15:54.839 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:15:54.848 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:15:54.872 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 09:15:54.932 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 09:15:55.177 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId]
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 09:15:55.874 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 13), @p2='?' (DbType = Int32), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([DeleteDate], [ISBN], [PublishYear], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-24 09:15:55.956 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorsId], [BooksId])
VALUES (@p4, @p5),
(@p6, @p7),
(@p8, @p9);
2025-09-24 09:27:41.667 +03:00 [INF] Starting database seeding.
2025-09-24 09:27:42.318 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:27:45.410 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:27:45.598 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:27:45.609 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:27:45.644 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:27:45.737 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:27:45.756 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:27:46.736 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:27:46.741 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:27:47.084 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:27:47.088 +03:00 [INF] Hosting environment: Development
2025-09-24 09:27:47.093 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:28:04.399 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 111
2025-09-24 09:28:04.506 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 119.4056ms
2025-09-24 09:28:04.598 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 111
2025-09-24 09:28:04.630 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:28:04.634 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:28:04.636 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:28:04.641 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:28:04.644 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:28:04.649 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:28:04.848 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:28:04.856 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:28:04.903 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:28:05.212 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 09:28:05.384 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 09:28:05.646 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 09:28:06.168 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 13), @p2='?' (DbType = Int32), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([DeleteDate], [ISBN], [PublishYear], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-24 09:28:06.316 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorsId], [BooksId])
VALUES (@p4, @p5),
(@p6, @p7),
(@p8, @p9);
2025-09-24 09:28:06.468 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 09:28:06.526 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 1602.6192ms
2025-09-24 09:28:06.541 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:28:06.553 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:28:06.572 +03:00 [INF] Generating expiration headers.
2025-09-24 09:28:06.583 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:29:06 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:28:06.600 +03:00 [INF] Generating Validation headers.
2025-09-24 09:28:06.657 +03:00 [INF] Validation headers generated. ETag: Strong, "1CADA133FFE16703C20A63A94CB24C45". Last-Modified: Wed, 24 Sep 2025 06:28:06 GMT
2025-09-24 09:28:06.670 +03:00 [INF] Generating Vary header.
2025-09-24 09:28:06.679 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:28:06.707 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 201 null application/json; charset=utf-8 2108.689ms
2025-09-24 09:28:35.082 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 113
2025-09-24 09:28:35.097 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 14.9037ms
2025-09-24 09:28:35.119 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 113
2025-09-24 09:28:35.138 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:28:35.141 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:28:35.144 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:28:35.148 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:28:35.153 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:28:35.155 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:28:35.161 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:28:35.165 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:28:35.170 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:28:35.187 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 09:28:35.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 09:28:49.957 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 14780.4477ms
2025-09-24 09:28:49.971 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:28:52.896 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.ConflictException: A book with ISBN 978-052105947 already exist.
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 74
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 09:28:53.123 +03:00 [WRN] An Conflict exception has occured: A book with ISBN 978-052105947 already exist.
LibraryManagementSystem.Business.Exceptions.ConflictException: A book with ISBN 978-052105947 already exist.
   at LibraryManagementSystem.Business.Services.BookService.CreateBookAsync(CreateBookDto newBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 74
   at LibraryManagementSystem.API.Controllers.BooksController.Create(CreateBookDto createBookDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 175
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 09:28:53.216 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 409 null null 18097.2809ms
2025-09-24 09:30:18.135 +03:00 [INF] Starting database seeding.
2025-09-24 09:30:19.896 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:30:26.045 +03:00 [INF] Executed DbCommand (324ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:30:26.298 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:30:26.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:30:26.384 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:30:26.526 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:30:26.542 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:30:28.681 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:30:28.683 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:30:29.035 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:30:29.039 +03:00 [INF] Hosting environment: Development
2025-09-24 09:30:29.043 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:34:52.777 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 110
2025-09-24 09:34:52.935 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:34:53.070 +03:00 [ERR] An unhandled exception occurred: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:34:53.244 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 500 null null 487.8171ms
2025-09-24 09:35:28.510 +03:00 [INF] Starting database seeding.
2025-09-24 09:35:29.080 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:35:31.914 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:35:32.071 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:35:32.079 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:35:32.104 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:35:32.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:35:32.235 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:35:32.961 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:35:32.966 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:35:33.118 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:35:33.126 +03:00 [INF] Hosting environment: Development
2025-09-24 09:35:33.130 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:35:35.976 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 110
2025-09-24 09:35:36.080 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:35:36.228 +03:00 [ERR] An unhandled exception occurred: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:35:36.624 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 500 null null 662.5369ms
2025-09-24 09:36:01.420 +03:00 [INF] Starting database seeding.
2025-09-24 09:36:01.971 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:36:05.523 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:36:05.719 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:36:05.734 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:36:05.775 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:36:05.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:36:05.938 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:36:06.824 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:36:06.828 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:36:07.140 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:36:07.145 +03:00 [INF] Hosting environment: Development
2025-09-24 09:36:07.154 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:36:18.190 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 110
2025-09-24 09:36:18.408 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 234.0804ms
2025-09-24 09:36:18.510 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 110
2025-09-24 09:36:18.548 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:36:18.555 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:36:18.561 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:36:18.575 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:36:18.582 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:36:18.591 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:36:19.068 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:36:19.093 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:36:19.188 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:36:19.977 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 09:36:20.318 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 09:36:20.973 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 09:36:21.936 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 13), @p2='?' (DbType = Int32), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([DeleteDate], [ISBN], [PublishYear], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-24 09:36:22.067 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorsId], [BooksId])
VALUES (@p4, @p5),
(@p6, @p7),
(@p8, @p9);
2025-09-24 09:36:22.260 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 09:36:22.325 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 3112.5468ms
2025-09-24 09:36:22.338 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:36:22.350 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:36:22.367 +03:00 [INF] Generating expiration headers.
2025-09-24 09:36:22.377 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:37:22 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:36:22.397 +03:00 [INF] Generating Validation headers.
2025-09-24 09:36:22.463 +03:00 [INF] Validation headers generated. ETag: Strong, "01B26C48E1BE7F606DEEBF660030B93F". Last-Modified: Wed, 24 Sep 2025 06:36:22 GMT
2025-09-24 09:36:22.472 +03:00 [INF] Generating Vary header.
2025-09-24 09:36:22.478 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:36:22.506 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 201 null application/json; charset=utf-8 3996.4186ms
2025-09-24 09:38:01.089 +03:00 [INF] Starting database seeding.
2025-09-24 09:38:01.616 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:38:04.110 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:38:04.220 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:38:04.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:38:04.242 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:38:04.296 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:38:04.304 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:38:05.216 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:38:05.219 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:38:05.435 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:38:05.439 +03:00 [INF] Hosting environment: Development
2025-09-24 09:38:05.442 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:38:14.386 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 111
2025-09-24 09:38:14.524 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:38:14.753 +03:00 [ERR] An unhandled exception occurred: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:38:14.919 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 500 null null 549.711ms
2025-09-24 09:39:45.330 +03:00 [INF] Starting database seeding.
2025-09-24 09:39:45.835 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:39:49.081 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:39:49.207 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:39:49.216 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:39:49.242 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:39:49.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:39:49.336 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:39:50.068 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:39:50.071 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:39:50.329 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:39:50.333 +03:00 [INF] Hosting environment: Development
2025-09-24 09:39:50.336 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:39:58.649 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 111
2025-09-24 09:39:58.866 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 242.0569ms
2025-09-24 09:39:59.080 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 111
2025-09-24 09:39:59.157 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:39:59.161 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:39:59.165 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:39:59.170 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:39:59.175 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:39:59.180 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:39:59.527 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:39:59.534 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:39:59.599 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:40:00.220 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 09:40:00.377 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 751.5653ms
2025-09-24 09:40:00.390 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:40:00.406 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:40:00.425 +03:00 [INF] Generating expiration headers.
2025-09-24 09:40:00.437 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:41:00 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:40:00.458 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 09:40:00.468 +03:00 [INF] Generating Vary header.
2025-09-24 09:40:00.487 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:40:00.507 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 400 null application/json; charset=utf-8 1426.4081ms
2025-09-24 09:41:12.741 +03:00 [INF] Starting database seeding.
2025-09-24 09:41:13.363 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:41:15.635 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:41:15.845 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:41:15.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:41:15.874 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:41:15.934 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:41:15.955 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:41:16.685 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:41:16.690 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:41:16.937 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:41:16.941 +03:00 [INF] Hosting environment: Development
2025-09-24 09:41:16.945 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:41:26.503 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 121
2025-09-24 09:41:26.692 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 208.4968ms
2025-09-24 09:41:26.822 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 121
2025-09-24 09:41:26.855 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:41:26.858 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:41:26.862 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:41:26.874 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:41:26.881 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:41:26.885 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:41:27.184 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:41:27.194 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:41:27.301 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:41:27.920 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 09:41:28.144 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 09:41:28.704 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 09:41:29.536 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 13), @p2='?' (DbType = Int32), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([DeleteDate], [ISBN], [PublishYear], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-24 09:41:29.624 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorsId], [BooksId])
VALUES (@p4, @p5),
(@p6, @p7);
2025-09-24 09:41:29.809 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 09:41:29.886 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 2526.7305ms
2025-09-24 09:41:29.892 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:41:29.897 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:41:29.906 +03:00 [INF] Generating expiration headers.
2025-09-24 09:41:29.912 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:42:29 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:41:29.923 +03:00 [INF] Generating Validation headers.
2025-09-24 09:41:29.974 +03:00 [INF] Validation headers generated. ETag: Strong, "00726CB0B28017E2B472F48005680CD0". Last-Modified: Wed, 24 Sep 2025 06:41:29 GMT
2025-09-24 09:41:29.983 +03:00 [INF] Generating Vary header.
2025-09-24 09:41:29.988 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:41:30.007 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 201 null application/json; charset=utf-8 3185.0286ms
2025-09-24 09:42:25.397 +03:00 [INF] Starting database seeding.
2025-09-24 09:42:25.774 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:42:28.500 +03:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:42:28.598 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:42:28.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:42:28.627 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:42:28.700 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:42:28.710 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:42:29.158 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:42:29.161 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:42:29.355 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:42:29.361 +03:00 [INF] Hosting environment: Development
2025-09-24 09:42:29.368 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:42:42.086 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 108
2025-09-24 09:42:42.285 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:42:42.694 +03:00 [ERR] An unhandled exception occurred: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:42:43.004 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 500 null null 946.3416ms
2025-09-24 09:48:38.934 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 108
2025-09-24 09:48:38.953 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:48:39.299 +03:00 [ERR] An unhandled exception occurred: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
System.IO.FileNotFoundException: Could not find file 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'.
File name: 'F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\bin\Release\net9.0\LibraryManagementSystem.API.xml'
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass37_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at LibraryManagementSystem.API.Extensions.ApiServicesExtensions.<>c.<AddApiServices>b__0_2(SwaggerGenOptions s) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Extentions\ApiServicesExtentions.cs:line 78
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at InvokeStub_ConfigureSwaggerGeneratorOptions..ctor(Object, Span`1)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method255(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.Invoke(HttpContext context)
2025-09-24 09:48:39.625 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 500 null null 691.5397ms
2025-09-24 09:48:55.760 +03:00 [INF] Starting database seeding.
2025-09-24 09:48:56.385 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 09:48:59.192 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:48:59.400 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:48:59.419 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 09:48:59.474 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:48:59.619 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 09:48:59.642 +03:00 [INF] Database seeding finished successfully.
2025-09-24 09:49:00.495 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 09:49:00.497 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 09:49:00.751 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 09:49:00.753 +03:00 [INF] Hosting environment: Development
2025-09-24 09:49:00.755 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 09:49:04.503 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 108
2025-09-24 09:49:04.759 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 278.1376ms
2025-09-24 09:49:04.910 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 108
2025-09-24 09:49:04.995 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:49:04.999 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:49:05.002 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:49:05.014 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:49:05.017 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:49:05.023 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:49:05.551 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 09:49:05.562 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:49:05.657 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 09:49:06.324 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 09:49:06.580 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 09:49:07.204 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 09:49:08.077 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 13), @p2='?' (DbType = Int32), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([DeleteDate], [ISBN], [PublishYear], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-24 09:49:08.170 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorsId], [BooksId])
VALUES (@p4, @p5),
(@p6, @p7);
2025-09-24 09:49:08.309 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 09:49:08.363 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 2680.7095ms
2025-09-24 09:49:08.373 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 09:49:08.379 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:49:08.392 +03:00 [INF] Generating expiration headers.
2025-09-24 09:49:08.399 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:50:08 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:49:08.412 +03:00 [INF] Generating Validation headers.
2025-09-24 09:49:08.470 +03:00 [INF] Validation headers generated. ETag: Strong, "62A71E2A5E2634A4BE014618E5AF8337". Last-Modified: Wed, 24 Sep 2025 06:49:08 GMT
2025-09-24 09:49:08.479 +03:00 [INF] Generating Vary header.
2025-09-24 09:49:08.485 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:49:08.510 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 201 null application/json; charset=utf-8 3599.9605ms
2025-09-24 09:55:27.375 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 106
2025-09-24 09:55:27.391 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 23.0866ms
2025-09-24 09:55:27.397 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 106
2025-09-24 09:55:27.421 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:55:27.428 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:55:27.436 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:55:27.445 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:55:27.450 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:55:27.458 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:55:27.495 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 6:55:27 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 09:55:27.542 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 6:55:27 AM'.
2025-09-24 09:55:27.555 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 09:55:27.574 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 09:55:27.579 +03:00 [INF] Generating expiration headers.
2025-09-24 09:55:27.584 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:56:27 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:55:27.596 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 09:55:27.603 +03:00 [INF] Generating Vary header.
2025-09-24 09:55:27.610 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:55:27.619 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 222.1397ms
2025-09-24 09:57:49.132 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Refresh - application/json 503
2025-09-24 09:57:49.156 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Refresh - 307 0 null 24.5702ms
2025-09-24 09:57:49.159 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Refresh - application/json 503
2025-09-24 09:57:49.173 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:57:49.175 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:57:49.178 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:57:49.180 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:57:49.183 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:57:49.185 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:57:49.192 +03:00 [INF] Incomming Request: POST /api/Refresh
2025-09-24 09:57:49.197 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:57:49.200 +03:00 [INF] Generating expiration headers.
2025-09-24 09:57:49.203 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:58:49 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:57:49.207 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 09:57:49.210 +03:00 [INF] Generating Vary header.
2025-09-24 09:57:49.214 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:57:49.218 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Refresh - 404 0 null 59.2951ms
2025-09-24 09:57:49.231 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Refresh, Response status code: 404
2025-09-24 09:57:57.531 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Refresh - application/json 503
2025-09-24 09:57:57.546 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Refresh - 307 0 null 15.4527ms
2025-09-24 09:57:57.551 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Refresh - application/json 503
2025-09-24 09:57:57.576 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:57:57.581 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:57:57.586 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:57:57.592 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:57:57.598 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:57:57.603 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:57:57.609 +03:00 [INF] Incomming Request: POST /api/Refresh
2025-09-24 09:57:57.615 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:57:57.621 +03:00 [INF] Generating expiration headers.
2025-09-24 09:57:57.626 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:58:57 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:57:57.633 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 09:57:57.640 +03:00 [INF] Generating Vary header.
2025-09-24 09:57:57.645 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:57:57.652 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Refresh - 404 0 null 100.6341ms
2025-09-24 09:57:57.667 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Refresh, Response status code: 404
2025-09-24 09:57:59.247 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Refresh - application/json 503
2025-09-24 09:57:59.255 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Refresh - 307 0 null 7.6961ms
2025-09-24 09:57:59.258 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Refresh - application/json 503
2025-09-24 09:57:59.277 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:57:59.279 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:57:59.281 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:57:59.284 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:57:59.286 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:57:59.289 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:57:59.292 +03:00 [INF] Incomming Request: POST /api/Refresh
2025-09-24 09:57:59.296 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:57:59.300 +03:00 [INF] Generating expiration headers.
2025-09-24 09:57:59.303 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:58:59 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:57:59.310 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 09:57:59.314 +03:00 [INF] Generating Vary header.
2025-09-24 09:57:59.318 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:57:59.324 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Refresh - 404 0 null 65.3484ms
2025-09-24 09:57:59.337 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Refresh, Response status code: 404
2025-09-24 09:58:01.006 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Refresh - application/json 503
2025-09-24 09:58:01.017 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Refresh - 307 0 null 11.0724ms
2025-09-24 09:58:01.020 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Refresh - application/json 503
2025-09-24 09:58:01.040 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:58:01.045 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:58:01.051 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:58:01.054 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:58:01.059 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:58:01.064 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:58:01.072 +03:00 [INF] Incomming Request: POST /api/Refresh
2025-09-24 09:58:01.082 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 09:58:01.088 +03:00 [INF] Generating expiration headers.
2025-09-24 09:58:01.095 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 06:59:01 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:58:01.101 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 09:58:01.107 +03:00 [INF] Generating Vary header.
2025-09-24 09:58:01.111 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:58:01.118 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Refresh - 404 0 null 98.3096ms
2025-09-24 09:58:01.131 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Refresh, Response status code: 404
2025-09-24 09:59:46.969 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 106
2025-09-24 09:59:46.987 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 20.7034ms
2025-09-24 09:59:46.989 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 106
2025-09-24 09:59:47.002 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 09:59:47.005 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 09:59:47.009 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 09:59:47.014 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 09:59:47.019 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 09:59:47.022 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 09:59:47.029 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 6:59:47 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 09:59:47.051 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 6:59:47 AM'.
2025-09-24 09:59:47.058 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 09:59:47.065 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 09:59:47.069 +03:00 [INF] Generating expiration headers.
2025-09-24 09:59:47.072 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:00:47 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 09:59:47.078 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 09:59:47.082 +03:00 [INF] Generating Vary header.
2025-09-24 09:59:47.086 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 09:59:47.090 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 101.1496ms
2025-09-24 10:00:11.649 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 108
2025-09-24 10:00:11.669 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 22.4173ms
2025-09-24 10:00:11.674 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 108
2025-09-24 10:00:11.710 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:00:11.715 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:00:11.721 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:00:11.726 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:00:11.730 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:00:11.736 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:00:11.741 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:11 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 10:00:11.761 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:11 AM'.
2025-09-24 10:00:11.766 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 10:00:11.772 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 10:00:11.776 +03:00 [INF] Generating expiration headers.
2025-09-24 10:00:11.781 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:01:11 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 10:00:11.786 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 10:00:11.789 +03:00 [INF] Generating Vary header.
2025-09-24 10:00:11.792 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 10:00:11.797 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 122.9924ms
2025-09-24 10:00:34.033 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 108
2025-09-24 10:00:34.054 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 22.6781ms
2025-09-24 10:00:34.059 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 108
2025-09-24 10:00:34.088 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:00:34.098 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:00:34.103 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:00:34.109 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:00:34.115 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:00:34.119 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:00:34.127 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:34 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 10:00:34.161 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:34 AM'.
2025-09-24 10:00:34.174 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 10:00:34.181 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 10:00:34.188 +03:00 [INF] Generating expiration headers.
2025-09-24 10:00:34.192 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:01:34 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 10:00:34.201 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 10:00:34.214 +03:00 [INF] Generating Vary header.
2025-09-24 10:00:34.222 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 10:00:34.229 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 172.1579ms
2025-09-24 10:00:43.813 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 110
2025-09-24 10:00:43.833 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 19.681ms
2025-09-24 10:00:43.838 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 110
2025-09-24 10:00:43.879 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:00:43.893 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:00:43.902 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:00:43.916 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:00:43.927 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:00:43.942 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:00:43.954 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:43 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 10:00:43.981 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:43 AM'.
2025-09-24 10:00:43.986 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 10:00:43.992 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 10:00:43.998 +03:00 [INF] Generating expiration headers.
2025-09-24 10:00:44.002 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:01:44 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 10:00:44.007 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 10:00:44.011 +03:00 [INF] Generating Vary header.
2025-09-24 10:00:44.014 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 10:00:44.018 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 180.3068ms
2025-09-24 10:00:47.721 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 110
2025-09-24 10:00:47.731 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 10.5128ms
2025-09-24 10:00:47.734 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 110
2025-09-24 10:00:47.754 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:00:47.759 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:00:47.763 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:00:47.766 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:00:47.773 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:00:47.778 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:00:47.785 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:47 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 10:00:47.839 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 6:47:26 AM', Current time (UTC): '9/24/2025 7:00:47 AM'.
2025-09-24 10:00:47.847 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 10:00:47.855 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 10:00:47.860 +03:00 [INF] Generating expiration headers.
2025-09-24 10:00:47.865 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:01:47 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 10:00:47.873 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 10:00:47.877 +03:00 [INF] Generating Vary header.
2025-09-24 10:00:47.882 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 10:00:47.887 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 153.3576ms
2025-09-24 10:29:05.105 +03:00 [INF] Starting database seeding.
2025-09-24 10:29:05.357 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 10:29:06.622 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:29:06.684 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:29:06.693 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:29:06.711 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 10:29:06.750 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 10:29:06.756 +03:00 [INF] Database seeding finished successfully.
2025-09-24 10:29:07.126 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 10:29:07.130 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 10:29:07.251 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 10:29:07.255 +03:00 [INF] Hosting environment: Development
2025-09-24 10:29:07.258 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 10:30:08.835 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Refresh - application/json 503
2025-09-24 10:30:09.007 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Refresh - 307 0 null 179.1261ms
2025-09-24 10:30:09.136 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Refresh - application/json 503
2025-09-24 10:30:09.190 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:30:09.196 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:30:09.202 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:30:09.214 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:30:09.220 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:30:09.226 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:30:09.438 +03:00 [INF] Incomming Request: POST /api/Refresh
2025-09-24 10:30:09.447 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 10:30:09.460 +03:00 [INF] Generating expiration headers.
2025-09-24 10:30:09.469 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:31:09 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 10:30:09.481 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 10:30:09.486 +03:00 [INF] Generating Vary header.
2025-09-24 10:30:09.493 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 10:30:09.508 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Refresh - 404 0 null 372.4696ms
2025-09-24 10:30:09.526 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Refresh, Response status code: 404
2025-09-24 10:30:51.804 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authentication/Refresh - application/json 503
2025-09-24 10:30:51.815 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authentication/Refresh - 307 0 null 11.5374ms
2025-09-24 10:30:51.837 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authentication/Refresh - application/json 503
2025-09-24 10:30:51.857 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:30:51.861 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:30:51.866 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:30:51.873 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:30:51.878 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:30:51.882 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:30:51.889 +03:00 [INF] Incomming Request: POST /api/Authentication/Refresh
2025-09-24 10:30:51.895 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 10:30:51.900 +03:00 [INF] Generating expiration headers.
2025-09-24 10:30:51.905 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:31:51 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 10:30:51.912 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 10:30:51.917 +03:00 [INF] Generating Vary header.
2025-09-24 10:30:51.922 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 10:30:51.930 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authentication/Refresh - 404 0 null 93.7581ms
2025-09-24 10:30:51.949 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Authentication/Refresh, Response status code: 404
2025-09-24 10:31:52.784 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authentication/Refresh - application/json 503
2025-09-24 10:31:52.802 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authentication/Refresh - 307 0 null 20.004ms
2025-09-24 10:31:52.806 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authentication/Refresh - application/json 503
2025-09-24 10:31:52.825 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:31:52.828 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:31:52.832 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:31:52.837 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:31:52.841 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:31:52.844 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:31:52.853 +03:00 [INF] Incomming Request: POST /api/Authentication/Refresh
2025-09-24 10:31:52.856 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 10:31:52.861 +03:00 [INF] Generating expiration headers.
2025-09-24 10:31:52.867 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 07:32:52 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 10:31:52.873 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 10:31:52.877 +03:00 [INF] Generating Vary header.
2025-09-24 10:31:52.880 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 10:31:52.885 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authentication/Refresh - 404 0 null 79.4742ms
2025-09-24 10:31:52.896 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Authentication/Refresh, Response status code: 404
2025-09-24 10:32:44.232 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 10:32:44.254 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 23.6632ms
2025-09-24 10:32:44.260 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 10:32:44.306 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:32:44.312 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:32:44.319 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:32:44.326 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:32:44.337 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:32:44.344 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:32:44.353 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 10:32:44.357 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 10:32:44.403 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 10:32:44.958 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 10:34:50.495 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 126038.7933ms
2025-09-24 10:34:50.704 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 10:34:58.062 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at LibraryManagementSystem.Business.Services.AccountService.GetPrincipleFromExpiredToken(String token) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 277
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 167
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 10:34:58.368 +03:00 [ERR] An unhandled exception occurred: Value cannot be null. (Parameter 's')
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at LibraryManagementSystem.Business.Services.AccountService.GetPrincipleFromExpiredToken(String token) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 277
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 167
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 10:34:58.533 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 500 null null 134273.2928ms
2025-09-24 10:37:09.567 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 10:37:09.579 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 11.9182ms
2025-09-24 10:37:09.581 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 10:37:09.590 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:37:09.592 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:37:09.595 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:37:09.596 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:37:09.599 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:37:09.601 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:37:09.604 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 10:37:09.607 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 10:37:09.613 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 10:37:09.625 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 10:37:30.502 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 20882.4175ms
2025-09-24 10:37:30.515 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 10:37:31.689 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at LibraryManagementSystem.Business.Services.AccountService.GetPrincipleFromExpiredToken(String token) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 277
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 167
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 10:37:31.865 +03:00 [ERR] An unhandled exception occurred: Value cannot be null. (Parameter 's')
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at LibraryManagementSystem.Business.Services.AccountService.GetPrincipleFromExpiredToken(String token) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 277
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 167
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 10:37:32.039 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 500 null null 22458.0334ms
2025-09-24 10:38:21.206 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 10:38:21.221 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 15.0323ms
2025-09-24 10:38:21.223 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 10:38:21.234 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:38:21.237 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:38:21.240 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:38:21.243 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:38:21.245 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:38:21.247 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:38:21.251 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 10:38:21.256 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 10:38:21.260 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 10:38:21.289 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 10:40:04.355 +03:00 [INF] Starting database seeding.
2025-09-24 10:40:04.837 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 10:40:07.604 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:40:07.687 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:40:07.693 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:40:07.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 10:40:07.769 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 10:40:07.783 +03:00 [INF] Database seeding finished successfully.
2025-09-24 10:40:08.540 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 10:40:08.545 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 10:40:08.854 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 10:40:08.859 +03:00 [INF] Hosting environment: Development
2025-09-24 10:40:08.864 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 10:40:28.767 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 10:40:29.050 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 301.4842ms
2025-09-24 10:40:29.240 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 10:40:29.323 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:40:29.327 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:40:29.330 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:40:29.335 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:40:29.337 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:40:29.340 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:40:29.476 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 10:40:29.489 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 10:40:29.597 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 10:40:30.413 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 10:47:59.400 +03:00 [INF] Starting database seeding.
2025-09-24 10:48:00.181 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 10:48:04.382 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:48:04.586 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:48:04.596 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 10:48:04.642 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 10:48:04.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 10:48:04.765 +03:00 [INF] Database seeding finished successfully.
2025-09-24 10:48:05.861 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 10:48:05.865 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 10:48:06.201 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 10:48:06.205 +03:00 [INF] Hosting environment: Development
2025-09-24 10:48:06.210 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 10:48:10.079 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 10:48:10.253 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 188.4475ms
2025-09-24 10:48:10.376 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 10:48:10.418 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 10:48:10.423 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 10:48:10.432 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 10:48:10.443 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 10:48:10.447 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 10:48:10.452 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 10:48:10.635 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 10:48:10.642 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 10:48:10.697 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 10:48:11.474 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:00:16.431 +03:00 [INF] Starting database seeding.
2025-09-24 11:00:17.239 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:00:20.391 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:00:20.595 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:00:20.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:00:20.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:00:20.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:00:20.811 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:00:21.854 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:00:21.859 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:00:22.188 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:00:22.193 +03:00 [INF] Hosting environment: Development
2025-09-24 11:00:22.198 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:00:44.884 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:00:45.070 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 198.2293ms
2025-09-24 11:00:45.246 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:00:45.321 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:00:45.328 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:00:45.335 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:00:45.352 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:00:45.358 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:00:45.363 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:00:45.629 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:00:45.641 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:00:45.754 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:00:46.509 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:02:53.222 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 127435.0131ms
2025-09-24 11:02:53.240 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:02:55.034 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.BadRequestException: Refresh token invalid.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 175
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:02:55.283 +03:00 [WRN] An Bad Request exception has occured: Refresh token invalid.
LibraryManagementSystem.Business.Exceptions.BadRequestException: Refresh token invalid.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 175
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:02:55.501 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 400 null null 130258.2973ms
2025-09-24 11:03:02.352 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:03:02.375 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 23.7202ms
2025-09-24 11:03:02.380 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:03:02.395 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:03:02.397 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:03:02.400 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:03:02.403 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:03:02.407 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:03:02.410 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:03:02.413 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:03:02.416 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:03:02.424 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:03:02.440 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:03:08.218 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 5785.4121ms
2025-09-24 11:03:08.233 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:03:09.845 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.BadRequestException: Refresh token invalid.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 175
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:03:09.995 +03:00 [WRN] An Bad Request exception has occured: Refresh token invalid.
LibraryManagementSystem.Business.Exceptions.BadRequestException: Refresh token invalid.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 175
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:03:10.070 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 400 null null 7690.3145ms
2025-09-24 11:03:19.448 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:03:19.457 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 9.3578ms
2025-09-24 11:03:19.462 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:03:19.479 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:03:19.482 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:03:19.486 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:03:19.489 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:03:19.493 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:03:19.497 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:03:19.504 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:03:19.508 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:03:19.512 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:03:19.548 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:07:34.538 +03:00 [INF] Starting database seeding.
2025-09-24 11:07:35.098 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:07:39.428 +03:00 [INF] Executed DbCommand (191ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:07:39.724 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:07:39.742 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:07:39.799 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:07:40.022 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:07:40.175 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:07:41.493 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:07:41.497 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:07:41.857 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:07:41.862 +03:00 [INF] Hosting environment: Development
2025-09-24 11:07:41.868 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:07:49.946 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:07:50.093 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 159.5333ms
2025-09-24 11:07:50.187 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:07:50.232 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:07:50.235 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:07:50.239 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:07:50.246 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:07:50.249 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:07:50.253 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:07:50.418 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:07:50.426 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:07:50.501 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:07:50.982 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:17:52.705 +03:00 [INF] Starting database seeding.
2025-09-24 11:17:53.256 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:17:56.013 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:17:56.226 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:17:56.244 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:17:56.291 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:17:56.419 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:17:56.443 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:17:57.135 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:17:57.141 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:17:57.413 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:17:57.418 +03:00 [INF] Hosting environment: Development
2025-09-24 11:17:57.423 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:21:33.987 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:21:34.150 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 200.0365ms
2025-09-24 11:21:34.283 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:21:34.318 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:21:34.322 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:21:34.325 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:21:34.332 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:21:34.335 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:21:34.339 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:21:34.492 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:21:34.499 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:21:34.571 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:21:35.181 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:24:02.528 +03:00 [INF] Starting database seeding.
2025-09-24 11:24:03.242 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:24:05.996 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:24:06.108 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:24:06.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:24:06.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:24:06.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:24:06.220 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:24:07.332 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:24:07.338 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:24:07.691 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:24:07.696 +03:00 [INF] Hosting environment: Development
2025-09-24 11:24:07.702 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:24:17.283 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:24:17.543 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 279.3681ms
2025-09-24 11:24:17.744 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:24:17.830 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:24:17.833 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:24:17.837 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:24:17.844 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:24:17.847 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:24:17.850 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:24:18.048 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:24:18.059 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:24:18.155 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:24:18.940 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:36:12.813 +03:00 [INF] Starting database seeding.
2025-09-24 11:36:13.367 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:36:16.230 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:36:16.414 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:36:16.423 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:36:16.457 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:36:16.558 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:36:16.579 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:36:17.512 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:36:17.518 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:36:18.006 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:36:18.014 +03:00 [INF] Hosting environment: Development
2025-09-24 11:36:18.020 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:36:31.395 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:36:31.540 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 157.4854ms
2025-09-24 11:36:31.656 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:36:31.693 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:36:31.697 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:36:31.703 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:36:31.712 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:36:31.716 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:36:31.720 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:36:32.013 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:36:32.023 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:36:32.139 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:36:32.931 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:47:09.010 +03:00 [INF] Starting database seeding.
2025-09-24 11:47:09.445 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:47:12.008 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:47:12.179 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:47:12.192 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:47:12.213 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:47:12.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:47:12.312 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:47:13.305 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:47:13.307 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:47:13.480 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:47:13.483 +03:00 [INF] Hosting environment: Development
2025-09-24 11:47:13.487 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:47:18.044 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:47:18.168 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 139.8186ms
2025-09-24 11:47:18.233 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:47:18.262 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:47:18.266 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:47:18.269 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:47:18.275 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:47:18.279 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:47:18.282 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:47:18.422 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:47:18.430 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:47:18.480 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:47:18.916 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:49:07.572 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 109054.0397ms
2025-09-24 11:49:07.600 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:49:10.664 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.BadRequestException: User Id Claim is not exist in the token.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 173
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:49:15.333 +03:00 [WRN] An Bad Request exception has occured: User Id Claim is not exist in the token.
LibraryManagementSystem.Business.Exceptions.BadRequestException: User Id Claim is not exist in the token.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 173
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:49:15.494 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 400 null null 117261.1771ms
2025-09-24 11:53:37.320 +03:00 [INF] Starting database seeding.
2025-09-24 11:53:37.842 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:53:42.406 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:53:42.676 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:53:42.688 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:53:42.742 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:53:42.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:53:42.937 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:53:44.083 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:53:44.085 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:53:44.328 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:53:44.330 +03:00 [INF] Hosting environment: Development
2025-09-24 11:53:44.333 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:53:47.380 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:53:47.499 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 134.3145ms
2025-09-24 11:53:47.594 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:53:47.621 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:53:47.624 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:53:47.627 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:53:47.633 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:53:47.636 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:53:47.638 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:53:47.785 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:53:47.790 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:53:47.830 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:53:48.186 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:53:48.400 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 11:54:44.744 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 56886.8119ms
2025-09-24 11:54:44.764 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:54:47.743 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.BadRequestException: Refresh token invalid.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 180
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:54:47.845 +03:00 [WRN] An Bad Request exception has occured: Refresh token invalid.
LibraryManagementSystem.Business.Exceptions.BadRequestException: Refresh token invalid.
   at LibraryManagementSystem.Business.Services.AccountService.RefreshToken(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AccountService.cs:line 180
   at LibraryManagementSystem.API.Controllers.TokenController.Refresh(TokenDto tokenDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\TokenController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLogging.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLogging.cs:line 24
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-24 11:54:47.969 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 400 null null 60375.6331ms
2025-09-24 11:55:20.930 +03:00 [INF] Starting database seeding.
2025-09-24 11:55:21.661 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:55:24.302 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:55:24.386 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:55:24.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:55:24.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:55:24.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:55:24.505 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:55:25.273 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:55:25.279 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:55:25.613 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:55:25.619 +03:00 [INF] Hosting environment: Development
2025-09-24 11:55:25.625 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:55:26.561 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:55:26.739 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 193.5574ms
2025-09-24 11:55:26.851 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:55:26.895 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:55:26.900 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:55:26.904 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:55:26.911 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:55:26.915 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:55:26.919 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:55:27.099 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:55:27.107 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:55:27.177 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:55:27.715 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:55:28.119 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 11:55:58.031 +03:00 [INF] Starting database seeding.
2025-09-24 11:55:58.633 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 11:56:01.442 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:56:01.638 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:56:01.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 11:56:01.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:56:01.796 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:56:01.822 +03:00 [INF] Database seeding finished successfully.
2025-09-24 11:56:03.074 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 11:56:03.083 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 11:56:03.678 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 11:56:03.684 +03:00 [INF] Hosting environment: Development
2025-09-24 11:56:03.691 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 11:56:06.591 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 503
2025-09-24 11:56:06.776 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 205.0799ms
2025-09-24 11:56:06.912 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 503
2025-09-24 11:56:06.947 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:56:06.952 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:56:06.960 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:56:06.969 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:56:06.974 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:56:06.978 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:56:07.146 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-24 11:56:07.155 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:56:07.243 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-24 11:56:07.850 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-24 11:56:08.340 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-24 11:56:08.508 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-24 11:56:08.628 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 11:56:08.677 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 11:56:09.058 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PersonId] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-09-24 11:56:09.165 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 11:56:09.203 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 1935.5718ms
2025-09-24 11:56:09.212 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-24 11:56:09.218 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 11:56:09.230 +03:00 [INF] Generating expiration headers.
2025-09-24 11:56:09.427 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 08:57:09 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 11:56:09.434 +03:00 [INF] Generating Validation headers.
2025-09-24 11:56:09.466 +03:00 [INF] Validation headers generated. ETag: Strong, "82B649D7462069619A8C796703C6717E". Last-Modified: Wed, 24 Sep 2025 08:56:09 GMT
2025-09-24 11:56:09.470 +03:00 [INF] Generating Vary header.
2025-09-24 11:56:09.472 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 11:56:09.491 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 200 null application/json; charset=utf-8 2579.682ms
2025-09-24 11:57:12.431 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 108
2025-09-24 11:57:12.469 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 41.4651ms
2025-09-24 11:57:12.476 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 108
2025-09-24 11:57:12.522 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:57:12.529 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:57:12.535 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:57:12.540 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:57:12.546 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:57:12.551 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:57:12.629 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 11:57:12.636 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 11:57:12.656 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 11:57:12.702 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 11:57:12.793 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 129.2105ms
2025-09-24 11:57:12.806 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 11:57:12.818 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 11:57:12.826 +03:00 [INF] Generating expiration headers.
2025-09-24 11:57:12.833 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 08:58:12 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 11:57:12.842 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 11:57:12.848 +03:00 [INF] Generating Vary header.
2025-09-24 11:57:12.855 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 11:57:12.864 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 400 null application/json; charset=utf-8 387.884ms
2025-09-24 11:58:13.798 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 110
2025-09-24 11:58:13.814 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 15.8198ms
2025-09-24 11:58:13.816 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 110
2025-09-24 11:58:13.831 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 11:58:13.833 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 11:58:13.835 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 11:58:13.841 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 11:58:13.845 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 11:58:13.851 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 11:58:13.862 +03:00 [INF] Incomming Request: POST /api/Books
2025-09-24 11:58:13.865 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 11:58:13.873 +03:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BookDtos.CreateBookDto) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-09-24 11:58:13.898 +03:00 [INF] Executing an action Create on controller Books.
2025-09-24 11:58:18.461 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE [b].[ISBN] = @__isbn_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-24 11:58:18.830 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-24 11:58:19.457 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 13), @p2='?' (DbType = Int32), @p3='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([DeleteDate], [ISBN], [PublishYear], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-24 11:58:19.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookAuthors] ([AuthorsId], [BooksId])
VALUES (@p4, @p5),
(@p6, @p7);
2025-09-24 11:58:19.595 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 11:58:19.610 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API) in 5730.84ms
2025-09-24 11:58:19.621 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.Create (LibraryManagementSystem.API)'
2025-09-24 11:58:19.633 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 11:58:19.640 +03:00 [INF] Generating expiration headers.
2025-09-24 11:58:19.647 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 08:59:19 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 11:58:19.657 +03:00 [INF] Generating Validation headers.
2025-09-24 11:58:19.663 +03:00 [INF] Validation headers generated. ETag: Strong, "E94D6BA65CC1DACA91641E27DA39977A". Last-Modified: Wed, 24 Sep 2025 08:58:19 GMT
2025-09-24 11:58:19.668 +03:00 [INF] Generating Vary header.
2025-09-24 11:58:19.672 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 11:58:19.676 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 201 null application/json; charset=utf-8 5860.5837ms
2025-09-24 12:16:02.992 +03:00 [INF] Starting database seeding.
2025-09-24 12:16:03.229 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 12:16:04.421 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:16:04.478 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:16:04.482 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:16:04.493 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:16:04.598 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 12:16:04.609 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:16:04.734 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonId], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-09-24 12:16:04.756 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 12:16:04.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-24 12:16:04.797 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 12:16:04.811 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 12:16:04.820 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:16:04.848 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PersonId] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-09-24 12:16:04.875 +03:00 [INF] Database seeding finished successfully.
2025-09-24 12:16:05.205 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 12:16:05.207 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 12:16:05.298 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 12:16:05.301 +03:00 [INF] Hosting environment: Development
2025-09-24 12:16:05.303 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 12:19:21.371 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts/Register - application/json 259
2025-09-24 12:19:21.430 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts/Register - 307 0 null 64.2156ms
2025-09-24 12:19:21.476 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts/Register - application/json 259
2025-09-24 12:19:21.491 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:19:21.493 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:19:21.494 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:19:21.497 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:19:21.499 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:19:21.500 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:19:21.563 +03:00 [INF] Incomming Request: POST /api/Accounts/Register
2025-09-24 12:19:21.566 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:19:21.569 +03:00 [INF] Generating expiration headers.
2025-09-24 12:19:21.570 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:20:21 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:19:21.574 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:19:21.576 +03:00 [INF] Generating Vary header.
2025-09-24 12:19:21.577 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:19:21.582 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts/Register - 404 0 null 105.2018ms
2025-09-24 12:19:21.586 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/Accounts/Register, Response status code: 404
2025-09-24 12:19:55.385 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:19:55.392 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 6.5805ms
2025-09-24 12:19:55.400 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:19:55.407 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:19:55.408 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:19:55.409 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:19:55.412 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:19:55.413 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:19:55.414 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:19:55.417 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:19:55.419 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:19:55.440 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:19:55.727 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:19:55.837 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 385.6714ms
2025-09-24 12:19:55.848 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:19:55.851 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:19:55.853 +03:00 [INF] Generating expiration headers.
2025-09-24 12:19:55.855 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:20:55 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:19:55.857 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:19:55.859 +03:00 [INF] Generating Vary header.
2025-09-24 12:19:55.873 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:19:55.883 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 482.9603ms
2025-09-24 12:28:50.780 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:28:50.788 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 8.0051ms
2025-09-24 12:28:50.790 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:28:50.795 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:28:50.796 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:28:50.798 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:28:50.800 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:28:50.801 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:28:50.802 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:28:50.805 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:28:50.806 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:28:50.809 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:28:50.819 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:28:50.824 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 10.7267ms
2025-09-24 12:28:50.825 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:28:50.827 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:28:50.828 +03:00 [INF] Generating expiration headers.
2025-09-24 12:28:50.829 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:29:50 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:28:50.831 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:28:50.832 +03:00 [INF] Generating Vary header.
2025-09-24 12:28:50.833 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:28:50.834 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 44.5529ms
2025-09-24 12:30:59.189 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:30:59.196 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 6.8169ms
2025-09-24 12:30:59.197 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:30:59.201 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:30:59.202 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:30:59.203 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:30:59.204 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:30:59.206 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:30:59.207 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:30:59.208 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:30:59.209 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:30:59.211 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:30:59.224 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:30:59.227 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 13.3063ms
2025-09-24 12:30:59.229 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:30:59.231 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:30:59.232 +03:00 [INF] Generating expiration headers.
2025-09-24 12:30:59.233 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:31:59 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:30:59.235 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:30:59.236 +03:00 [INF] Generating Vary header.
2025-09-24 12:30:59.238 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:30:59.240 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 43.25ms
2025-09-24 12:31:00.933 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:31:00.936 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 3.4157ms
2025-09-24 12:31:00.937 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:31:00.944 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:31:00.945 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:31:00.946 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:31:00.947 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:31:00.948 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:31:00.949 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:31:00.951 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:31:00.952 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:00.955 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:31:00.960 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:31:00.962 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 3.9696ms
2025-09-24 12:31:00.964 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:00.966 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:31:00.967 +03:00 [INF] Generating expiration headers.
2025-09-24 12:31:00.968 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:32:00 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:31:00.969 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:31:00.970 +03:00 [INF] Generating Vary header.
2025-09-24 12:31:00.972 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:31:00.974 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 36.7081ms
2025-09-24 12:31:02.318 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:31:02.323 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 4.8423ms
2025-09-24 12:31:02.325 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:31:02.329 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:31:02.330 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:31:02.331 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:31:02.332 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:31:02.333 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:31:02.335 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:31:02.338 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:31:02.340 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:02.343 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:31:02.347 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:31:02.350 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 3.5586ms
2025-09-24 12:31:02.351 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:02.354 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:31:02.356 +03:00 [INF] Generating expiration headers.
2025-09-24 12:31:02.357 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:32:02 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:31:02.359 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:31:02.360 +03:00 [INF] Generating Vary header.
2025-09-24 12:31:02.361 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:31:02.362 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 37.5267ms
2025-09-24 12:31:03.724 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:31:03.728 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 3.7837ms
2025-09-24 12:31:03.729 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:31:03.733 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:31:03.734 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:31:03.736 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:31:03.737 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:31:03.739 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:31:03.740 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:31:03.742 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:31:03.743 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:03.745 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:31:03.749 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:31:03.751 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 3.2137ms
2025-09-24 12:31:03.753 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:03.755 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:31:03.757 +03:00 [INF] Generating expiration headers.
2025-09-24 12:31:03.758 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:32:03 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:31:03.759 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:31:03.760 +03:00 [INF] Generating Vary header.
2025-09-24 12:31:03.761 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:31:03.762 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 33.4635ms
2025-09-24 12:31:05.090 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:31:05.094 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 3.57ms
2025-09-24 12:31:05.095 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:31:05.100 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:31:05.101 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:31:05.102 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:31:05.104 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:31:05.105 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:31:05.106 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:31:05.107 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:31:05.108 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:05.110 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:31:05.114 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:31:05.116 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 2.9017ms
2025-09-24 12:31:05.118 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:05.121 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:31:05.123 +03:00 [INF] Generating expiration headers.
2025-09-24 12:31:05.125 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:32:05 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:31:05.128 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:31:05.129 +03:00 [INF] Generating Vary header.
2025-09-24 12:31:05.131 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:31:05.132 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 37.1992ms
2025-09-24 12:31:06.464 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:31:06.468 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 3.9673ms
2025-09-24 12:31:06.470 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:31:06.477 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:31:06.478 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:31:06.480 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:31:06.481 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:31:06.482 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:31:06.484 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:31:06.485 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:31:06.487 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:06.489 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:31:06.494 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:31:06.495 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 2.6734ms
2025-09-24 12:31:06.497 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:31:06.499 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:31:06.500 +03:00 [INF] Generating expiration headers.
2025-09-24 12:31:06.501 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:32:06 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:31:06.503 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:31:06.504 +03:00 [INF] Generating Vary header.
2025-09-24 12:31:06.505 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:31:06.507 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 37.3471ms
2025-09-24 12:34:58.975 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:34:58.982 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 7.1992ms
2025-09-24 12:34:58.983 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:34:58.988 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:34:58.990 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:34:58.991 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:34:58.993 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:34:58.994 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:34:58.997 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:34:58.998 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:34:59.000 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:34:59.002 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:34:59.007 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:34:59.009 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 3.3181ms
2025-09-24 12:34:59.010 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:34:59.012 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:34:59.013 +03:00 [INF] Generating expiration headers.
2025-09-24 12:34:59.014 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:35:59 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:34:59.015 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:34:59.016 +03:00 [INF] Generating Vary header.
2025-09-24 12:34:59.017 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:34:59.019 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 35.5123ms
2025-09-24 12:35:00.385 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 259
2025-09-24 12:35:00.388 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 3.4747ms
2025-09-24 12:35:00.389 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 259
2025-09-24 12:35:00.395 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:35:00.396 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:35:00.397 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:35:00.398 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:35:00.399 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:35:00.399 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:35:00.401 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:35:00.402 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:35:00.404 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:35:00.408 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:35:00.410 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 3.0618ms
2025-09-24 12:35:00.412 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:35:00.413 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:35:00.414 +03:00 [INF] Generating expiration headers.
2025-09-24 12:35:00.415 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:36:00 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:35:00.417 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 12:35:00.418 +03:00 [INF] Generating Vary header.
2025-09-24 12:35:00.419 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:35:00.420 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 400 null application/json; charset=utf-8 31.0402ms
2025-09-24 12:35:27.722 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 227
2025-09-24 12:35:27.730 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 8.0726ms
2025-09-24 12:35:27.732 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 227
2025-09-24 12:35:27.740 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:35:27.741 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:35:27.742 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:35:27.743 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:35:27.744 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:35:27.745 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:35:27.747 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:35:27.748 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:35:27.750 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:35:27.763 +03:00 [INF] Executing an action Register on controller Accounts.
2025-09-24 12:38:40.028 +03:00 [INF] Starting database seeding.
2025-09-24 12:38:40.259 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 12:38:41.441 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:38:41.501 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:38:41.504 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:38:41.516 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:38:41.549 +03:00 [INF] Database seeding finished successfully.
2025-09-24 12:38:41.842 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 12:38:41.843 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 12:38:41.931 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 12:38:41.934 +03:00 [INF] Hosting environment: Development
2025-09-24 12:38:41.935 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 12:38:53.093 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 227
2025-09-24 12:38:53.154 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 68.9797ms
2025-09-24 12:38:53.206 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 227
2025-09-24 12:38:53.234 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:38:53.236 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:38:53.237 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:38:53.242 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:38:53.243 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:38:53.245 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:38:53.325 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:38:53.329 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:38:53.364 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:38:53.608 +03:00 [INF] Executing an action Register on controller Accounts.
2025-09-24 12:41:16.733 +03:00 [INF] Starting database seeding.
2025-09-24 12:41:16.971 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 12:41:18.194 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:41:18.257 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:41:18.261 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:41:18.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:41:18.307 +03:00 [INF] Database seeding finished successfully.
2025-09-24 12:41:18.622 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 12:41:18.624 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 12:41:18.712 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 12:41:18.714 +03:00 [INF] Hosting environment: Development
2025-09-24 12:41:18.715 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 12:42:03.598 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 227
2025-09-24 12:42:03.653 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 60.7195ms
2025-09-24 12:42:03.698 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 227
2025-09-24 12:42:03.714 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:42:03.716 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:42:03.717 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:42:03.720 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:42:03.721 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:42:03.722 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:42:03.849 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:42:03.870 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:42:03.908 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:42:04.068 +03:00 [INF] Executing an action Register on controller Accounts.
2025-09-24 12:42:04.114 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:42:04.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 12:42:04.241 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:42:04.425 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([FirstName], [LastName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-24 12:42:04.449 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p20='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonId], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
INSERT INTO [Borrowers] ([PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p20);
2025-09-24 12:42:04.484 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 12:42:04.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-24 12:42:04.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 12:42:04.557 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 12:42:04.566 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:42:04.587 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PersonId] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-09-24 12:42:04.610 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:42:04.620 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 704.4582ms
2025-09-24 12:42:04.626 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:42:04.628 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:42:04.633 +03:00 [INF] Generating expiration headers.
2025-09-24 12:42:04.635 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:43:04 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:42:04.638 +03:00 [INF] Generating Validation headers.
2025-09-24 12:42:04.650 +03:00 [INF] Validation headers generated. ETag: Strong, "2EED1DD5ACC5D5C8677EF3EF2FB523B4". Last-Modified: Wed, 24 Sep 2025 09:42:04 GMT
2025-09-24 12:42:04.653 +03:00 [INF] Generating Vary header.
2025-09-24 12:42:04.654 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:42:04.663 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 201 null application/json; charset=utf-8 964.906ms
2025-09-24 12:50:36.812 +03:00 [INF] Starting database seeding.
2025-09-24 12:50:37.050 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 12:50:38.259 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:50:38.318 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:50:38.322 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 12:50:38.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:50:38.369 +03:00 [INF] Database seeding finished successfully.
2025-09-24 12:50:38.674 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 12:50:38.676 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 12:50:38.768 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 12:50:38.770 +03:00 [INF] Hosting environment: Development
2025-09-24 12:50:38.772 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 12:52:18.853 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 236
2025-09-24 12:52:18.939 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 58.7824ms
2025-09-24 12:52:18.977 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 236
2025-09-24 12:52:18.992 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 12:52:18.994 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 12:52:18.996 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 12:52:18.998 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 12:52:18.999 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 12:52:19.000 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 12:52:19.066 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 12:52:19.069 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:52:19.089 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 12:52:19.256 +03:00 [INF] Executing an action Register on controller Accounts.
2025-09-24 12:52:19.301 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:52:19.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 12:52:19.429 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:52:19.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([FirstName], [LastName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-24 12:52:19.618 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p20='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonId], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
INSERT INTO [Borrowers] ([PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p20);
2025-09-24 12:52:19.651 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 12:52:19.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-24 12:52:19.699 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 12:52:19.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 12:52:19.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 12:52:19.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PersonId] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-09-24 12:52:19.767 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 12:52:19.779 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 682.141ms
2025-09-24 12:52:19.783 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 12:52:19.785 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 12:52:19.788 +03:00 [INF] Generating expiration headers.
2025-09-24 12:52:19.791 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 09:53:19 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 12:52:19.794 +03:00 [INF] Generating Validation headers.
2025-09-24 12:52:19.805 +03:00 [INF] Validation headers generated. ETag: Strong, "2EED1DD5ACC5D5C8677EF3EF2FB523B4". Last-Modified: Wed, 24 Sep 2025 09:52:19 GMT
2025-09-24 12:52:19.808 +03:00 [INF] Generating Vary header.
2025-09-24 12:52:19.810 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 12:52:19.817 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 201 null application/json; charset=utf-8 840.5893ms
2025-09-24 15:52:24.754 +03:00 [INF] Starting database seeding.
2025-09-24 15:52:25.364 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 15:52:27.524 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 15:52:27.626 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 15:52:27.643 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 15:52:27.659 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 15:52:27.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 15:52:27.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 15:52:27.992 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonId], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-09-24 15:52:28.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 15:52:28.059 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-24 15:52:28.070 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 15:52:28.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 15:52:28.098 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 15:52:28.142 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PersonId] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-09-24 15:52:28.162 +03:00 [INF] Database seeding finished successfully.
2025-09-24 15:52:28.935 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 15:52:28.936 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 15:52:29.095 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 15:52:29.097 +03:00 [INF] Hosting environment: Development
2025-09-24 15:52:29.100 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 15:52:41.123 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts - application/json 236
2025-09-24 15:52:41.191 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts - 307 0 null 78.2722ms
2025-09-24 15:52:41.255 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts - application/json 236
2025-09-24 15:52:41.272 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 15:52:41.274 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 15:52:41.275 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 15:52:41.278 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 15:52:41.278 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 15:52:41.280 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 15:52:42.321 +03:00 [INF] Incomming Request: POST /api/Accounts
2025-09-24 15:52:42.324 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 15:52:42.342 +03:00 [INF] Route matched with {action = "Register", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(LibraryManagementSystem.Business.Dtos.AccountDtos.RegisterDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 15:52:42.497 +03:00 [INF] Executing an action Register on controller Accounts.
2025-09-24 15:52:42.543 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 15:52:42.627 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 15:52:42.634 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 15:52:42.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([FirstName], [LastName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-24 15:52:42.704 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p20='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonId], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
INSERT INTO [Borrowers] ([PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p20);
2025-09-24 15:52:42.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 15:52:42.722 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-24 15:52:42.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-24 15:52:42.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 15:52:42.737 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 15:52:42.743 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PersonId] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-09-24 15:52:42.788 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-24 15:52:42.807 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 15:52:42.821 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API) in 472.5262ms
2025-09-24 15:52:42.825 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Register (LibraryManagementSystem.API)'
2025-09-24 15:52:42.826 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 15:52:42.830 +03:00 [INF] Generating expiration headers.
2025-09-24 15:52:42.832 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 12:53:42 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 15:52:42.836 +03:00 [INF] Generating Validation headers.
2025-09-24 15:52:42.847 +03:00 [INF] Validation headers generated. ETag: Strong, "E3922F1CE4CB3DD225202B73CD5E189E". Last-Modified: Wed, 24 Sep 2025 12:52:42 GMT
2025-09-24 15:52:42.851 +03:00 [INF] Generating Vary header.
2025-09-24 15:52:42.852 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 15:52:42.860 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts - 201 null application/json; charset=utf-8 1625.8007ms
2025-09-24 15:55:11.446 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - application/json 79
2025-09-24 15:55:11.478 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - 307 0 null 32.1823ms
2025-09-24 15:55:11.482 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - application/json 79
2025-09-24 15:55:11.490 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 15:55:11.492 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 15:55:11.494 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 15:55:11.495 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 15:55:11.497 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 15:55:11.499 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 15:55:11.502 +03:00 [INF] Incomming Request: POST /api/Accounts/Login
2025-09-24 15:55:11.504 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-24 15:55:11.512 +03:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementSystem.Business.Dtos.AccountDtos.LoginDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-24 15:55:11.526 +03:00 [INF] Executing an action Login on controller Accounts.
2025-09-24 15:55:11.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 15:55:11.663 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-24 15:55:11.741 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-24 15:55:11.747 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 15:55:11.756 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PersonId] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-09-24 15:55:11.767 +03:00 [INF] Executing ObjectResult, writing value of type 'LibraryManagementSystem.API.DTOs.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-24 15:55:11.772 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API) in 254.4412ms
2025-09-24 15:55:11.775 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-24 15:55:11.777 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-24 15:55:11.779 +03:00 [INF] Generating expiration headers.
2025-09-24 15:55:11.782 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 12:56:11 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 15:55:11.785 +03:00 [INF] Generating Validation headers.
2025-09-24 15:55:11.789 +03:00 [INF] Validation headers generated. ETag: Strong, "391976C36BD5D286EE026C52B0B313E8". Last-Modified: Wed, 24 Sep 2025 12:55:11 GMT
2025-09-24 15:55:11.793 +03:00 [INF] Generating Vary header.
2025-09-24 15:55:11.794 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 15:55:11.799 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - 200 null application/json; charset=utf-8 316.9903ms
2025-09-24 15:57:27.686 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 109
2025-09-24 15:57:27.695 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 9.1723ms
2025-09-24 15:57:27.696 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 109
2025-09-24 15:57:27.703 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 15:57:27.705 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 15:57:27.706 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 15:57:27.707 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 15:57:27.708 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 15:57:27.709 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 15:57:27.758 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 15:57:27.763 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-09-24 15:57:27.764 +03:00 [INF] Generating expiration headers.
2025-09-24 15:57:27.766 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 12:58:27 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 15:57:27.767 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 15:57:27.769 +03:00 [INF] Generating Vary header.
2025-09-24 15:57:27.770 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 15:57:27.772 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 403 0 null 75.7729ms
2025-09-24 15:57:31.093 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 109
2025-09-24 15:57:31.096 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 3.3978ms
2025-09-24 15:57:31.098 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 109
2025-09-24 15:57:31.105 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 15:57:31.107 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 15:57:31.109 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 15:57:31.112 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 15:57:31.113 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 15:57:31.115 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 15:57:31.117 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 15:57:31.119 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-09-24 15:57:31.120 +03:00 [INF] Generating expiration headers.
2025-09-24 15:57:31.121 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 12:58:31 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 15:57:31.122 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 15:57:31.123 +03:00 [INF] Generating Vary header.
2025-09-24 15:57:31.124 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 15:57:31.125 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 403 0 null 27.7266ms
2025-09-24 18:35:41.692 +03:00 [INF] Starting database seeding.
2025-09-24 18:35:43.791 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-24 18:35:48.829 +03:00 [INF] Executed DbCommand (193ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 18:35:48.944 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 18:35:48.955 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-24 18:35:48.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-24 18:35:49.051 +03:00 [INF] Database seeding finished successfully.
2025-09-24 18:35:50.716 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-24 18:35:50.721 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-24 18:35:50.927 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-24 18:35:50.932 +03:00 [INF] Hosting environment: Development
2025-09-24 18:35:50.938 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-24 18:35:56.379 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 109
2025-09-24 18:35:56.469 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 98.165ms
2025-09-24 18:35:56.543 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 109
2025-09-24 18:35:56.572 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 18:35:56.576 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 18:35:56.579 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 18:35:56.584 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 18:35:56.586 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 18:35:56.589 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 18:36:02.089 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 1:55:11 PM', Current time (UTC): '9/24/2025 3:36:02 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 18:36:02.156 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 1:55:11 PM', Current time (UTC): '9/24/2025 3:36:02 PM'.
2025-09-24 18:36:02.188 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 18:36:02.214 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 18:36:02.232 +03:00 [INF] Generating expiration headers.
2025-09-24 18:36:02.244 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 15:37:02 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 18:36:02.270 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 18:36:02.280 +03:00 [INF] Generating Vary header.
2025-09-24 18:36:02.290 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 18:36:02.321 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 5777.8415ms
2025-09-24 18:36:12.104 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Books - application/json 109
2025-09-24 18:36:12.114 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Books - 307 0 null 10.888ms
2025-09-24 18:36:12.121 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Books - application/json 109
2025-09-24 18:36:12.140 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-24 18:36:12.150 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-24 18:36:12.157 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-24 18:36:12.164 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-24 18:36:12.172 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-24 18:36:12.180 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-24 18:36:12.191 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 1:55:11 PM', Current time (UTC): '9/24/2025 3:36:12 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-24 18:36:12.218 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/24/2025 1:55:11 PM', Current time (UTC): '9/24/2025 3:36:12 PM'.
2025-09-24 18:36:12.223 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-24 18:36:12.227 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-24 18:36:12.231 +03:00 [INF] Generating expiration headers.
2025-09-24 18:36:12.234 +03:00 [INF] Expiration headers generated. Expires: Wed, 24 Sep 2025 15:37:12 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-24 18:36:12.240 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-24 18:36:12.242 +03:00 [INF] Generating Vary header.
2025-09-24 18:36:12.246 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-24 18:36:12.249 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Books - 401 0 null 128.1184ms
