2025-10-07 21:37:52.449 +03:00 [INF] Starting database seeding.
2025-10-07 21:37:54.264 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-07 21:38:01.268 +03:00 [INF] Executed DbCommand (389ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:38:01.562 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:38:01.574 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:38:01.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-07 21:38:01.728 +03:00 [INF] Database seeding finished successfully.
2025-10-07 21:38:02.724 +03:00 [INF] Now listening on: https://localhost:7266
2025-10-07 21:38:02.732 +03:00 [INF] Now listening on: http://localhost:5132
2025-10-07 21:38:03.263 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-07 21:38:03.270 +03:00 [INF] Hosting environment: Development
2025-10-07 21:38:03.278 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-10-07 21:38:04.618 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger - null null
2025-10-07 21:38:04.839 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/9780132350884 - null null
2025-10-07 21:38:04.881 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/9780132350884 - 307 0 null 40.7959ms
2025-10-07 21:38:04.905 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/9780132350884 - null null
2025-10-07 21:38:04.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger - 301 0 null 328.5381ms
2025-10-07 21:38:04.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/index.html - null null
2025-10-07 21:38:04.985 +03:00 [INF] Incomming Request: GET /api/Books/isbn/9780132350884
2025-10-07 21:38:05.012 +03:00 [INF] No cached response available for this request.
2025-10-07 21:38:05.051 +03:00 [INF] Checking for conditional GET/HEAD.
2025-10-07 21:38:05.061 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-10-07 21:38:05.066 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-10-07 21:38:05.078 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-10-07 21:38:05.083 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-10-07 21:38:05.089 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-10-07 21:38:05.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/index.html - 200 null text/html;charset=utf-8 943.9365ms
2025-10-07 21:38:05.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/swagger-ui.css - null null
2025-10-07 21:38:05.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/swagger-ui-bundle.js - null null
2025-10-07 21:38:05.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/swagger-ui-standalone-preset.js - null null
2025-10-07 21:38:05.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - null null
2025-10-07 21:38:05.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_vs/browserLink - null null
2025-10-07 21:38:05.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript; charset=utf-8 82.2097ms
2025-10-07 21:38:05.985 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-10-07 21:38:05.985 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-07 21:38:06.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 107.9077ms
2025-10-07 21:38:06.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/swagger-ui.css - 200 152034 text/css 110.4241ms
2025-10-07 21:38:06.003 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-10-07 21:38:06.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 136.0957ms
2025-10-07 21:38:06.582 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_vs/browserLink - 200 null text/javascript; charset=UTF-8 667.8107ms
2025-10-07 21:38:06.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - null null
2025-10-07 21:38:07.562 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 755.7796ms
2025-10-07 21:38:09.073 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-10-07 21:38:09.160 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-10-07 21:38:09.951 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-10-07 21:38:10.561 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName], [s].[AuthorsId], [s].[BooksId]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName], [b0].[AuthorsId], [b0].[BooksId]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-10-07 21:38:22.184 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 12990.862ms
2025-10-07 21:38:22.202 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-10-07 21:38:24.791 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 9780132350884 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 182
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-07 21:38:24.926 +03:00 [ERR] A Not Found exception has occured: Book with isbn 9780132350884 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 9780132350884 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 182
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-07 21:38:25.061 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/9780132350884 - 404 null application/problem+json 20156.2716ms
2025-10-07 21:38:59.576 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/9780132350884 - null null
2025-10-07 21:38:59.589 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/9780132350884 - 307 0 null 12.3994ms
2025-10-07 21:38:59.594 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/9780132350884 - null null
2025-10-07 21:38:59.624 +03:00 [INF] Incomming Request: GET /api/Books/isbn/9780132350884
2025-10-07 21:38:59.630 +03:00 [INF] No cached response available for this request.
2025-10-07 21:38:59.635 +03:00 [INF] Checking for conditional GET/HEAD.
2025-10-07 21:38:59.637 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-10-07 21:38:59.640 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-10-07 21:38:59.644 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-10-07 21:38:59.647 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-10-07 21:38:59.651 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-10-07 21:38:59.657 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-10-07 21:38:59.664 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-10-07 21:38:59.678 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-10-07 21:38:59.706 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName], [s].[AuthorsId], [s].[BooksId]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName], [b0].[AuthorsId], [b0].[BooksId]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-10-07 21:39:03.390 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 3717.3102ms
2025-10-07 21:39:03.396 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-10-07 21:39:05.433 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 9780132350884 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 182
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-07 21:39:05.500 +03:00 [ERR] A Not Found exception has occured: Book with isbn 9780132350884 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 9780132350884 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 182
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-07 21:39:05.550 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/9780132350884 - 404 null application/problem+json 5955.9026ms
2025-10-07 21:39:47.730 +03:00 [INF] Starting database seeding.
2025-10-07 21:39:48.283 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-07 21:39:51.409 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:39:51.501 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:39:51.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:39:51.524 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-07 21:39:51.593 +03:00 [INF] Database seeding finished successfully.
2025-10-07 21:39:52.133 +03:00 [INF] Now listening on: https://localhost:7266
2025-10-07 21:39:52.135 +03:00 [INF] Now listening on: http://localhost:5132
2025-10-07 21:39:52.410 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-07 21:39:52.416 +03:00 [INF] Hosting environment: Development
2025-10-07 21:39:52.421 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-10-07 21:39:53.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/index.html - null null
2025-10-07 21:39:53.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/index.html - 200 null text/html;charset=utf-8 472.199ms
2025-10-07 21:39:53.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_vs/browserLink - null null
2025-10-07 21:39:53.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - null null
2025-10-07 21:39:53.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript; charset=utf-8 31.8202ms
2025-10-07 21:39:53.767 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.2193ms
2025-10-07 21:39:54.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - null null
2025-10-07 21:39:54.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 506.0506ms
2025-10-07 21:39:57.395 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Books/isbn/9780132350884 - null null
2025-10-07 21:39:57.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Books/isbn/9780132350884 - 307 0 null 44.6362ms
2025-10-07 21:39:57.469 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Books/isbn/9780132350884 - null null
2025-10-07 21:39:57.601 +03:00 [INF] Incomming Request: GET /api/Books/isbn/9780132350884
2025-10-07 21:39:57.636 +03:00 [INF] No cached response available for this request.
2025-10-07 21:39:57.688 +03:00 [INF] Checking for conditional GET/HEAD.
2025-10-07 21:39:57.703 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-10-07 21:39:57.708 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-10-07 21:39:57.720 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-10-07 21:39:57.726 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-10-07 21:39:57.733 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-10-07 21:39:58.005 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-10-07 21:39:58.154 +03:00 [INF] Route matched with {action = "GetByIsbn", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIsbn(System.String) on controller LibraryManagementSystem.API.Controllers.BooksController (LibraryManagementSystem.API).
2025-10-07 21:39:58.651 +03:00 [INF] Executing an action GetByIsbn on controller Books.
2025-10-07 21:39:59.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__isbn_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[DeleteDate], [b1].[ISBN], [b1].[PublishYear], [b1].[Title], [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName], [s].[AuthorsId], [s].[BooksId]
FROM (
    SELECT TOP(2) [b].[Id], [b].[DeleteDate], [b].[ISBN], [b].[PublishYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[ISBN] = @__isbn_0
) AS [b1]
LEFT JOIN (
    SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName], [b0].[AuthorsId], [b0].[BooksId]
    FROM [BookAuthors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorsId] = [a].[Id]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
) AS [s] ON [b1].[Id] = [s].[BooksId]
ORDER BY [b1].[Id], [s].[AuthorsId], [s].[BooksId], [s].[Id]
2025-10-07 21:40:00.927 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API) in 2740.8135ms
2025-10-07 21:40:00.954 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn (LibraryManagementSystem.API)'
2025-10-07 21:40:03.998 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 9780132350884 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 182
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-07 21:40:04.267 +03:00 [ERR] A Not Found exception has occured: Book with isbn 9780132350884 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Book with isbn 9780132350884 not found.
   at LibraryManagementSystem.Business.Services.BookService.GetByIsbnAsync(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BookService.cs:line 182
   at LibraryManagementSystem.API.Controllers.BooksController.GetByIsbn(String isbn) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BooksController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-07 21:40:04.517 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Books/isbn/9780132350884 - 404 null application/problem+json 7048.3589ms
2025-10-07 21:43:02.326 +03:00 [INF] Starting database seeding.
2025-10-07 21:43:02.905 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-07 21:43:06.387 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:43:06.558 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:43:06.569 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:43:06.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-07 21:43:06.654 +03:00 [INF] Database seeding finished successfully.
2025-10-07 21:43:07.246 +03:00 [INF] Now listening on: https://localhost:7266
2025-10-07 21:43:07.254 +03:00 [INF] Now listening on: http://localhost:5132
2025-10-07 21:43:07.472 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-07 21:43:07.476 +03:00 [INF] Hosting environment: Development
2025-10-07 21:43:07.478 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-10-07 21:43:07.920 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/index.html - null null
2025-10-07 21:43:08.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/index.html - 200 null text/html;charset=utf-8 584.044ms
2025-10-07 21:43:08.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_vs/browserLink - null null
2025-10-07 21:43:08.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - null null
2025-10-07 21:43:08.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript; charset=utf-8 50.5464ms
2025-10-07 21:43:08.588 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.7753ms
2025-10-07 21:43:08.792 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - null null
2025-10-07 21:43:09.685 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 892.3761ms
2025-10-07 21:43:14.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Users/df11b04f-7c59-4355-8de3-24a490a36e56 - application/json 82
2025-10-07 21:43:14.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Users/df11b04f-7c59-4355-8de3-24a490a36e56 - 307 0 null 28.6853ms
2025-10-07 21:43:14.547 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Users/df11b04f-7c59-4355-8de3-24a490a36e56 - application/json 82
2025-10-07 21:43:14.616 +03:00 [INF] Incomming Request: GET /api/Users/df11b04f-7c59-4355-8de3-24a490a36e56
2025-10-07 21:43:14.648 +03:00 [INF] Checking for conditional GET/HEAD.
2025-10-07 21:43:14.660 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-10-07 21:43:14.663 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-10-07 21:43:14.671 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-10-07 21:43:14.676 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-10-07 21:43:14.681 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-10-07 21:43:15.038 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2025 4:22:19 PM', Current time (UTC): '10/7/2025 6:43:15 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-07 21:43:15.085 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2025 4:22:19 PM', Current time (UTC): '10/7/2025 6:43:15 PM'.
2025-10-07 21:43:15.110 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-10-07 21:43:15.200 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-07 21:43:15.209 +03:00 [INF] Generating expiration headers.
2025-10-07 21:43:15.214 +03:00 [INF] Expiration headers generated. Expires: Tue, 07 Oct 2025 18:44:15 GMT. Cache-Control: public,max-age=60.
2025-10-07 21:43:15.221 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-10-07 21:43:15.226 +03:00 [INF] Generating Vary header.
2025-10-07 21:43:15.231 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-10-07 21:43:15.237 +03:00 [INF] Outgoing Response: {Status Code}
2025-10-07 21:43:15.243 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Users/df11b04f-7c59-4355-8de3-24a490a36e56 - 401 null application/problem+json 695.271ms
2025-10-07 21:47:11.929 +03:00 [INF] Starting database seeding.
2025-10-07 21:47:12.334 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-07 21:47:15.059 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:47:15.183 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:47:15.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 21:47:15.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-07 21:47:15.280 +03:00 [INF] Database seeding finished successfully.
2025-10-07 21:47:15.705 +03:00 [INF] Now listening on: https://localhost:7266
2025-10-07 21:47:15.709 +03:00 [INF] Now listening on: http://localhost:5132
2025-10-07 21:47:15.964 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-07 21:47:15.967 +03:00 [INF] Hosting environment: Development
2025-10-07 21:47:15.970 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-10-07 21:47:16.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/index.html - null null
2025-10-07 21:47:16.651 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authentication/Login - application/json 82
2025-10-07 21:47:16.699 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authentication/Login - 307 0 null 53.5011ms
2025-10-07 21:47:16.723 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authentication/Login - application/json 82
2025-10-07 21:47:16.873 +03:00 [INF] Incomming Request: POST /api/Authentication/Login
2025-10-07 21:47:16.946 +03:00 [INF] Checking for conditional GET/HEAD.
2025-10-07 21:47:16.949 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-10-07 21:47:16.954 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-10-07 21:47:16.963 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-10-07 21:47:16.966 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-10-07 21:47:16.971 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-10-07 21:47:17.317 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/index.html - 200 null text/html;charset=utf-8 750.5929ms
2025-10-07 21:47:17.348 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - null null
2025-10-07 21:47:17.356 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_vs/browserLink - null null
2025-10-07 21:47:17.375 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2025 4:22:19 PM', Current time (UTC): '10/7/2025 6:47:17 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-07 21:47:17.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript; charset=utf-8 27.8599ms
2025-10-07 21:47:17.436 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2025 4:22:19 PM', Current time (UTC): '10/7/2025 6:47:17 PM'.
2025-10-07 21:47:17.446 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthenticationController.Login (LibraryManagementSystem.API)'
2025-10-07 21:47:17.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.0652ms
2025-10-07 21:47:17.512 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementSystem.Business.Dtos.AccountDtos.LoginDto) on controller LibraryManagementSystem.API.Controllers.AuthenticationController (LibraryManagementSystem.API).
2025-10-07 21:47:17.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - null null
2025-10-07 21:47:18.141 +03:00 [INF] Executing an action Login on controller Authentication.
2025-10-07 21:47:18.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 612.032ms
2025-10-07 21:47:18.350 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-10-07 21:47:18.758 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-10-07 21:47:18.787 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-07 21:47:19.148 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsRefreshTokenRevoked] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PersonId] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-10-07 21:47:19.207 +03:00 [WRN] ValidateAsync Authentication failed.Wrong User name or password
2025-10-07 21:47:19.231 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-10-07 21:47:19.252 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthenticationController.Login (LibraryManagementSystem.API) in 1719.3543ms
2025-10-07 21:47:19.263 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthenticationController.Login (LibraryManagementSystem.API)'
2025-10-07 21:47:19.278 +03:00 [INF] Generating expiration headers.
2025-10-07 21:47:19.294 +03:00 [INF] Expiration headers generated. Expires: Tue, 07 Oct 2025 18:47:29 GMT. Cache-Control: public,max-age=10,must-revalidate.
2025-10-07 21:47:19.309 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-10-07 21:47:19.318 +03:00 [INF] Generating Vary header.
2025-10-07 21:47:19.321 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-10-07 21:47:19.328 +03:00 [INF] Outgoing Response: {Status Code}
2025-10-07 21:47:19.338 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authentication/Login - 401 null text/plain; charset=utf-8 2615.1434ms
2025-10-07 22:00:39.017 +03:00 [INF] Starting database seeding.
2025-10-07 22:00:39.414 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-07 22:00:41.846 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 22:00:41.950 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 22:00:41.959 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-07 22:00:41.982 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-07 22:00:42.046 +03:00 [INF] Database seeding finished successfully.
2025-10-07 22:00:42.446 +03:00 [INF] Now listening on: https://localhost:7266
2025-10-07 22:00:42.451 +03:00 [INF] Now listening on: http://localhost:5132
2025-10-07 22:00:42.753 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-07 22:00:42.757 +03:00 [INF] Hosting environment: Development
2025-10-07 22:00:42.763 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-10-07 22:00:43.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/index.html - null null
2025-10-07 22:00:43.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/index.html - 200 null text/html;charset=utf-8 486.6162ms
2025-10-07 22:00:43.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_vs/browserLink - null null
2025-10-07 22:00:43.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - null null
2025-10-07 22:00:43.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript; charset=utf-8 48.7257ms
2025-10-07 22:00:43.813 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.4864ms
2025-10-07 22:00:43.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - null null
2025-10-07 22:00:44.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7266/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 511.1272ms
2025-10-07 22:00:54.179 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authentication/Login - application/json 82
2025-10-07 22:00:54.209 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authentication/Login - 307 0 null 30.1198ms
2025-10-07 22:00:54.228 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authentication/Login - application/json 82
2025-10-07 22:00:54.298 +03:00 [INF] Incomming Request: POST /api/Authentication/Login
2025-10-07 22:00:54.331 +03:00 [INF] Checking for conditional GET/HEAD.
2025-10-07 22:00:54.335 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-10-07 22:00:54.341 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-10-07 22:00:54.351 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-10-07 22:00:54.354 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-10-07 22:00:54.359 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-10-07 22:00:54.633 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2025 4:22:19 PM', Current time (UTC): '10/7/2025 7:00:54 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-07 22:00:54.698 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2025 4:22:19 PM', Current time (UTC): '10/7/2025 7:00:54 PM'.
2025-10-07 22:00:54.716 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthenticationController.Login (LibraryManagementSystem.API)'
2025-10-07 22:00:54.799 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementSystem.Business.Dtos.AccountDtos.LoginDto) on controller LibraryManagementSystem.API.Controllers.AuthenticationController (LibraryManagementSystem.API).
2025-10-07 22:00:55.435 +03:00 [INF] Executing an action Login on controller Authentication.
2025-10-07 22:00:55.659 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-10-07 22:00:56.046 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-10-07 22:00:56.099 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsRefreshTokenRevoked], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-07 22:00:56.537 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsRefreshTokenRevoked] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PersonId] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-10-07 22:00:56.619 +03:00 [WRN] ValidateAsync Authentication failed.Wrong User name or password
2025-10-07 22:00:56.645 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-10-07 22:00:56.699 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthenticationController.Login (LibraryManagementSystem.API) in 1882.2829ms
2025-10-07 22:00:56.706 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthenticationController.Login (LibraryManagementSystem.API)'
2025-10-07 22:00:56.718 +03:00 [INF] Generating expiration headers.
2025-10-07 22:00:56.723 +03:00 [INF] Expiration headers generated. Expires: Tue, 07 Oct 2025 19:01:06 GMT. Cache-Control: public,max-age=10,must-revalidate.
2025-10-07 22:00:56.736 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-10-07 22:00:56.743 +03:00 [INF] Generating Vary header.
2025-10-07 22:00:56.751 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-10-07 22:00:56.767 +03:00 [INF] Outgoing Response: {Status Code}
2025-10-07 22:00:56.796 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authentication/Login - 401 null application/problem+json; charset=utf-8 2567.3402ms
