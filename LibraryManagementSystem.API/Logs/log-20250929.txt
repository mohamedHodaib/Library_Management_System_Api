2025-09-29 09:09:53.752 +03:00 [INF] Starting database seeding.
2025-09-29 09:09:55.511 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:10:00.543 +03:00 [INF] Executed DbCommand (208ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:10:00.751 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:10:00.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:10:00.797 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:10:00.919 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:10:02.477 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:10:02.480 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:10:02.700 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:10:02.705 +03:00 [INF] Hosting environment: Development
2025-09-29 09:10:02.709 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:10:03.263 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5132/api/Authors/1 - null 0
2025-09-29 09:10:03.412 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5132/api/Authors/1 - 307 0 null 165.2749ms
2025-09-29 09:10:03.568 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7266/api/Authors/1 - null 0
2025-09-29 09:10:08.169 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:10:08 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 09:10:08.260 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:10:08 AM'.
2025-09-29 09:10:08.299 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-29 09:10:08.347 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-29 09:10:08.368 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7266/api/Authors/1 - 401 0 null 4799.986ms
2025-09-29 09:10:18.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/1 - null null
2025-09-29 09:10:18.333 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/1 - 307 0 null 18.7964ms
2025-09-29 09:10:18.340 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/1 - null null
2025-09-29 09:10:18.366 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:10:18 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 09:10:18.419 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:10:18 AM'.
2025-09-29 09:10:18.455 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:10:18.464 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:10:18.467 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:10:18.475 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:10:18.478 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:10:18.481 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:10:18.493 +03:00 [INF] Incomming Request: GET /api/Authors/1
2025-09-29 09:10:18.499 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 09:10:18.551 +03:00 [INF] Route matched with {action = "GetById", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:10:18.902 +03:00 [INF] Executing an action GetById on controller Authors.
2025-09-29 09:10:19.340 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId], [s0].[Id], [s0].[DeleteDate], [s0].[ISBN], [s0].[PublishYear], [s0].[Title], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Authors] AS [a]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [a].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [b].[AuthorsId], [b].[BooksId], [b0].[Id], [b0].[DeleteDate], [b0].[ISBN], [b0].[PublishYear], [b0].[Title]
    FROM [BookAuthors] AS [b]
    INNER JOIN [Books] AS [b0] ON [b].[BooksId] = [b0].[Id]
) AS [s0] ON [s].[Id] = [s0].[AuthorsId]
ORDER BY [s].[Id], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId]
2025-09-29 09:10:36.858 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API) in 18291.1086ms
2025-09-29 09:10:36.865 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 09:10:40.444 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Author with id 1 not found.
   at LibraryManagementSystem.Business.Services.AuthorService.ThrowNotFoundExceptionIfAuthorNotExist(Int32 id, Author author) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 190
   at LibraryManagementSystem.Business.Services.AuthorService.GetByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 37
   at LibraryManagementSystem.API.Controllers.AuthorsController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 09:10:40.614 +03:00 [WRN] A Not Found exception has occured: Author with id 1 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Author with id 1 not found.
   at LibraryManagementSystem.Business.Services.AuthorService.ThrowNotFoundExceptionIfAuthorNotExist(Int32 id, Author author) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 190
   at LibraryManagementSystem.Business.Services.AuthorService.GetByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 37
   at LibraryManagementSystem.API.Controllers.AuthorsController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 09:10:40.764 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/1 - 404 null application/problem+json 22424.1427ms
2025-09-29 09:10:53.137 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/2 - null null
2025-09-29 09:10:53.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/2 - 307 0 null 8.1883ms
2025-09-29 09:10:53.148 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/2 - null null
2025-09-29 09:10:53.164 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:10:53 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 09:10:53.185 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:10:53 AM'.
2025-09-29 09:10:53.189 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:10:53.192 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:10:53.195 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:10:53.197 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:10:53.201 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:10:53.203 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:10:53.205 +03:00 [INF] Incomming Request: GET /api/Authors/2
2025-09-29 09:10:53.210 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 09:10:53.214 +03:00 [INF] Route matched with {action = "GetById", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:10:53.223 +03:00 [INF] Executing an action GetById on controller Authors.
2025-09-29 09:10:53.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId], [s0].[Id], [s0].[DeleteDate], [s0].[ISBN], [s0].[PublishYear], [s0].[Title], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Authors] AS [a]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [a].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [b].[AuthorsId], [b].[BooksId], [b0].[Id], [b0].[DeleteDate], [b0].[ISBN], [b0].[PublishYear], [b0].[Title]
    FROM [BookAuthors] AS [b]
    INNER JOIN [Books] AS [b0] ON [b].[BooksId] = [b0].[Id]
) AS [s0] ON [s].[Id] = [s0].[AuthorsId]
ORDER BY [s].[Id], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId]
2025-09-29 09:10:53.416 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorDetailsDto'.
2025-09-29 09:10:53.424 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API) in 204.5645ms
2025-09-29 09:10:53.429 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 09:10:53.433 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:10:53.438 +03:00 [INF] Generating expiration headers.
2025-09-29 09:10:53.441 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:11:53 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:10:53.446 +03:00 [INF] Generating Validation headers.
2025-09-29 09:10:53.463 +03:00 [INF] Validation headers generated. ETag: Strong, "27D83A52A1FC8209B38A83D31C1F808F". Last-Modified: Mon, 29 Sep 2025 06:10:53 GMT
2025-09-29 09:10:53.467 +03:00 [INF] Generating Vary header.
2025-09-29 09:10:53.469 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:10:53.472 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/2 - 200 null application/json; charset=utf-8 324.9377ms
2025-09-29 09:11:45.855 +03:00 [INF] Starting database seeding.
2025-09-29 09:11:46.322 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:11:49.422 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:11:49.598 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:11:49.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:11:49.654 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:11:49.781 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:11:50.357 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:11:50.359 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:11:50.612 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:11:50.615 +03:00 [INF] Hosting environment: Development
2025-09-29 09:11:50.619 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:12:03.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors - null null
2025-09-29 09:12:03.890 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors - 307 0 null 318.1567ms
2025-09-29 09:12:04.018 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors - null null
2025-09-29 09:12:04.428 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:12:04 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 09:12:04.519 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:12:04 AM'.
2025-09-29 09:12:04.575 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:12:04.590 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:12:04.595 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:12:04.608 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:12:04.615 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:12:04.620 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:12:04.641 +03:00 [INF] Incomming Request: GET /api/Authors
2025-09-29 09:12:04.652 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 09:12:04.765 +03:00 [INF] Route matched with {action = "GetAll", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:12:05.435 +03:00 [INF] Executing an action GetAll on controller Authors.
2025-09-29 09:14:36.930 +03:00 [INF] Starting database seeding.
2025-09-29 09:14:37.694 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:14:40.359 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:14:40.520 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:14:40.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:14:40.569 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:14:40.703 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:14:41.553 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:14:41.556 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:14:41.769 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:14:41.772 +03:00 [INF] Hosting environment: Development
2025-09-29 09:14:41.775 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:14:54.501 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors - null null
2025-09-29 09:14:54.633 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors - 307 0 null 143.4586ms
2025-09-29 09:14:54.748 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors - null null
2025-09-29 09:14:55.010 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:14:54 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 09:14:55.057 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:14:54 AM'.
2025-09-29 09:14:55.096 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:14:55.104 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:14:55.107 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:14:55.115 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:14:55.118 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:14:55.121 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:14:55.133 +03:00 [INF] Incomming Request: GET /api/Authors
2025-09-29 09:14:55.140 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 09:14:55.198 +03:00 [INF] Route matched with {action = "GetAll", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:14:55.818 +03:00 [INF] Executing an action GetAll on controller Authors.
2025-09-29 09:14:56.205 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
2025-09-29 09:14:56.283 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-29 09:14:56.368 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:14:56.405 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API) in 1186.6154ms
2025-09-29 09:14:56.421 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 09:14:56.431 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:14:56.440 +03:00 [INF] Generating expiration headers.
2025-09-29 09:14:56.445 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:15:56 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:14:56.451 +03:00 [INF] Generating Validation headers.
2025-09-29 09:14:56.485 +03:00 [INF] Validation headers generated. ETag: Strong, "24A6815B1FFEC2D06447204669BF8889". Last-Modified: Mon, 29 Sep 2025 06:14:56 GMT
2025-09-29 09:14:56.496 +03:00 [INF] Generating Vary header.
2025-09-29 09:14:56.546 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:14:56.575 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors - 200 null application/json; charset=utf-8 1827.5392ms
2025-09-29 09:15:33.338 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Persons - null null
2025-09-29 09:15:33.354 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Persons - 307 0 null 15.2357ms
2025-09-29 09:15:33.368 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Persons - null null
2025-09-29 09:15:33.389 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:15:33 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 09:15:33.427 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2025 5:22:23 PM', Current time (UTC): '9/29/2025 6:15:33 AM'.
2025-09-29 09:15:33.449 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-29 09:15:33.479 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-29 09:15:33.485 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Persons - 401 0 null 117.2455ms
2025-09-29 09:15:53.397 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 521
2025-09-29 09:15:53.405 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 8.6264ms
2025-09-29 09:15:53.408 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 521
2025-09-29 09:15:53.428 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:15:53.431 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 09:15:53.435 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:15:53.440 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:15:53.444 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:15:53.447 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:15:53.451 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-29 09:15:53.456 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-29 09:15:53.470 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-29 09:15:53.555 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-29 09:15:53.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-29 09:15:53.758 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-29 09:15:53.852 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 09:15:53.893 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:15:54.353 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PersonId] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-09-29 09:15:54.430 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto'.
2025-09-29 09:15:54.444 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 964.3502ms
2025-09-29 09:15:54.459 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-29 09:15:54.474 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:15:54.484 +03:00 [INF] Generating expiration headers.
2025-09-29 09:15:54.494 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:16:54 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 09:15:54.505 +03:00 [INF] Generating Validation headers.
2025-09-29 09:15:54.513 +03:00 [INF] Validation headers generated. ETag: Strong, "3A59A31FB761155748C3B30A77968A2B". Last-Modified: Mon, 29 Sep 2025 06:15:54 GMT
2025-09-29 09:15:54.522 +03:00 [INF] Generating Vary header.
2025-09-29 09:15:54.528 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:15:54.543 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 200 null application/json; charset=utf-8 1135.3422ms
2025-09-29 09:16:19.417 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Persons - null null
2025-09-29 09:16:19.437 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Persons - 307 0 null 21.2062ms
2025-09-29 09:16:19.443 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Persons - null null
2025-09-29 09:16:19.497 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-29 09:16:19.508 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-09-29 09:16:19.513 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Persons - 403 0 null 70.0346ms
2025-09-29 09:20:56.271 +03:00 [INF] Starting database seeding.
2025-09-29 09:20:56.760 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:20:59.731 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:20:59.825 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:20:59.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:20:59.854 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:20:59.912 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:21:00.624 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:21:00.627 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:21:00.910 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:21:00.913 +03:00 [INF] Hosting environment: Development
2025-09-29 09:21:00.917 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:23:04.424 +03:00 [INF] Starting database seeding.
2025-09-29 09:23:04.928 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:23:07.328 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:23:07.527 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:23:07.539 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:23:07.576 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:23:07.674 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:23:08.468 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:23:08.472 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:23:08.751 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:23:08.756 +03:00 [INF] Hosting environment: Development
2025-09-29 09:23:08.761 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:23:16.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors - null null
2025-09-29 09:23:16.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors - 307 0 null 178.3026ms
2025-09-29 09:23:16.378 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors - null null
2025-09-29 09:23:16.557 +03:00 [INF] No cached response available for this request.
2025-09-29 09:23:16.593 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:23:16.607 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:23:16.612 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:23:16.621 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:23:16.624 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:23:16.630 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:23:16.642 +03:00 [INF] Incomming Request: GET /api/Authors
2025-09-29 09:23:16.649 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 09:23:16.733 +03:00 [INF] Route matched with {action = "GetAll", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:23:17.267 +03:00 [INF] Executing an action GetAll on controller Authors.
2025-09-29 09:23:17.667 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
2025-09-29 09:23:17.752 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-29 09:23:17.852 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:23:17.899 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API) in 1139.6919ms
2025-09-29 09:23:17.909 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 09:23:17.916 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:23:17.946 +03:00 [INF] Generating expiration headers.
2025-09-29 09:23:17.952 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:24:17 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:23:17.962 +03:00 [INF] Generating Validation headers.
2025-09-29 09:23:18.000 +03:00 [INF] Validation headers generated. ETag: Strong, "3283B53BEE74F0A8A565EE9A1D2B8577". Last-Modified: Mon, 29 Sep 2025 06:23:17 GMT
2025-09-29 09:23:18.006 +03:00 [INF] Generating Vary header.
2025-09-29 09:23:18.010 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:23:18.037 +03:00 [INF] The response has been cached.
2025-09-29 09:23:18.055 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors - 200 null application/json; charset=utf-8 1676.5755ms
2025-09-29 09:24:54.779 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/GetByIds - application/json 21
2025-09-29 09:24:54.792 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/GetByIds - 307 0 null 12.9078ms
2025-09-29 09:24:54.798 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/GetByIds - application/json 21
2025-09-29 09:24:54.812 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:24:54.816 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 09:24:54.819 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:24:54.823 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:24:54.827 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:24:54.832 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:24:54.836 +03:00 [INF] Incomming Request: POST /api/GetByIds
2025-09-29 09:24:54.846 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:24:54.855 +03:00 [INF] Generating expiration headers.
2025-09-29 09:24:54.864 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:25:54 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 09:24:54.872 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-29 09:24:54.878 +03:00 [INF] Generating Vary header.
2025-09-29 09:24:54.883 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:24:54.994 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/GetByIds - 404 null application/problem+json 196.0614ms
2025-09-29 09:24:55.007 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7266/api/GetByIds, Response status code: 404
2025-09-29 09:25:27.241 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors/GetByIds - application/json 21
2025-09-29 09:25:27.262 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors/GetByIds - 307 0 null 25.2765ms
2025-09-29 09:25:27.265 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors/GetByIds - application/json 21
2025-09-29 09:25:27.311 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:25:27.314 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 09:25:27.319 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:25:27.323 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:25:27.329 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:25:27.335 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:25:27.343 +03:00 [INF] Incomming Request: POST /api/Authors/GetByIds
2025-09-29 09:25:27.349 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 09:25:27.372 +03:00 [INF] Route matched with {action = "GetByIds", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIds(LibraryManagementSystem.Business.Dtos.Shared.GetByIdsDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:25:27.450 +03:00 [INF] Executing an action GetByIds on controller Authors.
2025-09-29 09:25:27.644 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-29 09:25:27.678 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:25:27.691 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetByIds (LibraryManagementSystem.API) in 298.2057ms
2025-09-29 09:25:27.699 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 09:25:27.708 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:25:27.713 +03:00 [INF] Generating expiration headers.
2025-09-29 09:25:27.718 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:26:27 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 09:25:27.726 +03:00 [INF] Generating Validation headers.
2025-09-29 09:25:27.734 +03:00 [INF] Validation headers generated. ETag: Strong, "EB98A1A6EFB9D27969250728A01F5DFE". Last-Modified: Mon, 29 Sep 2025 06:25:27 GMT
2025-09-29 09:25:27.740 +03:00 [INF] Generating Vary header.
2025-09-29 09:25:27.744 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:25:27.749 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors/GetByIds - 200 null application/json; charset=utf-8 484.3764ms
2025-09-29 09:25:38.330 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors/GetByIds - application/json 23
2025-09-29 09:25:38.340 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors/GetByIds - 307 0 null 9.1838ms
2025-09-29 09:25:38.342 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors/GetByIds - application/json 23
2025-09-29 09:25:38.364 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:25:38.369 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 09:25:38.373 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:25:38.376 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:25:38.382 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:25:38.387 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:25:38.397 +03:00 [INF] Incomming Request: POST /api/Authors/GetByIds
2025-09-29 09:25:38.402 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 09:25:38.413 +03:00 [INF] Route matched with {action = "GetByIds", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIds(LibraryManagementSystem.Business.Dtos.Shared.GetByIdsDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:25:38.436 +03:00 [INF] Executing an action GetByIds on controller Authors.
2025-09-29 09:25:38.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-29 09:25:38.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:25:38.476 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetByIds (LibraryManagementSystem.API) in 46.5863ms
2025-09-29 09:25:38.484 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 09:25:38.490 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:25:38.496 +03:00 [INF] Generating expiration headers.
2025-09-29 09:25:38.501 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:26:38 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 09:25:38.506 +03:00 [INF] Generating Validation headers.
2025-09-29 09:25:38.511 +03:00 [INF] Validation headers generated. ETag: Strong, "EB98A1A6EFB9D27969250728A01F5DFE". Last-Modified: Mon, 29 Sep 2025 06:25:38 GMT
2025-09-29 09:25:38.515 +03:00 [INF] Generating Vary header.
2025-09-29 09:25:38.519 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:25:38.523 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors/GetByIds - 200 null application/json; charset=utf-8 181.2412ms
2025-09-29 09:27:56.245 +03:00 [INF] Starting database seeding.
2025-09-29 09:27:56.845 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:27:59.634 +03:00 [INF] Executed DbCommand (135ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:27:59.767 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:27:59.778 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:27:59.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:27:59.948 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:28:01.066 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:28:01.068 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:28:01.343 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:28:01.349 +03:00 [INF] Hosting environment: Development
2025-09-29 09:28:01.356 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:28:34.945 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - application/json 23
2025-09-29 09:28:35.103 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - 307 0 null 176.2091ms
2025-09-29 09:28:35.209 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - application/json 23
2025-09-29 09:28:35.468 +03:00 [INF] No cached response available for this request.
2025-09-29 09:28:35.522 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:28:35.542 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:28:35.548 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:28:35.562 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:28:35.568 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:28:35.575 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:28:35.601 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:28:35.614 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:28:35.746 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:28:36.254 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:31:02.806 +03:00 [INF] Starting database seeding.
2025-09-29 09:31:03.243 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:31:05.940 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:31:06.167 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:31:06.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:31:06.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:31:06.260 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:31:06.883 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:31:06.886 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:31:07.356 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:31:07.363 +03:00 [INF] Hosting environment: Development
2025-09-29 09:31:07.369 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:31:17.053 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:17.237 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - 307 0 null 204.2367ms
2025-09-29 09:31:17.349 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:17.560 +03:00 [INF] No cached response available for this request.
2025-09-29 09:31:17.596 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:31:17.605 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:31:17.607 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:31:17.615 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:31:17.618 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:31:17.621 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:31:17.633 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:31:17.639 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:17.711 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:31:18.213 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:31:18.825 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:31:18.928 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:31:19.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:31:19.071 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 1338.3918ms
2025-09-29 09:31:19.080 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:19.087 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:31:19.099 +03:00 [INF] Generating expiration headers.
2025-09-29 09:31:19.106 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:32:19 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:31:19.114 +03:00 [INF] Generating Validation headers.
2025-09-29 09:31:19.153 +03:00 [INF] Validation headers generated. ETag: Strong, "33BE4F4D0143E9446AE849B3DCC674B4". Last-Modified: Mon, 29 Sep 2025 06:31:19 GMT
2025-09-29 09:31:19.159 +03:00 [INF] Generating Vary header.
2025-09-29 09:31:19.163 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:31:19.206 +03:00 [INF] The response has been cached.
2025-09-29 09:31:19.225 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 1876.3294ms
2025-09-29 09:31:30.637 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=j&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:30.666 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=j&PageSize=1&pageNumber=1 - 307 0 null 28.9541ms
2025-09-29 09:31:30.679 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=j&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:30.730 +03:00 [INF] No cached response available for this request.
2025-09-29 09:31:30.743 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:31:30.756 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:31:30.770 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:31:30.774 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:31:30.778 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:31:30.782 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:31:30.785 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:31:30.789 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:30.794 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:31:30.808 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:31:30.847 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:31:30.867 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:31:30.896 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:31:30.907 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 104.5426ms
2025-09-29 09:31:30.914 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:30.921 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:31:30.926 +03:00 [INF] Generating expiration headers.
2025-09-29 09:31:30.930 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:32:30 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:31:30.937 +03:00 [INF] Generating Validation headers.
2025-09-29 09:31:30.943 +03:00 [INF] Validation headers generated. ETag: Strong, "3A394E60048C335BD67B8ADFF4CC691F". Last-Modified: Mon, 29 Sep 2025 06:31:30 GMT
2025-09-29 09:31:30.958 +03:00 [INF] Generating Vary header.
2025-09-29 09:31:30.965 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:31:30.973 +03:00 [INF] The response has been cached.
2025-09-29 09:31:30.978 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=j&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 299.3477ms
2025-09-29 09:31:42.741 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=l&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:42.755 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=l&PageSize=1&pageNumber=1 - 307 0 null 13.906ms
2025-09-29 09:31:42.757 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=l&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:42.791 +03:00 [INF] No cached response available for this request.
2025-09-29 09:31:42.796 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:31:42.800 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:31:42.806 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:31:42.812 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:31:42.820 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:31:42.826 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:31:42.831 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:31:42.835 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:42.841 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:31:42.856 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:31:42.863 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:31:42.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:31:42.892 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:31:42.898 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 45.8031ms
2025-09-29 09:31:42.905 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:42.913 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:31:42.919 +03:00 [INF] Generating expiration headers.
2025-09-29 09:31:42.923 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:32:42 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:31:42.925 +03:00 [INF] Generating Validation headers.
2025-09-29 09:31:42.930 +03:00 [INF] Validation headers generated. ETag: Strong, "DE47C285439FB0D75CD479FF48AE722C". Last-Modified: Mon, 29 Sep 2025 06:31:42 GMT
2025-09-29 09:31:42.935 +03:00 [INF] Generating Vary header.
2025-09-29 09:31:42.939 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:31:42.943 +03:00 [INF] The response has been cached.
2025-09-29 09:31:42.946 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=l&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 188.3394ms
2025-09-29 09:31:55.815 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=n&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:55.824 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=n&PageSize=1&pageNumber=1 - 307 0 null 9.3323ms
2025-09-29 09:31:55.827 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=n&PageSize=1&pageNumber=1 - null null
2025-09-29 09:31:55.854 +03:00 [INF] No cached response available for this request.
2025-09-29 09:31:55.858 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:31:55.864 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:31:55.868 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:31:55.873 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:31:55.878 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:31:55.882 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:31:55.886 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:31:55.893 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:55.900 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:31:55.915 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:31:55.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:31:55.940 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:31:55.956 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:31:55.963 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 49.7977ms
2025-09-29 09:31:55.969 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:31:55.976 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:31:55.982 +03:00 [INF] Generating expiration headers.
2025-09-29 09:31:55.987 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:32:55 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:31:55.991 +03:00 [INF] Generating Validation headers.
2025-09-29 09:31:55.995 +03:00 [INF] Validation headers generated. ETag: Strong, "5444522D488519CFAA5E9D9F175D476F". Last-Modified: Mon, 29 Sep 2025 06:31:55 GMT
2025-09-29 09:31:56.000 +03:00 [INF] Generating Vary header.
2025-09-29 09:31:56.003 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:31:56.008 +03:00 [INF] The response has been cached.
2025-09-29 09:31:56.012 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=n&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 184.4264ms
2025-09-29 09:32:03.782 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:03.792 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - 307 0 null 10.1114ms
2025-09-29 09:32:03.793 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:03.817 +03:00 [INF] Serving response from cache.
2025-09-29 09:32:03.820 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 26.7895ms
2025-09-29 09:32:09.228 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:09.237 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - 307 0 null 9.1546ms
2025-09-29 09:32:09.240 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:09.259 +03:00 [INF] No cached response available for this request.
2025-09-29 09:32:09.262 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:32:09.264 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:32:09.267 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:32:09.269 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:32:09.272 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:32:09.274 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:32:09.278 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:32:09.281 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:32:09.286 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:32:09.296 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:32:09.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:32:09.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:32:09.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:32:09.346 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 50.5269ms
2025-09-29 09:32:09.352 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:32:09.362 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:32:09.366 +03:00 [INF] Generating expiration headers.
2025-09-29 09:32:09.369 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:33:09 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:32:09.373 +03:00 [INF] Generating Validation headers.
2025-09-29 09:32:09.378 +03:00 [INF] Validation headers generated. ETag: Strong, "0E6EF46CCBB77C28A7893083E1D5F697". Last-Modified: Mon, 29 Sep 2025 06:32:09 GMT
2025-09-29 09:32:09.383 +03:00 [INF] Generating Vary header.
2025-09-29 09:32:09.388 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:32:09.394 +03:00 [INF] The response has been cached.
2025-09-29 09:32:09.401 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 160.8594ms
2025-09-29 09:32:19.712 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:19.721 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - 307 0 null 8.7708ms
2025-09-29 09:32:19.723 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:19.742 +03:00 [INF] No cached response available for this request.
2025-09-29 09:32:19.744 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:32:19.747 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:32:19.752 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:32:19.755 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:32:19.758 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:32:19.761 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:32:19.765 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:32:19.770 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:32:19.778 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:32:19.791 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:32:19.797 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:32:19.815 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:32:19.833 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:32:19.845 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 55.1605ms
2025-09-29 09:32:19.857 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:32:19.867 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:32:19.872 +03:00 [INF] Generating expiration headers.
2025-09-29 09:32:19.877 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:33:19 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:32:19.880 +03:00 [INF] Generating Validation headers.
2025-09-29 09:32:19.884 +03:00 [INF] Validation headers generated. ETag: Strong, "33BE4F4D0143E9446AE849B3DCC674B4". Last-Modified: Mon, 29 Sep 2025 06:32:19 GMT
2025-09-29 09:32:19.890 +03:00 [INF] Generating Vary header.
2025-09-29 09:32:19.893 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:32:19.897 +03:00 [INF] The response has been cached.
2025-09-29 09:32:19.901 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=m&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 178.2258ms
2025-09-29 09:32:31.761 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:31.785 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - 307 0 null 23.9551ms
2025-09-29 09:32:31.791 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - null null
2025-09-29 09:32:31.812 +03:00 [INF] Serving response from cache.
2025-09-29 09:32:31.816 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 25.0837ms
2025-09-29 09:35:56.575 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - null null
2025-09-29 09:35:56.630 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - 307 0 null 58.7913ms
2025-09-29 09:35:56.634 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - null null
2025-09-29 09:35:56.687 +03:00 [INF] No cached response available for this request.
2025-09-29 09:35:56.697 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:35:56.708 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:35:56.720 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:35:56.728 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:35:56.735 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:35:56.742 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:35:56.750 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:35:56.765 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:35:56.785 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:35:56.830 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:37:06.381 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:37:11.614 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:37:54.847 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:37:54.863 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 118038.2162ms
2025-09-29 09:37:54.875 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:37:54.887 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:37:54.894 +03:00 [INF] Generating expiration headers.
2025-09-29 09:37:54.903 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:38:54 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:37:54.911 +03:00 [INF] Generating Validation headers.
2025-09-29 09:37:54.919 +03:00 [INF] Validation headers generated. ETag: Strong, "0E6EF46CCBB77C28A7893083E1D5F697". Last-Modified: Mon, 29 Sep 2025 06:37:54 GMT
2025-09-29 09:37:54.929 +03:00 [INF] Generating Vary header.
2025-09-29 09:37:54.935 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:37:54.942 +03:00 [INF] The response has been cached.
2025-09-29 09:37:54.950 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=1&pageNumber=1 - 200 null application/json; charset=utf-8 118315.7672ms
2025-09-29 09:38:14.236 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1 - null null
2025-09-29 09:38:14.257 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1 - 307 0 null 20.9276ms
2025-09-29 09:38:14.260 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1 - null null
2025-09-29 09:38:14.281 +03:00 [INF] No cached response available for this request.
2025-09-29 09:38:14.283 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:38:14.285 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:38:14.288 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:38:14.291 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:38:14.295 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:38:14.299 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:38:14.302 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:38:14.305 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:38:14.311 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:38:14.321 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:38:17.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:38:17.685 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:38:20.470 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:38:20.476 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 6155.286ms
2025-09-29 09:38:20.481 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:38:20.484 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:38:20.487 +03:00 [INF] Generating expiration headers.
2025-09-29 09:38:20.489 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:39:20 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:38:20.491 +03:00 [INF] Generating Validation headers.
2025-09-29 09:38:20.496 +03:00 [INF] Validation headers generated. ETag: Strong, "ABB4C1BA22D83E1F049B704013525A4B". Last-Modified: Mon, 29 Sep 2025 06:38:20 GMT
2025-09-29 09:38:20.500 +03:00 [INF] Generating Vary header.
2025-09-29 09:38:20.502 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:38:20.505 +03:00 [INF] The response has been cached.
2025-09-29 09:38:20.508 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1 - 200 null application/json; charset=utf-8 6248.6362ms
2025-09-29 09:38:46.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - null null
2025-09-29 09:38:46.444 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - 307 0 null 42.821ms
2025-09-29 09:38:46.450 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - null null
2025-09-29 09:38:46.511 +03:00 [INF] No cached response available for this request.
2025-09-29 09:38:46.519 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:38:46.526 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:38:46.532 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:38:46.539 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:38:46.550 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:38:46.558 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:38:46.568 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:38:46.579 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:38:46.593 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:38:46.618 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:38:49.844 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:38:51.847 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE 0 = 1
2025-09-29 09:38:54.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:38:54.931 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 8314.3403ms
2025-09-29 09:38:54.946 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:38:54.958 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:38:54.966 +03:00 [INF] Generating expiration headers.
2025-09-29 09:38:54.984 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:39:54 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:38:54.991 +03:00 [INF] Generating Validation headers.
2025-09-29 09:38:54.998 +03:00 [INF] Validation headers generated. ETag: Strong, "3B20C845B859FCAB3AC2362B8D099448". Last-Modified: Mon, 29 Sep 2025 06:38:54 GMT
2025-09-29 09:38:55.006 +03:00 [INF] Generating Vary header.
2025-09-29 09:38:55.013 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:38:55.020 +03:00 [INF] The response has been cached.
2025-09-29 09:38:55.029 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - 200 null application/json; charset=utf-8 8578.8967ms
2025-09-29 09:42:36.654 +03:00 [INF] Starting database seeding.
2025-09-29 09:42:37.417 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:42:41.594 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:42:41.783 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:42:41.811 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:42:41.884 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:42:41.978 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:42:42.501 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:42:42.503 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:42:42.685 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:42:42.689 +03:00 [INF] Hosting environment: Development
2025-09-29 09:42:42.692 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:42:48.537 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - null null
2025-09-29 09:42:48.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - 307 0 null 137.6723ms
2025-09-29 09:42:48.777 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - null null
2025-09-29 09:42:49.062 +03:00 [INF] No cached response available for this request.
2025-09-29 09:42:49.094 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:42:49.104 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:42:49.108 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:42:49.117 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:42:49.121 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:42:49.127 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:42:49.140 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:42:49.146 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:42:49.216 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:42:49.723 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:42:57.154 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:42:57.272 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:43:00.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:43:00.619 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 11381.4735ms
2025-09-29 09:43:00.634 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:43:00.646 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:43:00.663 +03:00 [INF] Generating expiration headers.
2025-09-29 09:43:00.670 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:44:00 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:43:00.684 +03:00 [INF] Generating Validation headers.
2025-09-29 09:43:00.733 +03:00 [INF] Validation headers generated. ETag: Strong, "7EE4131CD824DB9E823FBC5F55D29E18". Last-Modified: Mon, 29 Sep 2025 06:43:00 GMT
2025-09-29 09:43:00.748 +03:00 [INF] Generating Vary header.
2025-09-29 09:43:00.754 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:43:00.808 +03:00 [INF] The response has been cached.
2025-09-29 09:43:00.837 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=1 - 200 null application/json; charset=utf-8 12059.7976ms
2025-09-29 09:43:23.425 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=0 - null null
2025-09-29 09:43:23.441 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=0 - 307 0 null 19.9117ms
2025-09-29 09:43:23.490 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=0 - null null
2025-09-29 09:43:23.518 +03:00 [INF] No cached response available for this request.
2025-09-29 09:43:23.523 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:43:23.530 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:43:23.535 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:43:23.542 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:43:23.548 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:43:23.557 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:43:23.563 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:43:23.572 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:43:23.582 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:43:23.611 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:43:23.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:43:23.701 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:43:23.778 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'LibraryManagementSystem.DataAccess.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a4e7a32-5c16-4797-8fe2-ed1cf26d315e
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a4e7a32-5c16-4797-8fe2-ed1cf26d315e
Error Number:10742,State:1,Class:15
2025-09-29 09:53:11.693 +03:00 [INF] Starting database seeding.
2025-09-29 09:53:12.178 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:53:15.607 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:53:15.845 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:53:15.858 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:53:15.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:53:16.047 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:53:17.155 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:53:17.159 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:53:17.569 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:53:17.581 +03:00 [INF] Hosting environment: Development
2025-09-29 09:53:17.590 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:53:19.654 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=0 - null null
2025-09-29 09:53:19.818 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=0 - 307 0 null 173.2878ms
2025-09-29 09:53:19.948 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=0 - null null
2025-09-29 09:53:20.173 +03:00 [INF] No cached response available for this request.
2025-09-29 09:53:20.206 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:53:20.216 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:53:20.220 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:53:20.229 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:53:20.234 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:53:20.241 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:53:20.264 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:53:20.273 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:53:20.373 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:53:20.951 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 09:53:21.106 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 659.2909ms
2025-09-29 09:53:21.199 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:53:21.205 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:53:21.227 +03:00 [INF] Generating expiration headers.
2025-09-29 09:53:21.232 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:54:21 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:53:21.242 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-29 09:53:21.244 +03:00 [INF] Generating Vary header.
2025-09-29 09:53:21.247 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:53:21.259 +03:00 [INF] The response could not be cached for this request.
2025-09-29 09:53:21.266 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=0&pageNumber=0 - 400 null application/problem+json; charset=utf-8 1317.5374ms
2025-09-29 09:55:29.117 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Lastname - null null
2025-09-29 09:55:29.141 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Lastname - 307 0 null 26.222ms
2025-09-29 09:55:29.149 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Lastname - null null
2025-09-29 09:55:29.174 +03:00 [INF] No cached response available for this request.
2025-09-29 09:55:29.179 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:55:29.184 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:55:29.189 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:55:29.193 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:55:29.199 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:55:29.205 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:55:29.210 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:55:29.216 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:55:29.224 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:55:29.256 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:55:29.798 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:55:29.896 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:55:30.020 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:55:30.052 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 811.2154ms
2025-09-29 09:55:30.063 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:55:30.069 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:55:30.075 +03:00 [INF] Generating expiration headers.
2025-09-29 09:55:30.078 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:56:30 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:55:30.082 +03:00 [INF] Generating Validation headers.
2025-09-29 09:55:30.116 +03:00 [INF] Validation headers generated. ETag: Strong, "336A97D41D594AF6884BA50DA03B5AEB". Last-Modified: Mon, 29 Sep 2025 06:55:30 GMT
2025-09-29 09:55:30.121 +03:00 [INF] Generating Vary header.
2025-09-29 09:55:30.124 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:55:30.149 +03:00 [INF] The response has been cached.
2025-09-29 09:55:30.161 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Lastname - 200 null application/json; charset=utf-8 1011.6827ms
2025-09-29 09:55:56.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname - null null
2025-09-29 09:55:56.498 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname - 307 0 null 78.1174ms
2025-09-29 09:55:56.516 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname - null null
2025-09-29 09:55:56.564 +03:00 [INF] No cached response available for this request.
2025-09-29 09:55:56.571 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:55:56.576 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:55:56.582 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:55:56.588 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:55:56.594 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:55:56.601 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:55:56.608 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:55:56.615 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:55:56.626 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:55:56.656 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:55:56.726 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:55:56.753 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:55:56.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:55:56.799 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 152.9942ms
2025-09-29 09:55:56.811 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:55:56.823 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:55:56.830 +03:00 [INF] Generating expiration headers.
2025-09-29 09:55:56.837 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:56:56 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:55:56.845 +03:00 [INF] Generating Validation headers.
2025-09-29 09:55:56.854 +03:00 [INF] Validation headers generated. ETag: Strong, "99BC2034EFD815AC2F8E91942D7EE610". Last-Modified: Mon, 29 Sep 2025 06:55:56 GMT
2025-09-29 09:55:56.864 +03:00 [INF] Generating Vary header.
2025-09-29 09:55:56.870 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:55:56.882 +03:00 [INF] The response has been cached.
2025-09-29 09:55:56.890 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname - 200 null application/json; charset=utf-8 381.142ms
2025-09-29 09:56:16.304 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:56:16.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 307 0 null 11.8403ms
2025-09-29 09:56:16.319 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:56:16.348 +03:00 [INF] No cached response available for this request.
2025-09-29 09:56:16.352 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:56:16.356 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:56:16.360 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:56:16.364 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:56:16.368 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:56:16.371 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:56:16.376 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:56:16.381 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:56:16.388 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:56:16.400 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:56:16.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:56:16.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:56:16.443 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:56:16.450 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 50.7215ms
2025-09-29 09:56:16.456 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:56:16.464 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:56:16.468 +03:00 [INF] Generating expiration headers.
2025-09-29 09:56:16.472 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:57:16 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:56:16.475 +03:00 [INF] Generating Validation headers.
2025-09-29 09:56:16.480 +03:00 [INF] Validation headers generated. ETag: Strong, "A31A2C9036DE003EAD0A55013BAF1E70". Last-Modified: Mon, 29 Sep 2025 06:56:16 GMT
2025-09-29 09:56:16.486 +03:00 [INF] Generating Vary header.
2025-09-29 09:56:16.489 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:56:16.493 +03:00 [INF] The response has been cached.
2025-09-29 09:56:16.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 200 null application/json; charset=utf-8 179.0881ms
2025-09-29 09:57:45.376 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:57:45.390 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 307 0 null 13.9921ms
2025-09-29 09:57:45.392 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:57:45.420 +03:00 [INF] No cached response available for this request.
2025-09-29 09:57:45.424 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:57:45.430 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:57:45.435 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:57:45.440 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:57:45.446 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:57:45.451 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:57:45.456 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:57:45.461 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:57:45.471 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:57:45.488 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 09:58:18.355 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 09:58:18.406 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 09:58:18.423 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 09:58:18.429 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 32942.9645ms
2025-09-29 09:58:18.434 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:58:18.439 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 09:58:18.442 +03:00 [INF] Generating expiration headers.
2025-09-29 09:58:18.446 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 06:59:18 GMT. Cache-Control: public,max-age=60.
2025-09-29 09:58:18.448 +03:00 [INF] Generating Validation headers.
2025-09-29 09:58:18.453 +03:00 [INF] Validation headers generated. ETag: Strong, "A31A2C9036DE003EAD0A55013BAF1E70". Last-Modified: Mon, 29 Sep 2025 06:58:18 GMT
2025-09-29 09:58:18.456 +03:00 [INF] Generating Vary header.
2025-09-29 09:58:18.460 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 09:58:18.464 +03:00 [INF] The response has been cached.
2025-09-29 09:58:18.468 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 200 null application/json; charset=utf-8 33075.9461ms
2025-09-29 09:58:38.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:58:38.370 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 307 0 null 9.1348ms
2025-09-29 09:58:38.372 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:58:38.392 +03:00 [INF] Serving response from cache.
2025-09-29 09:58:38.394 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 200 null application/json; charset=utf-8 22.5628ms
2025-09-29 09:58:41.511 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:58:41.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 307 0 null 17.4544ms
2025-09-29 09:58:41.532 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:58:41.558 +03:00 [INF] Serving response from cache.
2025-09-29 09:58:41.562 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 200 null application/json; charset=utf-8 29.9169ms
2025-09-29 09:59:01.015 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:59:01.030 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 307 0 null 14.9393ms
2025-09-29 09:59:01.033 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:59:01.054 +03:00 [INF] Serving response from cache.
2025-09-29 09:59:01.057 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 200 null application/json; charset=utf-8 24.8554ms
2025-09-29 09:59:13.360 +03:00 [INF] Starting database seeding.
2025-09-29 09:59:13.979 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 09:59:16.878 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:59:16.989 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:59:16.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 09:59:17.018 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 09:59:17.072 +03:00 [INF] Database seeding finished successfully.
2025-09-29 09:59:17.779 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 09:59:17.782 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 09:59:18.220 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 09:59:18.224 +03:00 [INF] Hosting environment: Development
2025-09-29 09:59:18.229 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 09:59:22.175 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:59:22.437 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - 307 0 null 280.2497ms
2025-09-29 09:59:22.582 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=firstname%20desc - null null
2025-09-29 09:59:22.837 +03:00 [INF] No cached response available for this request.
2025-09-29 09:59:22.871 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 09:59:22.883 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 09:59:22.887 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 09:59:22.904 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 09:59:22.907 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 09:59:22.913 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 09:59:22.929 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 09:59:22.939 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 09:59:23.020 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 09:59:23.463 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 10:04:47.804 +03:00 [INF] Starting database seeding.
2025-09-29 10:04:48.413 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:04:51.592 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:04:51.810 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:04:51.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:04:51.865 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:04:51.977 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:04:52.693 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:04:52.695 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:04:52.965 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:04:52.970 +03:00 [INF] Hosting environment: Development
2025-09-29 10:04:52.974 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:04:57.420 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:04:57.575 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 167.7773ms
2025-09-29 10:04:57.699 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:04:57.890 +03:00 [INF] No cached response available for this request.
2025-09-29 10:04:57.928 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:04:57.939 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:04:57.945 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:04:57.959 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:04:57.964 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:04:57.971 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:04:57.989 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 10:04:57.996 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:04:58.075 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:04:58.611 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 10:05:06.233 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 10:05:06.373 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 10:05:10.278 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:05:10.315 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 12221.7273ms
2025-09-29 10:05:10.320 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:05:10.324 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:05:10.330 +03:00 [INF] Generating expiration headers.
2025-09-29 10:05:10.333 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:06:10 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:05:10.338 +03:00 [INF] Generating Validation headers.
2025-09-29 10:05:10.365 +03:00 [INF] Validation headers generated. ETag: Strong, "5823B234DE75E33AEDF121318EE2F6D8". Last-Modified: Mon, 29 Sep 2025 07:05:10 GMT
2025-09-29 10:05:10.371 +03:00 [INF] Generating Vary header.
2025-09-29 10:05:10.375 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:05:10.417 +03:00 [INF] The response has been cached.
2025-09-29 10:05:10.436 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 12737.8527ms
2025-09-29 10:05:35.897 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:05:35.908 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 14.2468ms
2025-09-29 10:05:35.924 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:05:35.944 +03:00 [INF] Serving response from cache.
2025-09-29 10:05:35.947 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 23.2567ms
2025-09-29 10:06:33.505 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:06:33.513 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 44.4223ms
2025-09-29 10:06:33.517 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:06:33.543 +03:00 [INF] No cached response available for this request.
2025-09-29 10:06:33.545 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:06:33.547 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:06:33.550 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:06:33.552 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:06:33.555 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:06:33.557 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:06:33.560 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 10:06:33.564 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:06:33.569 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:06:33.581 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 10:06:33.615 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 10:06:33.630 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 10:06:33.645 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:06:33.651 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 75.8116ms
2025-09-29 10:06:33.655 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:06:33.662 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:06:33.666 +03:00 [INF] Generating expiration headers.
2025-09-29 10:06:33.668 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:07:33 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:06:33.671 +03:00 [INF] Generating Validation headers.
2025-09-29 10:06:33.679 +03:00 [INF] Validation headers generated. ETag: Strong, "5823B234DE75E33AEDF121318EE2F6D8". Last-Modified: Mon, 29 Sep 2025 07:06:33 GMT
2025-09-29 10:06:33.682 +03:00 [INF] Generating Vary header.
2025-09-29 10:06:33.685 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:06:33.688 +03:00 [INF] The response has been cached.
2025-09-29 10:06:33.693 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 176.5184ms
2025-09-29 10:06:56.306 +03:00 [INF] Starting database seeding.
2025-09-29 10:06:56.936 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:07:00.360 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:07:00.520 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:07:00.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:07:00.560 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:07:00.681 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:07:01.282 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:07:01.284 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:07:01.488 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:01.614 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:07:01.634 +03:00 [INF] Hosting environment: Development
2025-09-29 10:07:01.639 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:07:01.770 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 296.6834ms
2025-09-29 10:07:01.877 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:02.072 +03:00 [INF] No cached response available for this request.
2025-09-29 10:07:02.105 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:07:02.114 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:07:02.117 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:07:02.124 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:07:02.128 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:07:02.131 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:07:02.143 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 10:07:02.148 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:07:02.260 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:07:02.759 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 10:07:03.278 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 10:07:03.380 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 10:07:03.485 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:07:03.540 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 1256.8116ms
2025-09-29 10:07:03.550 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:07:03.557 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:07:03.567 +03:00 [INF] Generating expiration headers.
2025-09-29 10:07:03.573 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:08:03 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:07:03.584 +03:00 [INF] Generating Validation headers.
2025-09-29 10:07:03.620 +03:00 [INF] Validation headers generated. ETag: Strong, "5823B234DE75E33AEDF121318EE2F6D8". Last-Modified: Mon, 29 Sep 2025 07:07:03 GMT
2025-09-29 10:07:03.626 +03:00 [INF] Generating Vary header.
2025-09-29 10:07:03.631 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:07:03.670 +03:00 [INF] The response has been cached.
2025-09-29 10:07:03.687 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 1810.3195ms
2025-09-29 10:07:16.983 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:16.994 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 11.3099ms
2025-09-29 10:07:16.998 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:17.017 +03:00 [INF] Serving response from cache.
2025-09-29 10:07:17.019 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 21.0411ms
2025-09-29 10:07:29.612 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:29.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 32.3176ms
2025-09-29 10:07:29.653 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:29.714 +03:00 [INF] Serving response from cache.
2025-09-29 10:07:29.718 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 66.0294ms
2025-09-29 10:07:40.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:40.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 19.621ms
2025-09-29 10:07:40.756 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:07:40.799 +03:00 [INF] Serving response from cache.
2025-09-29 10:07:40.805 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 48.4368ms
2025-09-29 10:08:23.111 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:08:23.181 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 307 0 null 71.6828ms
2025-09-29 10:08:23.191 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - null null
2025-09-29 10:08:23.250 +03:00 [INF] No cached response available for this request.
2025-09-29 10:08:23.259 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:08:23.268 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:08:23.276 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:08:23.283 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:08:23.292 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:08:23.352 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:08:23.361 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 10:08:23.368 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:08:23.376 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:08:23.396 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 10:09:50.013 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 10:09:50.039 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 10:09:52.117 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:09:52.140 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 88749.8729ms
2025-09-29 10:09:52.152 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:09:52.158 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:09:52.162 +03:00 [INF] Generating expiration headers.
2025-09-29 10:09:52.165 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:10:52 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:09:52.168 +03:00 [INF] Generating Validation headers.
2025-09-29 10:09:52.172 +03:00 [INF] Validation headers generated. ETag: Strong, "5823B234DE75E33AEDF121318EE2F6D8". Last-Modified: Mon, 29 Sep 2025 07:09:52 GMT
2025-09-29 10:09:52.175 +03:00 [INF] Generating Vary header.
2025-09-29 10:09:52.177 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:09:52.180 +03:00 [INF] The response has been cached.
2025-09-29 10:09:52.183 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=Name%20desc - 200 null application/json; charset=utf-8 88992.3272ms
2025-09-29 10:10:03.206 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=id%20desc - null null
2025-09-29 10:10:03.224 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=id%20desc - 307 0 null 17.4971ms
2025-09-29 10:10:03.227 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=id%20desc - null null
2025-09-29 10:10:03.273 +03:00 [INF] No cached response available for this request.
2025-09-29 10:10:03.280 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:10:03.285 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:10:03.289 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:10:03.295 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:10:03.301 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:10:03.305 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:10:03.309 +03:00 [INF] Incomming Request: GET /api/Authors/Search
2025-09-29 10:10:03.315 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:10:03.336 +03:00 [INF] Route matched with {action = "SearchAuthorsByName", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAuthorsByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:10:03.357 +03:00 [INF] Executing an action SearchAuthorsByName on controller Authors.
2025-09-29 10:10:08.765 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 10:10:10.263 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [a].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 10:10:14.712 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:10:14.725 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API) in 11377.97ms
2025-09-29 10:10:14.733 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.SearchAuthorsByName (LibraryManagementSystem.API)'
2025-09-29 10:10:14.737 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:10:14.740 +03:00 [INF] Generating expiration headers.
2025-09-29 10:10:14.742 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:11:14 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:10:14.745 +03:00 [INF] Generating Validation headers.
2025-09-29 10:10:14.750 +03:00 [INF] Validation headers generated. ETag: Strong, "16F8DBCF19F3AAD559D7D7D203FB0D84". Last-Modified: Mon, 29 Sep 2025 07:10:14 GMT
2025-09-29 10:10:14.753 +03:00 [INF] Generating Vary header.
2025-09-29 10:10:14.756 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:10:14.758 +03:00 [INF] The response has been cached.
2025-09-29 10:10:14.762 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/Search?searchTerm=a&PageSize=2&pageNumber=1&OrderBy=id%20desc - 200 null application/json; charset=utf-8 11535.19ms
2025-09-29 10:11:57.837 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/2/Stats - null null
2025-09-29 10:11:57.864 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/2/Stats - 307 0 null 31.4991ms
2025-09-29 10:11:57.866 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/2/Stats - null null
2025-09-29 10:11:57.878 +03:00 [INF] No cached response available for this request.
2025-09-29 10:11:57.881 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:11:57.884 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:11:57.890 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:11:57.893 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:11:57.899 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:11:57.904 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:11:57.909 +03:00 [INF] Incomming Request: GET /api/Authors/2/Stats
2025-09-29 10:11:57.915 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAuthorStatistics (LibraryManagementSystem.API)'
2025-09-29 10:11:57.936 +03:00 [INF] Route matched with {action = "GetAuthorStatistics", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuthorStatistics(Int32) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:11:57.950 +03:00 [INF] Executing an action GetAuthorStatistics on controller Authors.
2025-09-29 10:11:58.160 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-29 10:11:58.276 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s].[FirstName], [s].[LastName], [s0].[Id], [s0].[DeleteDate], [s0].[ISBN], [s0].[PublishYear], [s0].[Title], [s0].[AuthorsId], [s0].[BooksId], [s0].[Id0], [s0].[BookId], [s0].[BorrowDate], [s0].[BorrowerId], [s0].[DeleteDate0], [s0].[ReturnDate]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Authors] AS [a]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [a].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[DeleteDate], [b0].[ISBN], [b0].[PublishYear], [b0].[Title], [b].[AuthorsId], [b].[BooksId], [b1].[Id] AS [Id0], [b1].[BookId], [b1].[BorrowDate], [b1].[BorrowerId], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ReturnDate]
    FROM [BookAuthors] AS [b]
    INNER JOIN [Books] AS [b0] ON [b].[BooksId] = [b0].[Id]
    LEFT JOIN [Borrowings] AS [b1] ON [b0].[Id] = [b1].[BookId]
) AS [s0] ON [s].[Id] = [s0].[AuthorsId]
ORDER BY [s].[Id], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId], [s0].[Id]
2025-09-29 10:11:58.353 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorStatsDto'.
2025-09-29 10:11:58.362 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetAuthorStatistics (LibraryManagementSystem.API) in 413.871ms
2025-09-29 10:11:58.367 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAuthorStatistics (LibraryManagementSystem.API)'
2025-09-29 10:11:58.373 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:11:58.378 +03:00 [INF] Generating expiration headers.
2025-09-29 10:11:58.382 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:12:58 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:11:58.387 +03:00 [INF] Generating Validation headers.
2025-09-29 10:11:58.394 +03:00 [INF] Validation headers generated. ETag: Strong, "6D1E6D9F4C791BFC809C11D73037D5AA". Last-Modified: Mon, 29 Sep 2025 07:11:58 GMT
2025-09-29 10:11:58.403 +03:00 [INF] Generating Vary header.
2025-09-29 10:11:58.411 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:11:58.418 +03:00 [INF] The response has been cached.
2025-09-29 10:11:58.425 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/2/Stats - 200 null application/json; charset=utf-8 558.3911ms
2025-09-29 10:15:58.022 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:15:58.035 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 13.0917ms
2025-09-29 10:15:58.038 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:15:58.074 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-29 10:15:58.092 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-29 10:15:58.098 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors - 401 0 null 60.2342ms
2025-09-29 10:16:54.124 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - application/json 73
2025-09-29 10:16:54.144 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - 307 0 null 19.5806ms
2025-09-29 10:16:54.149 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - application/json 73
2025-09-29 10:16:54.175 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:16:54.179 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:16:54.182 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:16:54.186 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:16:54.190 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:16:54.194 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:16:54.198 +03:00 [INF] Incomming Request: POST /api/Accounts/Login
2025-09-29 10:16:54.203 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-29 10:16:54.215 +03:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementSystem.Business.Dtos.AccountDtos.LoginDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-29 10:16:54.303 +03:00 [INF] Executing an action Login on controller Accounts.
2025-09-29 10:16:54.372 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 10:16:54.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-29 10:16:55.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 10:16:55.116 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:16:55.383 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PersonId] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-09-29 10:16:55.426 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto'.
2025-09-29 10:16:55.437 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API) in 1209.047ms
2025-09-29 10:16:55.443 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-29 10:16:55.449 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:16:55.453 +03:00 [INF] Generating expiration headers.
2025-09-29 10:16:55.457 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:17:55 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 10:16:55.462 +03:00 [INF] Generating Validation headers.
2025-09-29 10:16:55.466 +03:00 [INF] Validation headers generated. ETag: Strong, "3F65866FC570D854454A514A4BF99704". Last-Modified: Mon, 29 Sep 2025 07:16:55 GMT
2025-09-29 10:16:55.471 +03:00 [INF] Generating Vary header.
2025-09-29 10:16:55.475 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:16:55.486 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - 200 null application/json; charset=utf-8 1338.4171ms
2025-09-29 10:17:23.165 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:17:23.187 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 28.5751ms
2025-09-29 10:17:23.190 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:17:23.330 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:17:23.335 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:17:23.339 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:17:23.342 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:17:23.346 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:17:23.350 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:17:23.354 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:17:23.362 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:17:23.383 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:17:23.409 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:17:23.504 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:17:23.542 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:17:23.683 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Authors] ([Biography], [PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-29 10:17:23.752 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c83e00d9-706f-46f6-8b84-7f590f16b2b6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c83e00d9-706f-46f6-8b84-7f590f16b2b6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 10:18:37.403 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API) in 74004.4344ms
2025-09-29 10:18:37.419 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:18:43.356 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c83e00d9-706f-46f6-8b84-7f590f16b2b6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync()
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 79
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:18:43.612 +03:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c83e00d9-706f-46f6-8b84-7f590f16b2b6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync()
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 79
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:18:43.880 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors - 500 null application/problem+json 80690.1915ms
2025-09-29 10:25:11.703 +03:00 [INF] Starting database seeding.
2025-09-29 10:25:12.517 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:25:17.539 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:25:17.747 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:25:17.757 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:25:17.796 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:25:17.924 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:25:18.886 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:25:18.890 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:25:19.227 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:25:19.240 +03:00 [INF] Hosting environment: Development
2025-09-29 10:25:19.245 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:26:50.597 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:26:50.722 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 146.0454ms
2025-09-29 10:26:50.841 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:26:51.156 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:26:51.161 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:26:51.165 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:26:51.171 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:26:51.175 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:26:51.180 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:26:51.193 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:26:51.199 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:26:51.255 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:26:51.685 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:26:51.879 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:26:51.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:26:51.948 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:26:52.231 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Authors] ([Biography], [PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-29 10:26:52.299 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5d6ba7d9-6247-40f4-b490-dd6582361ddc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5d6ba7d9-6247-40f4-b490-dd6582361ddc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 10:31:58.107 +03:00 [INF] Starting database seeding.
2025-09-29 10:31:58.740 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:32:02.094 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:32:02.286 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:32:02.296 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:32:02.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:32:02.442 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:32:03.371 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:32:03.390 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:32:03.777 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:32:03.782 +03:00 [INF] Hosting environment: Development
2025-09-29 10:32:03.786 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:32:11.885 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:32:12.054 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 183.8268ms
2025-09-29 10:32:12.188 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:32:12.555 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:32:12.560 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:32:12.564 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:32:12.573 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:32:12.578 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:32:12.582 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:32:12.601 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:32:12.633 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:32:12.699 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:32:13.353 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:32:13.579 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:32:13.632 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:32:13.663 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:32:14.113 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Authors] ([Biography], [PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-29 10:32:14.274 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e4658350-bcae-4956-ad7b-d2c33e68f43a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e4658350-bcae-4956-ad7b-d2c33e68f43a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 10:32:27.033 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API) in 14310.9313ms
2025-09-29 10:32:27.042 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:32:31.281 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e4658350-bcae-4956-ad7b-d2c33e68f43a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\UnitOfWork\UnitOfWork.cs:line 44
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 85
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:32:31.583 +03:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e4658350-bcae-4956-ad7b-d2c33e68f43a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\UnitOfWork\UnitOfWork.cs:line 44
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 85
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:32:31.941 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors - 500 null application/problem+json 19752.5765ms
2025-09-29 10:33:07.429 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:33:07.448 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 18.9518ms
2025-09-29 10:33:07.464 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:33:07.485 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:33:07.490 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:33:07.496 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:33:07.504 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:33:07.510 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:33:07.521 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:33:07.531 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:33:07.536 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:33:07.540 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:33:07.558 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:33:07.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:33:07.609 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:33:52.343 +03:00 [INF] Starting database seeding.
2025-09-29 10:33:52.724 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:33:55.732 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:33:56.056 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:33:56.078 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:33:56.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:33:56.237 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:33:57.420 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:33:57.424 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:33:57.671 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:33:57.673 +03:00 [INF] Hosting environment: Development
2025-09-29 10:33:57.675 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:33:57.975 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:33:58.173 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 215.8148ms
2025-09-29 10:33:58.334 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:33:58.733 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:33:58.737 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:33:58.740 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:33:58.748 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:33:58.750 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:33:58.754 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:33:58.766 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:33:58.773 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:33:58.834 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:33:59.377 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:33:59.620 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:33:59.661 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:34:03.058 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:34:07.463 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API) in 8602.8219ms
2025-09-29 10:34:07.479 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:34:11.292 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.ConflictException: The following person id is already registered as borrower:10
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 77
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:34:11.496 +03:00 [WRN] An Conflict exception has occured: The following person id is already registered as borrower:10
LibraryManagementSystem.Business.Exceptions.ConflictException: The following person id is already registered as borrower:10
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 77
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:34:11.784 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors - 409 null application/problem+json 13449.9142ms
2025-09-29 10:35:00.576 +03:00 [INF] Starting database seeding.
2025-09-29 10:35:01.092 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:35:04.323 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:35:04.533 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:35:04.543 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:35:04.593 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:35:04.720 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:35:05.705 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:35:05.708 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:35:06.118 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:35:06.124 +03:00 [INF] Hosting environment: Development
2025-09-29 10:35:06.129 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:35:07.579 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:35:07.759 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 192.0366ms
2025-09-29 10:35:07.887 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:35:08.250 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:35:08.254 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:35:08.258 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:35:08.266 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:35:08.269 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:35:08.274 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:35:08.287 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:35:08.295 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:35:08.365 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:35:09.008 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:35:09.346 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:35:09.379 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:35:09.407 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:35:09.846 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Authors] ([Biography], [PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-29 10:35:09.976 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8d868c0d-f31c-42f6-9497-e75d1fcd20dd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8d868c0d-f31c-42f6-9497-e75d1fcd20dd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 10:35:59.006 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API) in 50615.518ms
2025-09-29 10:35:59.013 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:36:02.792 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8d868c0d-f31c-42f6-9497-e75d1fcd20dd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\UnitOfWork\UnitOfWork.cs:line 44
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 85
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:36:03.066 +03:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Authors_Persons_PersonId". The conflict occurred in database "LibraryBookManagementSystem", table "dbo.Persons", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8d868c0d-f31c-42f6-9497-e75d1fcd20dd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\UnitOfWork\UnitOfWork.cs:line 44
   at LibraryManagementSystem.Business.Services.AuthorService.CreateAsync(CreateAuthorDto newAuthorDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 85
   at LibraryManagementSystem.API.Controllers.AuthorsController.Create(CreateAuthorDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 138
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 10:36:03.336 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors - 500 null application/problem+json 55449.5575ms
2025-09-29 10:36:40.903 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:36:40.937 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 34.2245ms
2025-09-29 10:36:40.944 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:36:40.969 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:36:40.973 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:36:40.980 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:36:40.984 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:36:40.989 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:36:40.996 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:36:41.004 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:36:41.011 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:36:41.023 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:36:41.050 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:36:44.156 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:36:50.391 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:36:52.003 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:39:59.998 +03:00 [INF] Starting database seeding.
2025-09-29 10:40:00.504 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:40:03.292 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:40:03.443 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:40:03.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:40:03.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:40:03.580 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:40:04.345 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:40:04.350 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:40:04.673 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:40:04.679 +03:00 [INF] Hosting environment: Development
2025-09-29 10:40:04.683 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:40:22.606 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors - application/json 121
2025-09-29 10:40:22.772 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors - 307 0 null 192.5597ms
2025-09-29 10:40:22.909 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors - application/json 121
2025-09-29 10:40:23.326 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:40:23.330 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:40:23.335 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:40:23.342 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:40:23.347 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:40:23.351 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:40:23.368 +03:00 [INF] Incomming Request: POST /api/Authors
2025-09-29 10:40:23.376 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:40:23.449 +03:00 [INF] Route matched with {action = "Create", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:40:24.076 +03:00 [INF] Executing an action Create on controller Authors.
2025-09-29 10:40:28.826 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:40:28.853 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:40:28.887 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[PersonId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 10:40:29.289 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Authors] ([Biography], [PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-29 10:40:29.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] = @__id_0
2025-09-29 10:40:29.762 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorDetailsDto'.
2025-09-29 10:40:29.868 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API) in 6392.0193ms
2025-09-29 10:40:29.879 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Create (LibraryManagementSystem.API)'
2025-09-29 10:40:29.888 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:40:29.904 +03:00 [INF] Generating expiration headers.
2025-09-29 10:40:29.912 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:41:29 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 10:40:29.927 +03:00 [INF] Generating Validation headers.
2025-09-29 10:40:29.984 +03:00 [INF] Validation headers generated. ETag: Strong, "986DC3227F8152BFCF359324CCC9C617". Last-Modified: Mon, 29 Sep 2025 07:40:29 GMT
2025-09-29 10:40:29.991 +03:00 [INF] Generating Vary header.
2025-09-29 10:40:29.996 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:40:30.027 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors - 201 null application/json; charset=utf-8 7119.3267ms
2025-09-29 10:41:06.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/8 - application/json 121
2025-09-29 10:41:06.303 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/8 - 307 0 null 21.7601ms
2025-09-29 10:41:06.321 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/8 - application/json 121
2025-09-29 10:41:06.352 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:41:06.359 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:41:06.364 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:41:06.368 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:41:06.372 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:41:06.376 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:41:06.380 +03:00 [INF] Incomming Request: GET /api/Authors/8
2025-09-29 10:41:06.385 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 10:41:06.400 +03:00 [INF] Route matched with {action = "GetById", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:41:06.420 +03:00 [INF] Executing an action GetById on controller Authors.
2025-09-29 10:41:06.611 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId], [s0].[Id], [s0].[DeleteDate], [s0].[ISBN], [s0].[PublishYear], [s0].[Title], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Authors] AS [a]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [a].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [b].[AuthorsId], [b].[BooksId], [b0].[Id], [b0].[DeleteDate], [b0].[ISBN], [b0].[PublishYear], [b0].[Title]
    FROM [BookAuthors] AS [b]
    INNER JOIN [Books] AS [b0] ON [b].[BooksId] = [b0].[Id]
) AS [s0] ON [s].[Id] = [s0].[AuthorsId]
ORDER BY [s].[Id], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId]
2025-09-29 10:41:06.699 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorDetailsDto'.
2025-09-29 10:41:06.713 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API) in 302.0397ms
2025-09-29 10:41:06.721 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 10:41:06.728 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:41:06.734 +03:00 [INF] Generating expiration headers.
2025-09-29 10:41:06.739 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:42:06 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:41:06.743 +03:00 [INF] Generating Validation headers.
2025-09-29 10:41:06.751 +03:00 [INF] Validation headers generated. ETag: Strong, "5874959C866BA5786AD255990EC620B5". Last-Modified: Mon, 29 Sep 2025 07:41:06 GMT
2025-09-29 10:41:06.757 +03:00 [INF] Generating Vary header.
2025-09-29 10:41:06.762 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:41:06.771 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/8 - 200 null application/json; charset=utf-8 449.8296ms
2025-09-29 10:43:20.920 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Authors/Collection - application/json 370
2025-09-29 10:43:20.932 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Authors/Collection - 307 0 null 15.8943ms
2025-09-29 10:43:20.935 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Authors/Collection - application/json 370
2025-09-29 10:43:20.955 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:43:20.958 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:43:20.961 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:43:20.964 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:43:20.968 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:43:20.973 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:43:20.979 +03:00 [INF] Incomming Request: POST /api/Authors/Collection
2025-09-29 10:43:20.985 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.CreateCollection (LibraryManagementSystem.API)'
2025-09-29 10:43:21.005 +03:00 [INF] Route matched with {action = "CreateCollection", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCollection(LibraryManagementSystem.Business.Dtos.Shared.CreateCollectionDto`1[LibraryManagementSystem.Business.Dtos.AuthorDtos.CreateAuthorDto]) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:43:21.089 +03:00 [INF] Executing an action CreateCollection on controller Authors.
2025-09-29 10:43:21.361 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__personIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[PersonId]
FROM [Authors] AS [a]
WHERE [a].[PersonId] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__personIds_0) WITH ([value] int '$') AS [p]
)
2025-09-29 10:43:21.437 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__personIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id]
FROM [Persons] AS [p]
WHERE [p].[Id] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__personIds_0) WITH ([value] int '$') AS [p0]
)
2025-09-29 10:43:21.579 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Int32), @p2='?' (Size = 1000), @p3='?' (DbType = Int32), @p4='?' (Size = 1000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Authors] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([Biography], [PersonId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Biography], [PersonId])
VALUES (i.[Biography], i.[PersonId])
OUTPUT INSERTED.[Id], i._Position;
2025-09-29 10:43:21.679 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-29 10:43:21.730 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorDetailsDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:43:21.747 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.CreateCollection (LibraryManagementSystem.API) in 706.3516ms
2025-09-29 10:43:21.756 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.CreateCollection (LibraryManagementSystem.API)'
2025-09-29 10:43:21.767 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:43:21.774 +03:00 [INF] Generating expiration headers.
2025-09-29 10:43:21.780 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:44:21 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 10:43:21.791 +03:00 [INF] Generating Validation headers.
2025-09-29 10:43:21.797 +03:00 [INF] Validation headers generated. ETag: Strong, "B290B7ADABF19169593832F4FAB02455". Last-Modified: Mon, 29 Sep 2025 07:43:21 GMT
2025-09-29 10:43:21.807 +03:00 [INF] Generating Vary header.
2025-09-29 10:43:21.815 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:43:21.823 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Authors/Collection - 201 null application/json; charset=utf-8 888.0492ms
2025-09-29 10:43:40.324 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors - application/json 370
2025-09-29 10:43:40.332 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors - 307 0 null 7.5544ms
2025-09-29 10:43:40.334 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors - application/json 370
2025-09-29 10:43:40.349 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:43:40.351 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:43:40.355 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:43:40.360 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:43:40.364 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:43:40.367 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:43:40.370 +03:00 [INF] Incomming Request: GET /api/Authors
2025-09-29 10:43:40.375 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:43:40.391 +03:00 [INF] Route matched with {action = "GetAll", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:43:40.423 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:43:40.505 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API) in 102.765ms
2025-09-29 10:43:40.515 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:43:40.522 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:43:40.528 +03:00 [INF] Generating expiration headers.
2025-09-29 10:43:40.532 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:44:40 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:43:40.538 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-29 10:43:40.543 +03:00 [INF] Generating Vary header.
2025-09-29 10:43:40.548 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:43:40.555 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors - 400 null application/problem+json; charset=utf-8 221.3713ms
2025-09-29 10:45:28.227 +03:00 [INF] Starting database seeding.
2025-09-29 10:45:29.159 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:45:32.127 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:45:32.316 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:45:32.331 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 10:45:32.381 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 10:45:32.496 +03:00 [INF] Database seeding finished successfully.
2025-09-29 10:45:33.519 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 10:45:33.524 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 10:45:33.939 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:45:33.944 +03:00 [INF] Hosting environment: Development
2025-09-29 10:45:33.948 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 10:45:47.899 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors - application/json 370
2025-09-29 10:45:48.088 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors - 307 0 null 202.6668ms
2025-09-29 10:45:48.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors - application/json 370
2025-09-29 10:45:48.484 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:45:48.494 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:45:48.496 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:45:48.501 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:45:48.503 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:45:48.505 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:45:48.514 +03:00 [INF] Incomming Request: GET /api/Authors
2025-09-29 10:45:48.522 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:45:48.607 +03:00 [INF] Route matched with {action = "GetAll", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:45:48.968 +03:00 [INF] Executing an action GetAll on controller Authors.
2025-09-29 10:45:49.282 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
2025-09-29 10:45:49.385 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-29 10:45:49.450 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:45:49.476 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API) in 829.9428ms
2025-09-29 10:45:49.486 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:45:49.494 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:45:49.500 +03:00 [INF] Generating expiration headers.
2025-09-29 10:45:49.505 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:46:49 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:45:49.516 +03:00 [INF] Generating Validation headers.
2025-09-29 10:45:49.550 +03:00 [INF] Validation headers generated. ETag: Strong, "7800024331BAD1AEE437A3076566D06B". Last-Modified: Mon, 29 Sep 2025 07:45:49 GMT
2025-09-29 10:45:49.563 +03:00 [INF] Generating Vary header.
2025-09-29 10:45:49.572 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:45:49.590 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors - 200 null application/json; charset=utf-8 1416.2084ms
2025-09-29 10:48:25.320 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors?PageNumber=2 - application/json 370
2025-09-29 10:48:25.333 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors?PageNumber=2 - 307 0 null 17.4237ms
2025-09-29 10:48:25.338 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors?PageNumber=2 - application/json 370
2025-09-29 10:48:25.357 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:48:25.361 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:48:25.364 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:48:25.368 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:48:25.371 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:48:25.373 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:48:25.375 +03:00 [INF] Incomming Request: GET /api/Authors
2025-09-29 10:48:25.378 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:48:25.383 +03:00 [INF] Route matched with {action = "GetAll", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:48:25.401 +03:00 [INF] Executing an action GetAll on controller Authors.
2025-09-29 10:48:25.423 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
2025-09-29 10:48:25.450 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-09-29 10:48:25.462 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:48:25.467 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API) in 76.7511ms
2025-09-29 10:48:25.474 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:48:25.479 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:48:25.482 +03:00 [INF] Generating expiration headers.
2025-09-29 10:48:25.485 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:49:25 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:48:25.487 +03:00 [INF] Generating Validation headers.
2025-09-29 10:48:25.490 +03:00 [INF] Validation headers generated. ETag: Strong, "71FA60F83867AD329F3D36C5A0D64992". Last-Modified: Mon, 29 Sep 2025 07:48:25 GMT
2025-09-29 10:48:25.493 +03:00 [INF] Generating Vary header.
2025-09-29 10:48:25.495 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:48:25.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors?PageNumber=2 - 200 null application/json; charset=utf-8 159.7465ms
2025-09-29 10:49:13.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors - application/json 370
2025-09-29 10:49:13.141 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors - 307 0 null 18.6223ms
2025-09-29 10:49:13.152 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors - application/json 370
2025-09-29 10:49:13.170 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:49:13.172 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:49:13.175 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:49:13.177 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:49:13.179 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:49:13.181 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:49:13.184 +03:00 [INF] Incomming Request: GET /api/Authors
2025-09-29 10:49:13.187 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:49:13.192 +03:00 [INF] Route matched with {action = "GetAll", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:49:13.203 +03:00 [INF] Executing an action GetAll on controller Authors.
2025-09-29 10:49:13.209 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
2025-09-29 10:49:13.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Authors] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-29 10:49:13.231 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:49:13.237 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API) in 39.1048ms
2025-09-29 10:49:13.242 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetAll (LibraryManagementSystem.API)'
2025-09-29 10:49:13.245 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:49:13.246 +03:00 [INF] Generating expiration headers.
2025-09-29 10:49:13.248 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:50:13 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:49:13.250 +03:00 [INF] Generating Validation headers.
2025-09-29 10:49:13.254 +03:00 [INF] Validation headers generated. ETag: Strong, "7800024331BAD1AEE437A3076566D06B". Last-Modified: Mon, 29 Sep 2025 07:49:13 GMT
2025-09-29 10:49:13.257 +03:00 [INF] Generating Vary header.
2025-09-29 10:49:13.259 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:49:13.262 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors - 200 null application/json; charset=utf-8 114.6255ms
2025-09-29 10:58:55.967 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5132/api/Authors/11 - application/json 47
2025-09-29 10:58:55.990 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5132/api/Authors/11 - 307 0 null 22.7444ms
2025-09-29 10:58:55.993 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7266/api/Authors/11 - application/json 47
2025-09-29 10:58:56.022 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:58:56.025 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:58:56.029 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:58:56.031 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:58:56.033 +03:00 [INF] Not valid - no If Match or If Unmodified-Since headers.
2025-09-29 10:58:56.036 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:58:56.038 +03:00 [INF] Incomming Request: PUT /api/Authors/11
2025-09-29 10:58:56.041 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Update (LibraryManagementSystem.API)'
2025-09-29 10:58:56.050 +03:00 [INF] Route matched with {action = "Update", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, LibraryManagementSystem.Business.Dtos.AuthorDtos.UpdateAuthorDto) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:58:56.098 +03:00 [INF] Executing an action Update on controller Authors.
2025-09-29 10:58:56.159 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__id_0
2025-09-29 10:58:56.419 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Authors] SET [Biography] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-09-29 10:58:56.449 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 10:58:56.452 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.Update (LibraryManagementSystem.API) in 390.3079ms
2025-09-29 10:58:56.457 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Update (LibraryManagementSystem.API)'
2025-09-29 10:58:56.462 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:58:56.464 +03:00 [INF] Generating expiration headers.
2025-09-29 10:58:56.466 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 07:59:56 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 10:58:56.469 +03:00 [INF] Generating Validation headers.
2025-09-29 10:58:56.471 +03:00 [INF] Validation headers generated. ETag: Strong, "C4537B2F07814DB1F0322F4B0B5A0D11". Last-Modified: Mon, 29 Sep 2025 07:58:56 GMT
2025-09-29 10:58:56.474 +03:00 [INF] Generating Vary header.
2025-09-29 10:58:56.476 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:58:56.479 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7266/api/Authors/11 - 204 null null 486.7109ms
2025-09-29 10:59:05.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/11 - null null
2025-09-29 10:59:05.431 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/11 - 307 0 null 15.1548ms
2025-09-29 10:59:05.434 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/11 - null null
2025-09-29 10:59:05.452 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:59:05.455 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:59:05.458 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:59:05.461 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:59:05.463 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:59:05.465 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:59:05.469 +03:00 [INF] Incomming Request: GET /api/Authors/11
2025-09-29 10:59:05.472 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 10:59:05.480 +03:00 [INF] Route matched with {action = "GetById", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:59:05.486 +03:00 [INF] Executing an action GetById on controller Authors.
2025-09-29 10:59:05.591 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId], [s0].[Id], [s0].[DeleteDate], [s0].[ISBN], [s0].[PublishYear], [s0].[Title], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Authors] AS [a]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [a].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [b].[AuthorsId], [b].[BooksId], [b0].[Id], [b0].[DeleteDate], [b0].[ISBN], [b0].[PublishYear], [b0].[Title]
    FROM [BookAuthors] AS [b]
    INNER JOIN [Books] AS [b0] ON [b].[BooksId] = [b0].[Id]
) AS [s0] ON [s].[Id] = [s0].[AuthorsId]
ORDER BY [s].[Id], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId]
2025-09-29 10:59:05.666 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AuthorDtos.AuthorDetailsDto'.
2025-09-29 10:59:05.675 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API) in 189.3433ms
2025-09-29 10:59:05.681 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 10:59:05.688 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:59:05.692 +03:00 [INF] Generating expiration headers.
2025-09-29 10:59:05.695 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 08:00:05 GMT. Cache-Control: public,max-age=60.
2025-09-29 10:59:05.700 +03:00 [INF] Generating Validation headers.
2025-09-29 10:59:05.703 +03:00 [INF] Validation headers generated. ETag: Strong, "D5D49367391133664BFED5BEC374C786". Last-Modified: Mon, 29 Sep 2025 07:59:05 GMT
2025-09-29 10:59:05.707 +03:00 [INF] Generating Vary header.
2025-09-29 10:59:05.711 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:59:05.715 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/11 - 200 null application/json; charset=utf-8 281.0435ms
2025-09-29 10:59:45.983 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5132/api/Authors/11 - null null
2025-09-29 10:59:45.998 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5132/api/Authors/11 - 307 0 null 15.0203ms
2025-09-29 10:59:46.001 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7266/api/Authors/11 - null null
2025-09-29 10:59:46.019 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:59:46.021 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 10:59:46.023 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:59:46.025 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:59:46.027 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:59:46.031 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:59:46.033 +03:00 [INF] Incomming Request: DELETE /api/Authors/11
2025-09-29 10:59:46.036 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Delete (LibraryManagementSystem.API)'
2025-09-29 10:59:46.043 +03:00 [INF] Route matched with {action = "Delete", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:59:46.050 +03:00 [INF] Executing an action Delete on controller Authors.
2025-09-29 10:59:46.083 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[Biography], [a0].[PersonId], [s].[AuthorsId], [s].[BooksId], [s].[Id], [s].[DeleteDate], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId]
    FROM [Authors] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [a0]
LEFT JOIN (
    SELECT [b].[AuthorsId], [b].[BooksId], [b0].[Id], [b0].[DeleteDate], [b0].[ISBN], [b0].[PublishYear], [b0].[Title]
    FROM [BookAuthors] AS [b]
    INNER JOIN [Books] AS [b0] ON [b].[BooksId] = [b0].[Id]
) AS [s] ON [a0].[Id] = [s].[AuthorsId]
ORDER BY [a0].[Id], [s].[AuthorsId], [s].[BooksId]
2025-09-29 10:59:46.139 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Authors]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-29 10:59:46.152 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 10:59:46.157 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.Delete (LibraryManagementSystem.API) in 107.4182ms
2025-09-29 10:59:46.161 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.Delete (LibraryManagementSystem.API)'
2025-09-29 10:59:46.165 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 10:59:46.168 +03:00 [INF] Generating expiration headers.
2025-09-29 10:59:46.171 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 08:00:46 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 10:59:46.176 +03:00 [INF] Generating Validation headers.
2025-09-29 10:59:46.180 +03:00 [INF] Validation headers generated. ETag: Strong, "C4537B2F07814DB1F0322F4B0B5A0D11". Last-Modified: Mon, 29 Sep 2025 07:59:46 GMT
2025-09-29 10:59:46.186 +03:00 [INF] Generating Vary header.
2025-09-29 10:59:46.188 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 10:59:46.191 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7266/api/Authors/11 - 204 null null 191.4206ms
2025-09-29 10:59:51.348 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Authors/11 - null null
2025-09-29 10:59:51.369 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Authors/11 - 307 0 null 20.6667ms
2025-09-29 10:59:51.373 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Authors/11 - null null
2025-09-29 10:59:51.412 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 10:59:51.426 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 10:59:51.434 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 10:59:51.442 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 10:59:51.452 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 10:59:51.463 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 10:59:51.471 +03:00 [INF] Incomming Request: GET /api/Authors/11
2025-09-29 10:59:51.481 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 10:59:51.502 +03:00 [INF] Route matched with {action = "GetById", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.AuthorsController (LibraryManagementSystem.API).
2025-09-29 10:59:51.535 +03:00 [INF] Executing an action GetById on controller Authors.
2025-09-29 10:59:51.557 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Biography], [s].[PersonId], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId], [s0].[Id], [s0].[DeleteDate], [s0].[ISBN], [s0].[PublishYear], [s0].[Title], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [a].[Id], [a].[Biography], [a].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Authors] AS [a]
    INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
    WHERE [a].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [b].[AuthorsId], [b].[BooksId], [b0].[Id], [b0].[DeleteDate], [b0].[ISBN], [b0].[PublishYear], [b0].[Title]
    FROM [BookAuthors] AS [b]
    INNER JOIN [Books] AS [b0] ON [b].[BooksId] = [b0].[Id]
) AS [s0] ON [s].[Id] = [s0].[AuthorsId]
ORDER BY [s].[Id], [s].[Id0], [s0].[AuthorsId], [s0].[BooksId]
2025-09-29 10:59:55.727 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API) in 4193.4407ms
2025-09-29 10:59:55.746 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AuthorsController.GetById (LibraryManagementSystem.API)'
2025-09-29 11:00:00.791 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Author with id 11 not found.
   at LibraryManagementSystem.Business.Services.AuthorService.ThrowNotFoundExceptionIfAuthorNotExist(Int32 id, Author author) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 196
   at LibraryManagementSystem.Business.Services.AuthorService.GetByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 37
   at LibraryManagementSystem.API.Controllers.AuthorsController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 11:00:01.043 +03:00 [WRN] A Not Found exception has occured: Author with id 11 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Author with id 11 not found.
   at LibraryManagementSystem.Business.Services.AuthorService.ThrowNotFoundExceptionIfAuthorNotExist(Int32 id, Author author) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 196
   at LibraryManagementSystem.Business.Services.AuthorService.GetByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\AuthorService.cs:line 37
   at LibraryManagementSystem.API.Controllers.AuthorsController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\AuthorsController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 11:00:01.287 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Authors/11 - 404 null application/problem+json 9914.0785ms
2025-09-29 17:19:18.708 +03:00 [INF] Starting database seeding.
2025-09-29 17:19:19.466 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:19:22.363 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:19:22.492 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:19:22.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:19:22.516 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 17:19:22.603 +03:00 [INF] Database seeding finished successfully.
2025-09-29 17:19:23.852 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 17:19:23.859 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 17:19:24.320 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 17:19:24.326 +03:00 [INF] Hosting environment: Development
2025-09-29 17:19:24.332 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 17:19:32.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrower/1 - null null
2025-09-29 17:19:32.453 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrower/1 - 307 0 null 162.4447ms
2025-09-29 17:19:32.563 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrower/1 - null null
2025-09-29 17:19:32.862 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2025 8:16:55 AM', Current time (UTC): '9/29/2025 2:19:32 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 17:19:32.909 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2025 8:16:55 AM', Current time (UTC): '9/29/2025 2:19:32 PM'.
2025-09-29 17:19:32.941 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:19:32.950 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:19:32.953 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:19:32.961 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:19:32.963 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:19:32.967 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:19:32.980 +03:00 [INF] Incomming Request: GET /api/Borrower/1
2025-09-29 17:19:32.984 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:19:32.993 +03:00 [INF] Generating expiration headers.
2025-09-29 17:19:32.998 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:20:32 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 17:19:33.006 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-29 17:19:33.010 +03:00 [INF] Generating Vary header.
2025-09-29 17:19:33.013 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:19:33.094 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrower/1 - 404 null application/problem+json 531.1386ms
2025-09-29 17:19:33.109 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7266/api/Borrower/1, Response status code: 404
2025-09-29 17:19:48.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/1 - null null
2025-09-29 17:19:48.451 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/1 - 307 0 null 10.0587ms
2025-09-29 17:19:48.457 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/1 - null null
2025-09-29 17:19:48.471 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2025 8:16:55 AM', Current time (UTC): '9/29/2025 2:19:48 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 17:19:48.500 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2025 8:16:55 AM', Current time (UTC): '9/29/2025 2:19:48 PM'.
2025-09-29 17:19:48.521 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-29 17:19:48.543 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-29 17:19:48.545 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/1 - 401 0 null 88.5354ms
2025-09-29 17:20:34.280 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - application/json 73
2025-09-29 17:20:34.288 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Accounts/Login - 307 0 null 7.8282ms
2025-09-29 17:20:34.297 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - application/json 73
2025-09-29 17:20:34.313 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:20:34.315 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 17:20:34.318 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:20:34.321 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:20:34.325 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:20:34.329 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:20:34.332 +03:00 [INF] Incomming Request: POST /api/Accounts/Login
2025-09-29 17:20:34.336 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-29 17:20:34.373 +03:00 [INF] Route matched with {action = "Login", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LibraryManagementSystem.Business.Dtos.AccountDtos.LoginDto) on controller LibraryManagementSystem.API.Controllers.AccountsController (LibraryManagementSystem.API).
2025-09-29 17:20:34.780 +03:00 [INF] Executing an action Login on controller Accounts.
2025-09-29 17:20:34.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 17:20:35.303 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-29 17:20:35.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 17:20:35.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 17:20:35.687 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PersonId] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-09-29 17:20:35.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto'.
2025-09-29 17:20:35.773 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API) in 1383.3051ms
2025-09-29 17:20:35.782 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountsController.Login (LibraryManagementSystem.API)'
2025-09-29 17:20:35.791 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:20:35.798 +03:00 [INF] Generating expiration headers.
2025-09-29 17:20:35.802 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:21:35 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 17:20:35.808 +03:00 [INF] Generating Validation headers.
2025-09-29 17:20:35.834 +03:00 [INF] Validation headers generated. ETag: Strong, "330645564AEF2CD791F7B5CF5BB29309". Last-Modified: Mon, 29 Sep 2025 14:20:35 GMT
2025-09-29 17:20:35.839 +03:00 [INF] Generating Vary header.
2025-09-29 17:20:35.844 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:20:35.863 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Accounts/Login - 200 null application/json; charset=utf-8 1567.1819ms
2025-09-29 17:21:06.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/1 - null null
2025-09-29 17:21:06.846 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/1 - 307 0 null 16.43ms
2025-09-29 17:21:06.851 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/1 - null null
2025-09-29 17:21:06.897 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:21:06.900 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:21:06.903 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:21:06.907 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:21:06.910 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:21:06.913 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:21:06.917 +03:00 [INF] Incomming Request: GET /api/Borrowers/1
2025-09-29 17:21:06.924 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:21:06.940 +03:00 [INF] Route matched with {action = "GetById", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:21:06.960 +03:00 [INF] Executing an action GetById on controller Borrowers.
2025-09-29 17:21:07.223 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[PersonId], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN [Borrowings] AS [b0] ON [b1].[Id] = [b0].[BorrowerId]
ORDER BY [b1].[Id]
2025-09-29 17:21:24.856 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API) in 17905.6145ms
2025-09-29 17:21:24.870 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:21:28.719 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Borrower with id 1 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.ThrowNotFoundExceptionIfBorrowerNotExist(Int32 id, Borrower borrower) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 231
   at LibraryManagementSystem.Business.Services.BorrowerService.GetBorrowerByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 38
   at LibraryManagementSystem.API.Controllers.BorrowersController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 17:21:28.914 +03:00 [WRN] A Not Found exception has occured: Borrower with id 1 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Borrower with id 1 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.ThrowNotFoundExceptionIfBorrowerNotExist(Int32 id, Borrower borrower) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 231
   at LibraryManagementSystem.Business.Services.BorrowerService.GetBorrowerByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 38
   at LibraryManagementSystem.API.Controllers.BorrowersController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 17:21:29.096 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/1 - 404 null application/problem+json 22244.992ms
2025-09-29 17:21:39.669 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers - null null
2025-09-29 17:21:39.678 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers - 307 0 null 9.5366ms
2025-09-29 17:21:39.684 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers - null null
2025-09-29 17:21:39.717 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:21:39.720 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:21:39.724 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:21:39.728 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:21:39.732 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:21:39.737 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:21:39.741 +03:00 [INF] Incomming Request: GET /api/Borrowers
2025-09-29 17:21:39.745 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetAll (LibraryManagementSystem.API)'
2025-09-29 17:21:39.762 +03:00 [INF] Route matched with {action = "GetAll", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:21:39.785 +03:00 [INF] Executing an action GetAll on controller Borrowers.
2025-09-29 17:21:39.864 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
2025-09-29 17:21:39.909 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-29 17:21:39.967 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:21:39.979 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetAll (LibraryManagementSystem.API) in 203.939ms
2025-09-29 17:21:39.985 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetAll (LibraryManagementSystem.API)'
2025-09-29 17:21:39.991 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:21:39.995 +03:00 [INF] Generating expiration headers.
2025-09-29 17:21:40.000 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:22:40 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:21:40.005 +03:00 [INF] Generating Validation headers.
2025-09-29 17:21:40.010 +03:00 [INF] Validation headers generated. ETag: Strong, "344E9BD20372EBAB9FC06F79BC6E6D53". Last-Modified: Mon, 29 Sep 2025 14:21:40 GMT
2025-09-29 17:21:40.014 +03:00 [INF] Generating Vary header.
2025-09-29 17:21:40.019 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:21:40.026 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers - 200 null application/json; charset=utf-8 342.9856ms
2025-09-29 17:22:01.005 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/2 - null null
2025-09-29 17:22:01.024 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/2 - 307 0 null 20.3339ms
2025-09-29 17:22:01.030 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/2 - null null
2025-09-29 17:22:01.055 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:22:01.057 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:22:01.062 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:22:01.066 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:22:01.070 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:22:01.075 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:22:01.079 +03:00 [INF] Incomming Request: GET /api/Borrowers/2
2025-09-29 17:22:01.084 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:22:01.091 +03:00 [INF] Route matched with {action = "GetById", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:22:01.107 +03:00 [INF] Executing an action GetById on controller Borrowers.
2025-09-29 17:22:01.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[PersonId], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN [Borrowings] AS [b0] ON [b1].[Id] = [b0].[BorrowerId]
ORDER BY [b1].[Id]
2025-09-29 17:22:01.153 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerDetailsDto'.
2025-09-29 17:22:01.163 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API) in 61.2509ms
2025-09-29 17:22:01.168 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:22:01.175 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:22:01.180 +03:00 [INF] Generating expiration headers.
2025-09-29 17:22:01.185 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:23:01 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:22:01.189 +03:00 [INF] Generating Validation headers.
2025-09-29 17:22:01.194 +03:00 [INF] Validation headers generated. ETag: Strong, "82BB22688FD0B44FA2FBD58919F09600". Last-Modified: Mon, 29 Sep 2025 14:22:01 GMT
2025-09-29 17:22:01.200 +03:00 [INF] Generating Vary header.
2025-09-29 17:22:01.206 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:22:01.211 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/2 - 200 null application/json; charset=utf-8 181.6809ms
2025-09-29 17:25:34.823 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/2 - null null
2025-09-29 17:25:34.836 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/2 - 307 0 null 12.5784ms
2025-09-29 17:25:34.840 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/2 - null null
2025-09-29 17:25:34.877 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:25:34.880 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:25:34.883 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:25:34.887 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:25:34.890 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:25:34.893 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:25:34.895 +03:00 [INF] Incomming Request: GET /api/Borrowers/2
2025-09-29 17:25:34.899 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:25:34.903 +03:00 [INF] Route matched with {action = "GetById", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:25:34.911 +03:00 [INF] Executing an action GetById on controller Borrowers.
2025-09-29 17:25:37.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[PersonId], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN [Borrowings] AS [b0] ON [b1].[Id] = [b0].[BorrowerId]
ORDER BY [b1].[Id]
2025-09-29 17:25:55.747 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerDetailsDto'.
2025-09-29 17:25:55.756 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API) in 20845.2621ms
2025-09-29 17:25:55.762 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:25:55.771 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:25:55.775 +03:00 [INF] Generating expiration headers.
2025-09-29 17:25:55.780 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:26:55 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:25:55.786 +03:00 [INF] Generating Validation headers.
2025-09-29 17:25:55.797 +03:00 [INF] Validation headers generated. ETag: Strong, "82BB22688FD0B44FA2FBD58919F09600". Last-Modified: Mon, 29 Sep 2025 14:25:55 GMT
2025-09-29 17:25:55.804 +03:00 [INF] Generating Vary header.
2025-09-29 17:25:55.813 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:25:55.822 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/2 - 200 null application/json; charset=utf-8 20982.4933ms
2025-09-29 17:27:54.618 +03:00 [INF] Starting database seeding.
2025-09-29 17:27:54.993 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:27:57.853 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:27:58.050 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:27:58.060 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:27:58.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 17:27:58.170 +03:00 [INF] Database seeding finished successfully.
2025-09-29 17:27:58.851 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 17:27:58.854 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 17:27:59.074 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 17:27:59.078 +03:00 [INF] Hosting environment: Development
2025-09-29 17:27:59.082 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 17:27:59.616 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/2 - null null
2025-09-29 17:27:59.809 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/2 - 307 0 null 211.668ms
2025-09-29 17:27:59.947 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/2 - null null
2025-09-29 17:28:00.366 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:28:00.377 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:28:00.381 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:28:00.389 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:28:00.393 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:28:00.398 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:28:00.411 +03:00 [INF] Incomming Request: GET /api/Borrowers/2
2025-09-29 17:28:00.419 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:28:00.494 +03:00 [INF] Route matched with {action = "GetById", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:28:00.967 +03:00 [INF] Executing an action GetById on controller Borrowers.
2025-09-29 17:28:01.618 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[PersonId], [s].[Id0], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Borrowers] AS [b]
    INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN [Borrowings] AS [b0] ON [s].[Id] = [b0].[BorrowerId]
ORDER BY [s].[Id], [s].[Id0]
2025-09-29 17:28:01.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerDetailsDto'.
2025-09-29 17:28:01.803 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API) in 1285.3577ms
2025-09-29 17:28:01.819 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 17:28:01.830 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:28:01.844 +03:00 [INF] Generating expiration headers.
2025-09-29 17:28:01.852 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:29:01 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:28:01.865 +03:00 [INF] Generating Validation headers.
2025-09-29 17:28:01.927 +03:00 [INF] Validation headers generated. ETag: Strong, "23DEFD5E2F88412B9E9BD18DDA8B5CC6". Last-Modified: Mon, 29 Sep 2025 14:28:01 GMT
2025-09-29 17:28:01.937 +03:00 [INF] Generating Vary header.
2025-09-29 17:28:01.942 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:28:01.969 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/2 - 200 null application/json; charset=utf-8 2022.2841ms
2025-09-29 17:31:09.819 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Borrowers/GetByIds - application/json 27
2025-09-29 17:31:09.831 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Borrowers/GetByIds - 307 0 null 12.7737ms
2025-09-29 17:31:09.838 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Borrowers/GetByIds - application/json 27
2025-09-29 17:31:09.858 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:31:09.862 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 17:31:09.864 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:31:09.868 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:31:09.872 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:31:09.877 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:31:09.882 +03:00 [INF] Incomming Request: POST /api/Borrowers/GetByIds
2025-09-29 17:31:09.886 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 17:31:09.902 +03:00 [INF] Route matched with {action = "GetByIds", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIds(LibraryManagementSystem.Business.Dtos.Shared.GetByIdsDto) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:31:09.975 +03:00 [INF] Executing an action GetByIds on controller Borrowers.
2025-09-29 17:31:10.136 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId]
FROM [Borrowers] AS [b]
WHERE [b].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-29 17:31:10.169 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:31:10.181 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetByIds (LibraryManagementSystem.API) in 268.1985ms
2025-09-29 17:31:10.187 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 17:31:10.195 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:31:10.199 +03:00 [INF] Generating expiration headers.
2025-09-29 17:31:10.204 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:32:10 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 17:31:10.209 +03:00 [INF] Generating Validation headers.
2025-09-29 17:31:10.215 +03:00 [INF] Validation headers generated. ETag: Strong, "A9778662C0DB1E7CA3CB0522289EE75B". Last-Modified: Mon, 29 Sep 2025 14:31:10 GMT
2025-09-29 17:31:10.220 +03:00 [INF] Generating Vary header.
2025-09-29 17:31:10.224 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:31:10.230 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Borrowers/GetByIds - 200 null application/json; charset=utf-8 391.9552ms
2025-09-29 17:34:19.197 +03:00 [INF] Starting database seeding.
2025-09-29 17:34:19.591 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:34:22.604 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:34:22.946 +03:00 [INF] Executed DbCommand (217ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:34:23.030 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:34:23.078 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 17:34:23.159 +03:00 [INF] Database seeding finished successfully.
2025-09-29 17:34:24.053 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 17:34:24.057 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 17:34:24.477 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 17:34:24.493 +03:00 [INF] Hosting environment: Development
2025-09-29 17:34:24.499 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 17:34:34.900 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Borrowers/GetByIds - application/json 27
2025-09-29 17:34:35.111 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Borrowers/GetByIds - 307 0 null 229.1838ms
2025-09-29 17:34:35.325 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Borrowers/GetByIds - application/json 27
2025-09-29 17:34:35.864 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:34:35.870 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 17:34:35.878 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:34:35.891 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:34:35.897 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:34:35.905 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:34:35.927 +03:00 [INF] Incomming Request: POST /api/Borrowers/GetByIds
2025-09-29 17:34:35.938 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 17:34:36.049 +03:00 [INF] Route matched with {action = "GetByIds", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIds(LibraryManagementSystem.Business.Dtos.Shared.GetByIdsDto) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:34:36.655 +03:00 [INF] Executing an action GetByIds on controller Borrowers.
2025-09-29 17:34:37.091 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE [b].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-29 17:34:37.157 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:34:37.192 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetByIds (LibraryManagementSystem.API) in 1113.9981ms
2025-09-29 17:34:37.200 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetByIds (LibraryManagementSystem.API)'
2025-09-29 17:34:37.206 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:34:37.215 +03:00 [INF] Generating expiration headers.
2025-09-29 17:34:37.219 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:35:37 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 17:34:37.227 +03:00 [INF] Generating Validation headers.
2025-09-29 17:34:37.255 +03:00 [INF] Validation headers generated. ETag: Strong, "DE4B404D77ADA56BBEE2657AAE877C03". Last-Modified: Mon, 29 Sep 2025 14:34:37 GMT
2025-09-29 17:34:37.260 +03:00 [INF] Generating Vary header.
2025-09-29 17:34:37.264 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:34:37.284 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Borrowers/GetByIds - 200 null application/json; charset=utf-8 1959.751ms
2025-09-29 17:35:41.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers - null null
2025-09-29 17:35:41.285 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers - 307 0 null 19.4261ms
2025-09-29 17:35:41.294 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers - null null
2025-09-29 17:35:41.327 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:35:41.337 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:35:41.342 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:35:41.348 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:35:41.354 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:35:41.361 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:35:41.367 +03:00 [INF] Incomming Request: GET /api/Borrowers
2025-09-29 17:35:41.374 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetAll (LibraryManagementSystem.API)'
2025-09-29 17:35:41.408 +03:00 [INF] Route matched with {action = "GetAll", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:35:41.478 +03:00 [INF] Executing an action GetAll on controller Borrowers.
2025-09-29 17:35:41.638 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
2025-09-29 17:35:41.717 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-09-29 17:35:41.767 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:35:41.791 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetAll (LibraryManagementSystem.API) in 358.9025ms
2025-09-29 17:35:41.800 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetAll (LibraryManagementSystem.API)'
2025-09-29 17:35:41.812 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:35:41.820 +03:00 [INF] Generating expiration headers.
2025-09-29 17:35:41.827 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:36:41 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:35:41.833 +03:00 [INF] Generating Validation headers.
2025-09-29 17:35:41.840 +03:00 [INF] Validation headers generated. ETag: Strong, "344E9BD20372EBAB9FC06F79BC6E6D53". Last-Modified: Mon, 29 Sep 2025 14:35:41 GMT
2025-09-29 17:35:41.849 +03:00 [INF] Generating Vary header.
2025-09-29 17:35:41.856 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:35:41.868 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers - 200 null application/json; charset=utf-8 574.2243ms
2025-09-29 17:37:15.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/2/BorrowingHistory - null null
2025-09-29 17:37:15.820 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/2/BorrowingHistory - 307 0 null 18.7947ms
2025-09-29 17:37:15.823 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/2/BorrowingHistory - null null
2025-09-29 17:37:15.850 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:37:15.852 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:37:15.857 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:37:15.861 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:37:15.865 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:37:15.869 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:37:15.875 +03:00 [INF] Incomming Request: GET /api/Borrowers/2/BorrowingHistory
2025-09-29 17:37:15.880 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:37:15.894 +03:00 [INF] Route matched with {action = "GetBorrowingHistory", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowingHistory(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:37:15.915 +03:00 [INF] Executing an action GetBorrowingHistory on controller Borrowers.
2025-09-29 17:37:16.038 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:37:16.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.BorrowingHistoryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:37:16.111 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API) in 206.9666ms
2025-09-29 17:37:16.118 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:37:16.125 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:37:16.130 +03:00 [INF] Generating expiration headers.
2025-09-29 17:37:16.136 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:38:16 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:37:16.143 +03:00 [INF] Generating Validation headers.
2025-09-29 17:37:16.149 +03:00 [INF] Validation headers generated. ETag: Strong, "467EB65EB096A5E4EEEFCEF41F37814C". Last-Modified: Mon, 29 Sep 2025 14:37:16 GMT
2025-09-29 17:37:16.153 +03:00 [INF] Generating Vary header.
2025-09-29 17:37:16.158 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:37:16.163 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/2/BorrowingHistory - 200 null application/json; charset=utf-8 339.1869ms
2025-09-29 17:38:03.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/3/BorrowingHistory - null null
2025-09-29 17:38:03.918 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/3/BorrowingHistory - 307 0 null 15.2245ms
2025-09-29 17:38:03.922 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/3/BorrowingHistory - null null
2025-09-29 17:38:03.945 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:38:03.948 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:38:03.952 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:38:03.955 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:38:03.959 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:38:03.964 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:38:03.966 +03:00 [INF] Incomming Request: GET /api/Borrowers/3/BorrowingHistory
2025-09-29 17:38:03.970 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:38:03.974 +03:00 [INF] Route matched with {action = "GetBorrowingHistory", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowingHistory(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:38:03.983 +03:00 [INF] Executing an action GetBorrowingHistory on controller Borrowers.
2025-09-29 17:38:03.987 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:38:04.004 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.BorrowingHistoryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:38:04.013 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API) in 31.1045ms
2025-09-29 17:38:04.018 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:38:04.021 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:38:04.024 +03:00 [INF] Generating expiration headers.
2025-09-29 17:38:04.026 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:39:04 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:38:04.028 +03:00 [INF] Generating Validation headers.
2025-09-29 17:38:04.030 +03:00 [INF] Validation headers generated. ETag: Strong, "E3CBBCB9C668981CE1BD1448397BEEE3". Last-Modified: Mon, 29 Sep 2025 14:38:04 GMT
2025-09-29 17:38:04.032 +03:00 [INF] Generating Vary header.
2025-09-29 17:38:04.034 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:38:04.037 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/3/BorrowingHistory - 200 null application/json; charset=utf-8 115.1087ms
2025-09-29 17:38:25.326 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/4/BorrowingHistory - null null
2025-09-29 17:38:25.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/4/BorrowingHistory - 307 0 null 20.751ms
2025-09-29 17:38:25.359 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/4/BorrowingHistory - null null
2025-09-29 17:38:25.397 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:38:25.402 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:38:25.408 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:38:25.414 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:38:25.419 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:38:25.425 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:38:25.432 +03:00 [INF] Incomming Request: GET /api/Borrowers/4/BorrowingHistory
2025-09-29 17:38:25.440 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:38:25.451 +03:00 [INF] Route matched with {action = "GetBorrowingHistory", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowingHistory(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:38:25.471 +03:00 [INF] Executing an action GetBorrowingHistory on controller Borrowers.
2025-09-29 17:38:25.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:38:25.521 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.BorrowingHistoryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:38:25.533 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API) in 63.216ms
2025-09-29 17:38:25.542 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:38:25.552 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:38:25.558 +03:00 [INF] Generating expiration headers.
2025-09-29 17:38:25.568 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:39:25 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:38:25.575 +03:00 [INF] Generating Validation headers.
2025-09-29 17:38:25.586 +03:00 [INF] Validation headers generated. ETag: Strong, "9C8246C148DD354DD4DD5147575B6B28". Last-Modified: Mon, 29 Sep 2025 14:38:25 GMT
2025-09-29 17:38:25.597 +03:00 [INF] Generating Vary header.
2025-09-29 17:38:25.604 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:38:25.610 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/4/BorrowingHistory - 200 null application/json; charset=utf-8 256.048ms
2025-09-29 17:38:33.465 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/BorrowingHistory - null null
2025-09-29 17:38:33.475 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/BorrowingHistory - 307 0 null 9.6646ms
2025-09-29 17:38:33.478 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/BorrowingHistory - null null
2025-09-29 17:38:33.502 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:38:33.505 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:38:33.508 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:38:33.512 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:38:33.516 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:38:33.520 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:38:33.524 +03:00 [INF] Incomming Request: GET /api/Borrowers/5/BorrowingHistory
2025-09-29 17:38:33.528 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:38:33.534 +03:00 [INF] Route matched with {action = "GetBorrowingHistory", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowingHistory(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:38:33.544 +03:00 [INF] Executing an action GetBorrowingHistory on controller Borrowers.
2025-09-29 17:38:33.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:38:33.574 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.BorrowingHistoryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:38:33.582 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API) in 38.7355ms
2025-09-29 17:38:33.588 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetBorrowingHistory (LibraryManagementSystem.API)'
2025-09-29 17:38:33.594 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:38:33.599 +03:00 [INF] Generating expiration headers.
2025-09-29 17:38:33.603 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:39:33 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:38:33.606 +03:00 [INF] Generating Validation headers.
2025-09-29 17:38:33.611 +03:00 [INF] Validation headers generated. ETag: Strong, "E0E6A57683A9F5B0DE21B45DBE8B4C78". Last-Modified: Mon, 29 Sep 2025 14:38:33 GMT
2025-09-29 17:38:33.616 +03:00 [INF] Generating Vary header.
2025-09-29 17:38:33.620 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:38:33.625 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/BorrowingHistory - 200 null application/json; charset=utf-8 147.1669ms
2025-09-29 17:42:33.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/2/Loans/Current - null null
2025-09-29 17:42:33.546 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/2/Loans/Current - 307 0 null 23.5262ms
2025-09-29 17:42:33.551 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/2/Loans/Current - null null
2025-09-29 17:42:33.572 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:42:33.576 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:42:33.579 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:42:33.584 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:42:33.588 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:42:33.592 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:42:33.596 +03:00 [INF] Incomming Request: GET /api/Borrowers/2/Loans/Current
2025-09-29 17:42:33.601 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API)'
2025-09-29 17:42:33.614 +03:00 [INF] Route matched with {action = "GetCurrentLoans", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentLoans(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:42:33.625 +03:00 [INF] Executing an action GetCurrentLoans on controller Borrowers.
2025-09-29 17:42:33.634 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:42:33.657 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.BookSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:42:33.666 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API) in 42.0127ms
2025-09-29 17:42:33.674 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API)'
2025-09-29 17:42:33.680 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:42:33.683 +03:00 [INF] Generating expiration headers.
2025-09-29 17:42:33.686 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:43:33 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:42:33.689 +03:00 [INF] Generating Validation headers.
2025-09-29 17:42:33.692 +03:00 [INF] Validation headers generated. ETag: Strong, "E69685B8025A2ED274693D26C0BE805B". Last-Modified: Mon, 29 Sep 2025 14:42:33 GMT
2025-09-29 17:42:33.696 +03:00 [INF] Generating Vary header.
2025-09-29 17:42:33.698 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:42:33.702 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/2/Loans/Current - 200 null application/json; charset=utf-8 151.7063ms
2025-09-29 17:42:52.077 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/3/Loans/Current - null null
2025-09-29 17:42:52.136 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/3/Loans/Current - 307 0 null 58.5281ms
2025-09-29 17:42:52.139 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/3/Loans/Current - null null
2025-09-29 17:42:52.166 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:42:52.170 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:42:52.173 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:42:52.175 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:42:52.178 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:42:52.180 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:42:52.182 +03:00 [INF] Incomming Request: GET /api/Borrowers/3/Loans/Current
2025-09-29 17:42:52.185 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API)'
2025-09-29 17:42:52.189 +03:00 [INF] Route matched with {action = "GetCurrentLoans", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentLoans(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:42:52.196 +03:00 [INF] Executing an action GetCurrentLoans on controller Borrowers.
2025-09-29 17:42:52.201 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:42:52.218 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.BookSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:42:52.223 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API) in 27.9935ms
2025-09-29 17:42:52.229 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API)'
2025-09-29 17:42:52.234 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:42:52.238 +03:00 [INF] Generating expiration headers.
2025-09-29 17:42:52.240 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:43:52 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:42:52.243 +03:00 [INF] Generating Validation headers.
2025-09-29 17:42:52.246 +03:00 [INF] Validation headers generated. ETag: Strong, "74D5CA4627CEB0A84599AF028816FA12". Last-Modified: Mon, 29 Sep 2025 14:42:52 GMT
2025-09-29 17:42:52.251 +03:00 [INF] Generating Vary header.
2025-09-29 17:42:52.255 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:42:52.260 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/3/Loans/Current - 200 null application/json; charset=utf-8 120.5535ms
2025-09-29 17:43:08.927 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/Loans/Current - null null
2025-09-29 17:43:08.954 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/Loans/Current - 307 0 null 26.8637ms
2025-09-29 17:43:08.958 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/Loans/Current - null null
2025-09-29 17:43:08.985 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:43:08.988 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:43:08.992 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:43:08.994 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:43:08.998 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:43:09.002 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:43:09.006 +03:00 [INF] Incomming Request: GET /api/Borrowers/5/Loans/Current
2025-09-29 17:43:09.009 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API)'
2025-09-29 17:43:09.014 +03:00 [INF] Route matched with {action = "GetCurrentLoans", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentLoans(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:43:09.023 +03:00 [INF] Executing an action GetCurrentLoans on controller Borrowers.
2025-09-29 17:43:09.030 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:43:09.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.BookSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:43:09.055 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API) in 32.321ms
2025-09-29 17:43:09.060 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetCurrentLoans (LibraryManagementSystem.API)'
2025-09-29 17:43:09.064 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:43:09.067 +03:00 [INF] Generating expiration headers.
2025-09-29 17:43:09.070 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:44:09 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:43:09.073 +03:00 [INF] Generating Validation headers.
2025-09-29 17:43:09.076 +03:00 [INF] Validation headers generated. ETag: Strong, "137935F55D887FA98D0B998AFE91CAF0". Last-Modified: Mon, 29 Sep 2025 14:43:09 GMT
2025-09-29 17:43:09.079 +03:00 [INF] Generating Vary header.
2025-09-29 17:43:09.081 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:43:09.084 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/Loans/Current - 200 null application/json; charset=utf-8 126.575ms
2025-09-29 17:44:37.446 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/Loans/Overdue - null null
2025-09-29 17:44:37.470 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/Loans/Overdue - 307 0 null 24.5715ms
2025-09-29 17:44:37.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/Loans/Overdue - null null
2025-09-29 17:44:37.502 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:44:37.509 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:44:37.517 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:44:37.528 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:44:37.535 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:44:37.544 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:44:37.551 +03:00 [INF] Incomming Request: GET /api/Borrowers/5/Loans/Overdue
2025-09-29 17:44:37.563 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API)'
2025-09-29 17:44:37.581 +03:00 [INF] Route matched with {action = "GetOverdueLoans", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOverdueLoans(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:44:37.599 +03:00 [INF] Executing an action GetOverdueLoans on controller Borrowers.
2025-09-29 17:44:37.618 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:44:37.661 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.OverdueLoanDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:44:37.673 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API) in 76.4908ms
2025-09-29 17:44:37.683 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API)'
2025-09-29 17:44:37.691 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:44:37.698 +03:00 [INF] Generating expiration headers.
2025-09-29 17:44:37.703 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:45:37 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:44:37.711 +03:00 [INF] Generating Validation headers.
2025-09-29 17:44:37.718 +03:00 [INF] Validation headers generated. ETag: Strong, "5490D9660CAC2304AB99E909A086DCDF". Last-Modified: Mon, 29 Sep 2025 14:44:37 GMT
2025-09-29 17:44:37.727 +03:00 [INF] Generating Vary header.
2025-09-29 17:44:37.733 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:44:37.744 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/Loans/Overdue - 200 null application/json; charset=utf-8 269.0107ms
2025-09-29 17:44:48.037 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/3/Loans/Overdue - null null
2025-09-29 17:44:48.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/3/Loans/Overdue - 307 0 null 17.5844ms
2025-09-29 17:44:48.060 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/3/Loans/Overdue - null null
2025-09-29 17:44:48.097 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:44:48.104 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:44:48.110 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:44:48.116 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:44:48.123 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:44:48.128 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:44:48.135 +03:00 [INF] Incomming Request: GET /api/Borrowers/3/Loans/Overdue
2025-09-29 17:44:48.142 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API)'
2025-09-29 17:44:48.154 +03:00 [INF] Route matched with {action = "GetOverdueLoans", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOverdueLoans(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:44:48.169 +03:00 [INF] Executing an action GetOverdueLoans on controller Borrowers.
2025-09-29 17:44:48.183 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:44:48.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.OverdueLoanDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:44:48.230 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API) in 62.3543ms
2025-09-29 17:44:48.242 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API)'
2025-09-29 17:44:48.253 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:44:48.262 +03:00 [INF] Generating expiration headers.
2025-09-29 17:44:48.271 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:45:48 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:44:48.280 +03:00 [INF] Generating Validation headers.
2025-09-29 17:44:48.292 +03:00 [INF] Validation headers generated. ETag: Strong, "39F61E172B911F22F70E7466B5CF51DA". Last-Modified: Mon, 29 Sep 2025 14:44:48 GMT
2025-09-29 17:44:48.304 +03:00 [INF] Generating Vary header.
2025-09-29 17:44:48.310 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:44:48.317 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/3/Loans/Overdue - 200 null application/json; charset=utf-8 256.8187ms
2025-09-29 17:46:23.294 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/Loans/Overdue - null null
2025-09-29 17:46:23.317 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/5/Loans/Overdue - 307 0 null 23.423ms
2025-09-29 17:46:23.320 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/Loans/Overdue - null null
2025-09-29 17:46:23.331 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:46:23.335 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:46:23.341 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:46:23.344 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:46:23.346 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:46:23.349 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:46:23.351 +03:00 [INF] Incomming Request: GET /api/Borrowers/5/Loans/Overdue
2025-09-29 17:46:23.355 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API)'
2025-09-29 17:46:23.361 +03:00 [INF] Route matched with {action = "GetOverdueLoans", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOverdueLoans(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:46:23.367 +03:00 [INF] Executing an action GetOverdueLoans on controller Borrowers.
2025-09-29 17:46:23.374 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b2].[Id], [b2].[PersonId], [s].[Id], [s].[BookId], [s].[BorrowDate], [s].[BorrowerId], [s].[DeleteDate], [s].[ReturnDate], [s].[Id0], [s].[DeleteDate0], [s].[ISBN], [s].[PublishYear], [s].[Title]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b2]
LEFT JOIN (
    SELECT [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [b1].[Id] AS [Id0], [b1].[DeleteDate] AS [DeleteDate0], [b1].[ISBN], [b1].[PublishYear], [b1].[Title]
    FROM [Borrowings] AS [b0]
    INNER JOIN [Books] AS [b1] ON [b0].[BookId] = [b1].[Id]
) AS [s] ON [b2].[Id] = [s].[BorrowerId]
ORDER BY [b2].[Id], [s].[Id]
2025-09-29 17:46:23.396 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BookDtos.OverdueLoanDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:46:23.405 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API) in 38.4049ms
2025-09-29 17:46:23.409 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetOverdueLoans (LibraryManagementSystem.API)'
2025-09-29 17:46:23.412 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:46:23.415 +03:00 [INF] Generating expiration headers.
2025-09-29 17:46:23.418 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:47:23 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:46:23.421 +03:00 [INF] Generating Validation headers.
2025-09-29 17:46:23.425 +03:00 [INF] Validation headers generated. ETag: Strong, "E573D080C68BDFB7356EF8DC50DCD459". Last-Modified: Mon, 29 Sep 2025 14:46:23 GMT
2025-09-29 17:46:23.429 +03:00 [INF] Generating Vary header.
2025-09-29 17:46:23.431 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:46:23.434 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/5/Loans/Overdue - 200 null application/json; charset=utf-8 113.8699ms
2025-09-29 17:52:09.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=m - null null
2025-09-29 17:52:09.082 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=m - 307 0 null 35.4021ms
2025-09-29 17:52:09.087 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=m - null null
2025-09-29 17:52:09.120 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:52:09.126 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:52:09.131 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:52:09.137 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:52:09.144 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:52:09.150 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:52:09.157 +03:00 [INF] Incomming Request: GET /api/Borrowers/Search
2025-09-29 17:52:09.164 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:52:09.184 +03:00 [INF] Route matched with {action = "SearchBorrowersByName", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBorrowersByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:52:09.218 +03:00 [INF] Executing an action SearchBorrowersByName on controller Borrowers.
2025-09-29 17:56:26.987 +03:00 [INF] Starting database seeding.
2025-09-29 17:56:27.448 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:56:30.385 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:56:30.477 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:56:30.484 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:56:30.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 17:56:30.552 +03:00 [INF] Database seeding finished successfully.
2025-09-29 17:56:31.315 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 17:56:31.317 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 17:56:31.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 17:56:31.516 +03:00 [INF] Hosting environment: Development
2025-09-29 17:56:31.519 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 17:56:50.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=m - null null
2025-09-29 17:56:50.628 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=m - 307 0 null 116.1763ms
2025-09-29 17:56:50.693 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=m - null null
2025-09-29 17:56:51.024 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:56:51.032 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:56:51.035 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:56:51.040 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:56:51.042 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:56:51.045 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:56:51.056 +03:00 [INF] Incomming Request: GET /api/Borrowers/Search
2025-09-29 17:56:51.062 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:56:51.158 +03:00 [INF] Route matched with {action = "SearchBorrowersByName", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBorrowersByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:56:51.754 +03:00 [INF] Executing an action SearchBorrowersByName on controller Borrowers.
2025-09-29 17:56:52.297 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 17:56:52.469 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 17:56:52.748 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:56:52.807 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API) in 1604.1253ms
2025-09-29 17:56:52.827 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:56:52.836 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:56:52.850 +03:00 [INF] Generating expiration headers.
2025-09-29 17:56:52.859 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:57:52 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:56:52.871 +03:00 [INF] Generating Validation headers.
2025-09-29 17:56:52.928 +03:00 [INF] Validation headers generated. ETag: Strong, "E79CA3756C1F1E2E9F9B635633620F05". Last-Modified: Mon, 29 Sep 2025 14:56:52 GMT
2025-09-29 17:56:52.939 +03:00 [INF] Generating Vary header.
2025-09-29 17:56:52.944 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:56:52.975 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=m - 200 null application/json; charset=utf-8 2281.8745ms
2025-09-29 17:57:14.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h - null null
2025-09-29 17:57:14.285 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h - 307 0 null 16.4211ms
2025-09-29 17:57:14.301 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h - null null
2025-09-29 17:57:14.323 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:57:14.327 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:57:14.333 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:57:14.337 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:57:14.342 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:57:14.347 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:57:14.350 +03:00 [INF] Incomming Request: GET /api/Borrowers/Search
2025-09-29 17:57:14.354 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:57:14.365 +03:00 [INF] Route matched with {action = "SearchBorrowersByName", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBorrowersByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:57:14.386 +03:00 [INF] Executing an action SearchBorrowersByName on controller Borrowers.
2025-09-29 17:57:14.437 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 17:57:14.458 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 17:57:14.487 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:57:14.497 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API) in 118.3703ms
2025-09-29 17:57:14.504 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:57:14.511 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:57:14.516 +03:00 [INF] Generating expiration headers.
2025-09-29 17:57:14.521 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:58:14 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:57:14.527 +03:00 [INF] Generating Validation headers.
2025-09-29 17:57:14.532 +03:00 [INF] Validation headers generated. ETag: Strong, "BDEA1E986D95521410B62AFBA014837F". Last-Modified: Mon, 29 Sep 2025 14:57:14 GMT
2025-09-29 17:57:14.535 +03:00 [INF] Generating Vary header.
2025-09-29 17:57:14.540 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:57:14.546 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h - 200 null application/json; charset=utf-8 245.4851ms
2025-09-29 17:57:48.598 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - null null
2025-09-29 17:57:48.625 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - 307 0 null 26.8777ms
2025-09-29 17:57:48.636 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - null null
2025-09-29 17:57:48.669 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:57:48.673 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:57:48.678 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:57:48.682 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:57:48.687 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:57:48.692 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:57:48.696 +03:00 [INF] Incomming Request: GET /api/Borrowers/Search
2025-09-29 17:57:48.702 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:57:48.709 +03:00 [INF] Route matched with {action = "SearchBorrowersByName", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBorrowersByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:57:48.731 +03:00 [INF] Executing an action SearchBorrowersByName on controller Borrowers.
2025-09-29 17:57:50.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 17:57:50.860 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [b].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 17:57:50.886 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:57:50.904 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API) in 2178.4807ms
2025-09-29 17:57:50.912 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:57:50.920 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:57:50.925 +03:00 [INF] Generating expiration headers.
2025-09-29 17:57:50.930 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:58:50 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:57:50.935 +03:00 [INF] Generating Validation headers.
2025-09-29 17:57:50.941 +03:00 [INF] Validation headers generated. ETag: Strong, "2F8472F94B57BFF7B94B6A90EA4E50B1". Last-Modified: Mon, 29 Sep 2025 14:57:50 GMT
2025-09-29 17:57:50.949 +03:00 [INF] Generating Vary header.
2025-09-29 17:57:50.954 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:57:50.960 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - 200 null application/json; charset=utf-8 2327.9423ms
2025-09-29 17:57:57.844 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - null null
2025-09-29 17:57:57.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - 307 0 null 50.4136ms
2025-09-29 17:57:57.897 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - null null
2025-09-29 17:57:57.923 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:57:57.926 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:57:57.930 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:57:57.935 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:57:57.938 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:57:57.942 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:57:57.946 +03:00 [INF] Incomming Request: GET /api/Borrowers/Search
2025-09-29 17:57:57.950 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:57:57.956 +03:00 [INF] Route matched with {action = "SearchBorrowersByName", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBorrowersByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:57:57.966 +03:00 [INF] Executing an action SearchBorrowersByName on controller Borrowers.
2025-09-29 17:57:57.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 17:57:57.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [b].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 17:57:58.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:57:58.012 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API) in 46.4945ms
2025-09-29 17:57:58.021 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:57:58.027 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:57:58.032 +03:00 [INF] Generating expiration headers.
2025-09-29 17:57:58.034 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:58:58 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:57:58.036 +03:00 [INF] Generating Validation headers.
2025-09-29 17:57:58.040 +03:00 [INF] Validation headers generated. ETag: Strong, "2F8472F94B57BFF7B94B6A90EA4E50B1". Last-Modified: Mon, 29 Sep 2025 14:57:58 GMT
2025-09-29 17:57:58.044 +03:00 [INF] Generating Vary header.
2025-09-29 17:57:58.047 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:57:58.050 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h&Orderby=%20id%20desc - 200 null application/json; charset=utf-8 153.0231ms
2025-09-29 17:58:04.685 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h&Orderby=%20iddesc - null null
2025-09-29 17:58:04.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/Search?SearchTerm=h&Orderby=%20iddesc - 307 0 null 13.8362ms
2025-09-29 17:58:04.702 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h&Orderby=%20iddesc - null null
2025-09-29 17:58:04.725 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 17:58:04.728 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 17:58:04.732 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 17:58:04.737 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 17:58:04.741 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 17:58:04.746 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 17:58:04.752 +03:00 [INF] Incomming Request: GET /api/Borrowers/Search
2025-09-29 17:58:04.759 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:58:04.768 +03:00 [INF] Route matched with {action = "SearchBorrowersByName", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBorrowersByName(LibraryManagementSystem.Business.Dtos.Shared.SearchParameters) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 17:58:04.789 +03:00 [INF] Executing an action SearchBorrowersByName on controller Borrowers.
2025-09-29 17:58:04.798 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
2025-09-29 17:58:04.818 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE LOWER([p].[FirstName]) LIKE @__searchTerm_0_contains ESCAPE N'\' OR LOWER([p].[LastName]) LIKE @__searchTerm_0_contains ESCAPE N'\'
ORDER BY [p].[FirstName], [p].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-29 17:58:04.837 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.Shared.PagedListDto`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:58:04.846 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API) in 57.8871ms
2025-09-29 17:58:04.852 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.SearchBorrowersByName (LibraryManagementSystem.API)'
2025-09-29 17:58:04.860 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 17:58:04.863 +03:00 [INF] Generating expiration headers.
2025-09-29 17:58:04.868 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 14:59:04 GMT. Cache-Control: public,max-age=60.
2025-09-29 17:58:04.871 +03:00 [INF] Generating Validation headers.
2025-09-29 17:58:04.875 +03:00 [INF] Validation headers generated. ETag: Strong, "8D3C60438CE75F6ED6192D4E55F64239". Last-Modified: Mon, 29 Sep 2025 14:58:04 GMT
2025-09-29 17:58:04.881 +03:00 [INF] Generating Vary header.
2025-09-29 17:58:04.886 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 17:58:04.890 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/Search?SearchTerm=h&Orderby=%20iddesc - 200 null application/json; charset=utf-8 187.5619ms
2025-09-29 18:00:53.670 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Borrowers - application/json 25
2025-09-29 18:00:53.683 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Borrowers - 307 0 null 13.5846ms
2025-09-29 18:00:53.687 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Borrowers - application/json 25
2025-09-29 18:00:53.701 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:00:53.704 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:00:53.706 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:00:53.709 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:00:53.712 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:00:53.715 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:00:53.717 +03:00 [INF] Incomming Request: POST /api/Borrowers
2025-09-29 18:00:53.721 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:00:53.731 +03:00 [INF] Route matched with {action = "Create", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BorrowerDtos.CreateBorrowerDto) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:00:53.768 +03:00 [INF] Executing an action Create on controller Borrowers.
2025-09-29 18:00:53.833 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 18:01:26.421 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API) in 32682.1438ms
2025-09-29 18:01:26.436 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:01:31.135 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.ConflictException: Person With id 0 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.CreateBorrowerAsync(CreateBorrowerDto newBorrowerDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 66
   at LibraryManagementSystem.API.Controllers.BorrowersController.Create(CreateBorrowerDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 196
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:01:31.252 +03:00 [WRN] An Conflict exception has occured: Person With id 0 not found.
LibraryManagementSystem.Business.Exceptions.ConflictException: Person With id 0 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.CreateBorrowerAsync(CreateBorrowerDto newBorrowerDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 66
   at LibraryManagementSystem.API.Controllers.BorrowersController.Create(CreateBorrowerDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 196
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:01:31.346 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Borrowers - 409 null application/problem+json 37658.6315ms
2025-09-29 18:03:14.630 +03:00 [INF] Starting database seeding.
2025-09-29 18:03:15.189 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 18:03:18.450 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 18:03:18.589 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 18:03:18.595 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 18:03:18.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 18:03:18.743 +03:00 [INF] Database seeding finished successfully.
2025-09-29 18:03:19.588 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 18:03:19.591 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 18:03:19.889 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 18:03:19.893 +03:00 [INF] Hosting environment: Development
2025-09-29 18:03:19.897 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 18:03:26.666 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Borrowers - application/json 25
2025-09-29 18:03:26.801 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Borrowers - 307 0 null 147.7986ms
2025-09-29 18:03:26.900 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Borrowers - application/json 25
2025-09-29 18:03:27.213 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:03:27.217 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:03:27.221 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:03:27.230 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:03:27.234 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:03:27.240 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:03:27.254 +03:00 [INF] Incomming Request: POST /api/Borrowers
2025-09-29 18:03:27.260 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:03:27.314 +03:00 [INF] Route matched with {action = "Create", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BorrowerDtos.CreateBorrowerDto) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:03:27.720 +03:00 [INF] Executing an action Create on controller Borrowers.
2025-09-29 18:03:27.925 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 18:03:27.961 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 18:03:28.263 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borrowers] ([PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-09-29 18:03:28.338 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'LibraryManagementSystem.DataAccess.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Borrowers' with unique index 'IX_Borrowers_PersonId'. The duplicate key value is (10).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fcfcb47a-fa72-44bf-94f3-28e415799815
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Borrowers' with unique index 'IX_Borrowers_PersonId'. The duplicate key value is (10).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fcfcb47a-fa72-44bf-94f3-28e415799815
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 18:05:21.586 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API) in 114248.3771ms
2025-09-29 18:05:21.603 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:05:26.485 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Borrowers' with unique index 'IX_Borrowers_PersonId'. The duplicate key value is (10).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fcfcb47a-fa72-44bf-94f3-28e415799815
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\UnitOfWork\UnitOfWork.cs:line 44
   at LibraryManagementSystem.Business.Services.BorrowerService.CreateBorrowerAsync(CreateBorrowerDto newBorrowerDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 80
   at LibraryManagementSystem.API.Controllers.BorrowersController.Create(CreateBorrowerDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 196
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:05:26.686 +03:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Borrowers' with unique index 'IX_Borrowers_PersonId'. The duplicate key value is (10).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fcfcb47a-fa72-44bf-94f3-28e415799815
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryManagementSystem.DataAccess.UnitOfWork.UnitOfWork.CompleteAsync() in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.DataAccess\UnitOfWork\UnitOfWork.cs:line 44
   at LibraryManagementSystem.Business.Services.BorrowerService.CreateBorrowerAsync(CreateBorrowerDto newBorrowerDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 80
   at LibraryManagementSystem.API.Controllers.BorrowersController.Create(CreateBorrowerDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 196
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:05:26.850 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Borrowers - 500 null application/problem+json 119949.8233ms
2025-09-29 18:05:39.493 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Borrowers - application/json 25
2025-09-29 18:05:39.524 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Borrowers - 307 0 null 32.399ms
2025-09-29 18:05:39.532 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Borrowers - application/json 25
2025-09-29 18:05:39.556 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:05:39.559 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:05:39.563 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:05:39.566 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:05:39.568 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:05:39.571 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:05:39.574 +03:00 [INF] Incomming Request: POST /api/Borrowers
2025-09-29 18:05:39.578 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:05:39.583 +03:00 [INF] Route matched with {action = "Create", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BorrowerDtos.CreateBorrowerDto) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:05:39.604 +03:00 [INF] Executing an action Create on controller Borrowers.
2025-09-29 18:05:39.638 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 18:07:18.236 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API) in 98639.6284ms
2025-09-29 18:07:18.285 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Persons - application/json 59
2025-09-29 18:07:18.314 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:07:18.327 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Persons - 307 0 null 41.6511ms
2025-09-29 18:07:19.993 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Persons - application/json 59
2025-09-29 18:07:22.143 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.ConflictException: Person With id 11 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.CreateBorrowerAsync(CreateBorrowerDto newBorrowerDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 66
   at LibraryManagementSystem.API.Controllers.BorrowersController.Create(CreateBorrowerDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 196
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:07:22.172 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:07:22.238 +03:00 [WRN] An Conflict exception has occured: Person With id 11 not found.
LibraryManagementSystem.Business.Exceptions.ConflictException: Person With id 11 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.CreateBorrowerAsync(CreateBorrowerDto newBorrowerDto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 66
   at LibraryManagementSystem.API.Controllers.BorrowersController.Create(CreateBorrowerDto dto) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 196
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:07:22.239 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:07:22.282 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:07:22.284 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:07:22.287 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:07:22.287 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Borrowers - 499 null application/problem+json 102755.5136ms
2025-09-29 18:07:22.291 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:07:22.303 +03:00 [INF] Incomming Request: POST /api/Persons
2025-09-29 18:07:22.306 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.PersonsController.Create (LibraryManagementSystem.API)'
2025-09-29 18:07:22.318 +03:00 [INF] Route matched with {action = "Create", controller = "Persons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.PersonDtos.CreatePersonDto) on controller LibraryManagementSystem.API.Controllers.PersonsController (LibraryManagementSystem.API).
2025-09-29 18:07:22.335 +03:00 [INF] Executing an action Create on controller Persons.
2025-09-29 18:07:22.414 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([FirstName], [LastName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-29 18:07:22.489 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'LibraryManagementSystem.Business.Dtos.PersonDtos.PersonDetailsDto'.
2025-09-29 18:07:22.541 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.PersonsController.Create (LibraryManagementSystem.API) in 213.1331ms
2025-09-29 18:07:22.547 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.PersonsController.Create (LibraryManagementSystem.API)'
2025-09-29 18:07:22.556 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:07:22.565 +03:00 [INF] Generating expiration headers.
2025-09-29 18:07:22.571 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:08:22 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 18:07:22.582 +03:00 [INF] Generating Validation headers.
2025-09-29 18:07:22.605 +03:00 [INF] Validation headers generated. ETag: Strong, "A0992129B1949CCF1E8BD4819B8871D3". Last-Modified: Mon, 29 Sep 2025 15:07:22 GMT
2025-09-29 18:07:22.610 +03:00 [INF] Generating Vary header.
2025-09-29 18:07:22.613 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:07:22.619 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Persons - 201 null application/json; charset=utf-8 2628.2349ms
2025-09-29 18:08:04.456 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Borrowers - application/json 25
2025-09-29 18:08:04.466 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Borrowers - 307 0 null 13.1328ms
2025-09-29 18:08:04.470 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Borrowers - application/json 25
2025-09-29 18:08:04.490 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:08:04.493 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:08:04.497 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:08:04.500 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:08:04.504 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:08:04.507 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:08:04.511 +03:00 [INF] Incomming Request: POST /api/Borrowers
2025-09-29 18:08:04.516 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:08:04.523 +03:00 [INF] Route matched with {action = "Create", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.BorrowerDtos.CreateBorrowerDto) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:08:04.542 +03:00 [INF] Executing an action Create on controller Borrowers.
2025-09-29 18:08:04.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 18:08:04.567 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Borrowers] AS [b]
        WHERE [b].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 18:08:04.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borrowers] ([PersonId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-09-29 18:08:04.641 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[PersonId]
FROM [Borrowers] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-29 18:08:04.644 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerDetailsDto'.
2025-09-29 18:08:04.665 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API) in 129.9614ms
2025-09-29 18:08:04.672 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:08:04.678 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:08:04.683 +03:00 [INF] Generating expiration headers.
2025-09-29 18:08:04.690 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:09:04 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 18:08:04.696 +03:00 [INF] Generating Validation headers.
2025-09-29 18:08:04.703 +03:00 [INF] Validation headers generated. ETag: Strong, "E66EDB1EFB9564F134AA1B64CC049CD6". Last-Modified: Mon, 29 Sep 2025 15:08:04 GMT
2025-09-29 18:08:04.707 +03:00 [INF] Generating Vary header.
2025-09-29 18:08:04.711 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:08:04.716 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Borrowers - 201 null application/json; charset=utf-8 246.0903ms
2025-09-29 18:09:23.487 +03:00 [INF] Starting database seeding.
2025-09-29 18:09:24.112 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 18:09:28.293 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 18:09:28.542 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 18:09:28.562 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 18:09:28.654 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 18:09:28.827 +03:00 [INF] Database seeding finished successfully.
2025-09-29 18:09:29.935 +03:00 [INF] Now listening on: https://localhost:7266
2025-09-29 18:09:29.939 +03:00 [INF] Now listening on: http://localhost:5132
2025-09-29 18:09:30.259 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 18:09:30.264 +03:00 [INF] Hosting environment: Development
2025-09-29 18:09:30.271 +03:00 [INF] Content root path: F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API
2025-09-29 18:09:50.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Persons/1 - null null
2025-09-29 18:09:50.171 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Persons/1 - 307 0 null 161.2792ms
2025-09-29 18:09:50.271 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Persons/1 - null null
2025-09-29 18:09:50.570 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:09:50.582 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 18:09:50.585 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:09:50.594 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:09:50.598 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:09:50.601 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:09:50.613 +03:00 [INF] Incomming Request: GET /api/Persons/1
2025-09-29 18:09:50.618 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.PersonsController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:09:50.667 +03:00 [INF] Route matched with {action = "GetById", controller = "Persons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.PersonsController (LibraryManagementSystem.API).
2025-09-29 18:09:51.054 +03:00 [INF] Executing an action GetById on controller Persons.
2025-09-29 18:09:51.509 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PersonId], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiryTime], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [s].[PersonId0], [s].[Id2], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [s].[Biography], [s].[PersonId1]
FROM (
    SELECT TOP(2) [p].[Id], [p].[FirstName], [p].[LastName], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b].[Id] AS [Id1], [b].[PersonId] AS [PersonId0], [a0].[Id] AS [Id2], [a0].[Biography], [a0].[PersonId] AS [PersonId1]
    FROM [Persons] AS [p]
    LEFT JOIN [AspNetUsers] AS [a] ON [p].[Id] = [a].[PersonId]
    LEFT JOIN [Borrowers] AS [b] ON [p].[Id] = [b].[PersonId]
    LEFT JOIN [Authors] AS [a0] ON [p].[Id] = [a0].[PersonId]
    WHERE [p].[Id] = @__id_0
) AS [s]
LEFT JOIN [Borrowings] AS [b0] ON [s].[Id1] = [b0].[BorrowerId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2]
2025-09-29 18:09:56.988 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.PersonsController.GetById (LibraryManagementSystem.API) in 6294.3103ms
2025-09-29 18:09:57.006 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.PersonsController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:10:00.936 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Person with id 1 not found.
   at LibraryManagementSystem.Business.Services.PersonService.ThrowNotFoundExceptionIfPersonNotExist(Int32 id, Person person) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\PersonService.cs:line 146
   at LibraryManagementSystem.Business.Services.PersonService.GetPersonByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\PersonService.cs:line 38
   at LibraryManagementSystem.API.Controllers.PersonsController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\PersonsController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:10:01.193 +03:00 [WRN] A Not Found exception has occured: Person with id 1 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Person with id 1 not found.
   at LibraryManagementSystem.Business.Services.PersonService.ThrowNotFoundExceptionIfPersonNotExist(Int32 id, Person person) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\PersonService.cs:line 146
   at LibraryManagementSystem.Business.Services.PersonService.GetPersonByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\PersonService.cs:line 38
   at LibraryManagementSystem.API.Controllers.PersonsController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\PersonsController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:10:01.472 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Persons/1 - 404 null application/problem+json 11201.5103ms
2025-09-29 18:10:08.162 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Persons/16 - null null
2025-09-29 18:10:08.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Persons/16 - 307 0 null 8.6237ms
2025-09-29 18:10:08.178 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Persons/16 - null null
2025-09-29 18:10:08.195 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:10:08.198 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 18:10:08.203 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:10:08.208 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:10:08.211 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:10:08.215 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:10:08.217 +03:00 [INF] Incomming Request: GET /api/Persons/16
2025-09-29 18:10:08.221 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.PersonsController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:10:08.226 +03:00 [INF] Route matched with {action = "GetById", controller = "Persons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.PersonsController (LibraryManagementSystem.API).
2025-09-29 18:10:08.237 +03:00 [INF] Executing an action GetById on controller Persons.
2025-09-29 18:10:08.270 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PersonId], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiryTime], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [s].[PersonId0], [s].[Id2], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [s].[Biography], [s].[PersonId1]
FROM (
    SELECT TOP(2) [p].[Id], [p].[FirstName], [p].[LastName], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b].[Id] AS [Id1], [b].[PersonId] AS [PersonId0], [a0].[Id] AS [Id2], [a0].[Biography], [a0].[PersonId] AS [PersonId1]
    FROM [Persons] AS [p]
    LEFT JOIN [AspNetUsers] AS [a] ON [p].[Id] = [a].[PersonId]
    LEFT JOIN [Borrowers] AS [b] ON [p].[Id] = [b].[PersonId]
    LEFT JOIN [Authors] AS [a0] ON [p].[Id] = [a0].[PersonId]
    WHERE [p].[Id] = @__id_0
) AS [s]
LEFT JOIN [Borrowings] AS [b0] ON [s].[Id1] = [b0].[BorrowerId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2]
2025-09-29 18:10:08.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.PersonDtos.PersonDetailsDto'.
2025-09-29 18:10:08.324 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.PersonsController.GetById (LibraryManagementSystem.API) in 91.8716ms
2025-09-29 18:10:08.329 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.PersonsController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:10:08.340 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:10:08.345 +03:00 [INF] Generating expiration headers.
2025-09-29 18:10:08.348 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:11:08 GMT. Cache-Control: public,max-age=60.
2025-09-29 18:10:08.353 +03:00 [INF] Generating Validation headers.
2025-09-29 18:10:08.374 +03:00 [INF] Validation headers generated. ETag: Strong, "384025FD6FA5F8C91A9B31F589BF1334". Last-Modified: Mon, 29 Sep 2025 15:10:08 GMT
2025-09-29 18:10:08.378 +03:00 [INF] Generating Vary header.
2025-09-29 18:10:08.380 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:10:08.384 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Persons/16 - 200 null application/json; charset=utf-8 206.1356ms
2025-09-29 18:13:03.934 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Borrowers/Collection - application/json 138
2025-09-29 18:13:03.944 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Borrowers/Collection - 307 0 null 9.4194ms
2025-09-29 18:13:03.946 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Borrowers/Collection - application/json 138
2025-09-29 18:13:03.965 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:13:03.967 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:13:03.970 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:13:03.973 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:13:03.977 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:13:03.980 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:13:03.985 +03:00 [INF] Incomming Request: POST /api/Borrowers/Collection
2025-09-29 18:13:03.989 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.CreateCollection (LibraryManagementSystem.API)'
2025-09-29 18:13:04.003 +03:00 [INF] Route matched with {action = "CreateCollection", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCollection(LibraryManagementSystem.Business.Dtos.Shared.CreateCollectionDto`1[LibraryManagementSystem.Business.Dtos.BorrowerDtos.CreateBorrowerDto]) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:13:04.077 +03:00 [INF] Executing an action CreateCollection on controller Borrowers.
2025-09-29 18:13:04.213 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__personIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[PersonId]
FROM [Borrowers] AS [b]
WHERE [b].[PersonId] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__personIds_0) WITH ([value] int '$') AS [p]
)
2025-09-29 18:13:04.242 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__personIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id]
FROM [Persons] AS [p]
WHERE [p].[Id] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__personIds_0) WITH ([value] int '$') AS [p0]
)
2025-09-29 18:13:04.541 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Borrowers] USING (
VALUES (@p0, 0),
(@p1, 1)) AS i ([PersonId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([PersonId])
VALUES (i.[PersonId])
OUTPUT INSERTED.[Id], i._Position;
2025-09-29 18:13:04.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[PersonId], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [Borrowers] AS [b]
INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
WHERE [b].[Id] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] int '$') AS [i]
)
2025-09-29 18:13:04.686 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerDetailsDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:04.697 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.CreateCollection (LibraryManagementSystem.API) in 683.2307ms
2025-09-29 18:13:04.703 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.CreateCollection (LibraryManagementSystem.API)'
2025-09-29 18:13:04.709 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:13:04.713 +03:00 [INF] Generating expiration headers.
2025-09-29 18:13:04.716 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:14:04 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 18:13:04.721 +03:00 [INF] Generating Validation headers.
2025-09-29 18:13:04.727 +03:00 [INF] Validation headers generated. ETag: Strong, "9067B657B0F6179AF607F04C7B26FC48". Last-Modified: Mon, 29 Sep 2025 15:13:04 GMT
2025-09-29 18:13:04.731 +03:00 [INF] Generating Vary header.
2025-09-29 18:13:04.736 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:13:04.742 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Borrowers/Collection - 201 null application/json; charset=utf-8 796.3853ms
2025-09-29 18:14:13.703 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/9 - null null
2025-09-29 18:14:13.723 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/9 - 307 0 null 19.8938ms
2025-09-29 18:14:13.727 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/9 - null null
2025-09-29 18:14:13.750 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:14:13.755 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 18:14:13.761 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:14:13.766 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:14:13.770 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:14:13.777 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:14:13.781 +03:00 [INF] Incomming Request: GET /api/Borrowers/9
2025-09-29 18:14:13.788 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:14:13.805 +03:00 [INF] Route matched with {action = "GetById", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:14:13.814 +03:00 [INF] Executing an action GetById on controller Borrowers.
2025-09-29 18:14:13.859 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[PersonId], [s].[Id0], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Borrowers] AS [b]
    INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN [Borrowings] AS [b0] ON [s].[Id] = [b0].[BorrowerId]
ORDER BY [s].[Id], [s].[Id0]
2025-09-29 18:14:13.873 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.BorrowerDtos.BorrowerDetailsDto'.
2025-09-29 18:14:13.877 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API) in 64.0928ms
2025-09-29 18:14:13.884 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:14:13.889 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:14:13.895 +03:00 [INF] Generating expiration headers.
2025-09-29 18:14:13.899 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:15:13 GMT. Cache-Control: public,max-age=60.
2025-09-29 18:14:13.903 +03:00 [INF] Generating Validation headers.
2025-09-29 18:14:13.909 +03:00 [INF] Validation headers generated. ETag: Strong, "3C4A2D1D282C98C3688C44387B5CD743". Last-Modified: Mon, 29 Sep 2025 15:14:13 GMT
2025-09-29 18:14:13.912 +03:00 [INF] Generating Vary header.
2025-09-29 18:14:13.915 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:14:13.920 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/9 - 200 null application/json; charset=utf-8 193.5178ms
2025-09-29 18:24:20.468 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5132/api/Borrowers/9 - null null
2025-09-29 18:24:20.497 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5132/api/Borrowers/9 - 307 0 null 28.328ms
2025-09-29 18:24:20.501 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7266/api/Borrowers/9 - null null
2025-09-29 18:24:20.527 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:24:20.531 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:24:20.537 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:24:20.542 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:24:20.546 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:24:20.552 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:24:20.558 +03:00 [INF] Incomming Request: DELETE /api/Borrowers/9
2025-09-29 18:24:20.567 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Delete (LibraryManagementSystem.API)'
2025-09-29 18:24:20.583 +03:00 [INF] Route matched with {action = "Delete", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:24:20.605 +03:00 [INF] Executing an action Delete on controller Borrowers.
2025-09-29 18:24:20.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[PersonId], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId]
    FROM [Borrowers] AS [b]
    WHERE [b].[Id] = @__id_0
) AS [b1]
LEFT JOIN [Borrowings] AS [b0] ON [b1].[Id] = [b0].[BorrowerId]
ORDER BY [b1].[Id]
2025-09-29 18:24:20.729 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Borrowers]
OUTPUT 1
WHERE [Id] = @p0;
2025-09-29 18:24:20.771 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 18:24:20.778 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.Delete (LibraryManagementSystem.API) in 181.5298ms
2025-09-29 18:24:20.787 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.Delete (LibraryManagementSystem.API)'
2025-09-29 18:24:20.794 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:24:20.799 +03:00 [INF] Generating expiration headers.
2025-09-29 18:24:20.802 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:25:20 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 18:24:20.807 +03:00 [INF] Generating Validation headers.
2025-09-29 18:24:20.813 +03:00 [INF] Validation headers generated. ETag: Strong, "2C366678378E5F1D36C88BFBCF3FB299". Last-Modified: Mon, 29 Sep 2025 15:24:20 GMT
2025-09-29 18:24:20.817 +03:00 [INF] Generating Vary header.
2025-09-29 18:24:20.821 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:24:20.827 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7266/api/Borrowers/9 - 204 null null 326.5779ms
2025-09-29 18:24:28.216 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Borrowers/9 - null null
2025-09-29 18:24:28.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Borrowers/9 - 307 0 null 13.2779ms
2025-09-29 18:24:28.233 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Borrowers/9 - null null
2025-09-29 18:24:28.260 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:24:28.265 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 18:24:28.270 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:24:28.276 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:24:28.282 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:24:28.290 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:24:28.295 +03:00 [INF] Incomming Request: GET /api/Borrowers/9
2025-09-29 18:24:28.302 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:24:28.309 +03:00 [INF] Route matched with {action = "GetById", controller = "Borrowers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller LibraryManagementSystem.API.Controllers.BorrowersController (LibraryManagementSystem.API).
2025-09-29 18:24:28.322 +03:00 [INF] Executing an action GetById on controller Borrowers.
2025-09-29 18:24:28.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[PersonId], [s].[Id0], [b0].[Id], [b0].[BookId], [b0].[BorrowDate], [b0].[BorrowerId], [b0].[DeleteDate], [b0].[ReturnDate], [s].[FirstName], [s].[LastName]
FROM (
    SELECT TOP(2) [b].[Id], [b].[PersonId], [p].[Id] AS [Id0], [p].[FirstName], [p].[LastName]
    FROM [Borrowers] AS [b]
    INNER JOIN [Persons] AS [p] ON [b].[PersonId] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN [Borrowings] AS [b0] ON [s].[Id] = [b0].[BorrowerId]
ORDER BY [s].[Id], [s].[Id0]
2025-09-29 18:24:31.003 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API) in 2681.6532ms
2025-09-29 18:24:31.013 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.BorrowersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:24:34.930 +03:00 [ERR] An unhandled exception has occurred while executing the request.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Borrower with id 9 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.ThrowNotFoundExceptionIfBorrowerNotExist(Int32 id, Borrower borrower) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 231
   at LibraryManagementSystem.Business.Services.BorrowerService.GetBorrowerByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 38
   at LibraryManagementSystem.API.Controllers.BorrowersController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:24:35.024 +03:00 [WRN] A Not Found exception has occured: Borrower with id 9 not found.
LibraryManagementSystem.Business.Exceptions.NotFoundException: Borrower with id 9 not found.
   at LibraryManagementSystem.Business.Services.BorrowerService.ThrowNotFoundExceptionIfBorrowerNotExist(Int32 id, Borrower borrower) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 231
   at LibraryManagementSystem.Business.Services.BorrowerService.GetBorrowerByIdAsync(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.Business\Services\BorrowerService.cs:line 38
   at LibraryManagementSystem.API.Controllers.BorrowersController.GetById(Int32 id) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Controllers\BorrowersController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at LibraryBookManagementSystem.API.Middlewares.RequestLoggingHandler.Invoke(HttpContext context) in F:\RestfulApiCourse\LibrarySystem\LibraryManagementSystem.API\Middlewares\RequestLoggingHandler.cs:line 24
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext, IValidatorValueInvalidator validatorValueInvalidator)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-09-29 18:24:35.110 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Borrowers/9 - 404 null application/problem+json 6876.4526ms
2025-09-29 18:26:36.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - null null
2025-09-29 18:26:36.089 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - 307 0 null 19.183ms
2025-09-29 18:26:36.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - null null
2025-09-29 18:26:36.127 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2025 3:20:35 PM', Current time (UTC): '9/29/2025 3:26:36 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 18:26:36.142 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2025 3:20:35 PM', Current time (UTC): '9/29/2025 3:26:36 PM'.
2025-09-29 18:26:36.149 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-29 18:26:36.165 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-29 18:26:36.169 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - 401 0 null 78.6252ms
2025-09-29 18:27:05.726 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - application/json 505
2025-09-29 18:27:05.743 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Token/Refresh - 307 0 null 18.9204ms
2025-09-29 18:27:05.747 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - application/json 505
2025-09-29 18:27:05.771 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:27:05.773 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:27:05.776 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:27:05.778 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:27:05.781 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:27:05.783 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:27:05.787 +03:00 [INF] Incomming Request: POST /api/Token/Refresh
2025-09-29 18:27:05.790 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-29 18:27:05.799 +03:00 [INF] Route matched with {action = "Refresh", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto) on controller LibraryManagementSystem.API.Controllers.TokenController (LibraryManagementSystem.API).
2025-09-29 18:27:05.827 +03:00 [INF] Executing an action Refresh on controller Token.
2025-09-29 18:27:05.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-29 18:27:05.946 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-29 18:27:06.009 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 18:27:06.030 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 18:27:06.095 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PersonId] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-09-29 18:27:06.108 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.AccountDtos.TokenDto'.
2025-09-29 18:27:06.114 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API) in 307.3187ms
2025-09-29 18:27:06.118 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.TokenController.Refresh (LibraryManagementSystem.API)'
2025-09-29 18:27:06.122 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:27:06.124 +03:00 [INF] Generating expiration headers.
2025-09-29 18:27:06.127 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:28:06 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 18:27:06.131 +03:00 [INF] Generating Validation headers.
2025-09-29 18:27:06.135 +03:00 [INF] Validation headers generated. ETag: Strong, "AD4C2468D8FA4E36C643D08E14EC67C2". Last-Modified: Mon, 29 Sep 2025 15:27:06 GMT
2025-09-29 18:27:06.138 +03:00 [INF] Generating Vary header.
2025-09-29 18:27:06.143 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:27:06.154 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Token/Refresh - 200 null application/json; charset=utf-8 407.6747ms
2025-09-29 18:27:28.813 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - null null
2025-09-29 18:27:28.831 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - 307 0 null 20.5898ms
2025-09-29 18:27:28.836 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - null null
2025-09-29 18:27:28.861 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:27:28.865 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 18:27:28.870 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:27:28.873 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:27:28.875 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:27:28.878 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:27:28.881 +03:00 [INF] Incomming Request: GET /api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1
2025-09-29 18:27:28.885 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.UsersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:27:28.897 +03:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.String) on controller LibraryManagementSystem.API.Controllers.UsersController (LibraryManagementSystem.API).
2025-09-29 18:27:28.910 +03:00 [INF] Executing an action GetById on controller Users.
2025-09-29 18:27:28.948 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [AspNetUsers] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] = @__id_0
2025-09-29 18:27:29.002 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-29 18:27:29.010 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.UserDtos.UserProfileDto'.
2025-09-29 18:27:29.021 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.UsersController.GetById (LibraryManagementSystem.API) in 114.4896ms
2025-09-29 18:27:29.026 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.UsersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:27:29.029 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:27:29.032 +03:00 [INF] Generating expiration headers.
2025-09-29 18:27:29.035 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:28:29 GMT. Cache-Control: public,max-age=60.
2025-09-29 18:27:29.037 +03:00 [INF] Generating Validation headers.
2025-09-29 18:27:29.040 +03:00 [INF] Validation headers generated. ETag: Strong, "A4355DCB6986AACCA559D7566CB4BCD8". Last-Modified: Mon, 29 Sep 2025 15:27:29 GMT
2025-09-29 18:27:29.043 +03:00 [INF] Generating Vary header.
2025-09-29 18:27:29.046 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:27:29.049 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Users/aa7c7673-945d-4ba7-870c-54e8bb32a1c1 - 200 null application/json; charset=utf-8 214.2387ms
2025-09-29 18:28:16.205 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Users - null null
2025-09-29 18:28:16.227 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Users - 307 0 null 21.9171ms
2025-09-29 18:28:16.233 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Users - null null
2025-09-29 18:28:16.269 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:28:16.272 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 18:28:16.275 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:28:16.280 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:28:16.283 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:28:16.286 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:28:16.290 +03:00 [INF] Incomming Request: GET /api/Users
2025-09-29 18:28:16.295 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.UsersController.GetAll (LibraryManagementSystem.API)'
2025-09-29 18:28:16.314 +03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(LibraryManagementSystem.Business.Dtos.Shared.PaginationParameters) on controller LibraryManagementSystem.API.Controllers.UsersController (LibraryManagementSystem.API).
2025-09-29 18:28:16.334 +03:00 [INF] Executing an action GetAll on controller Users.
2025-09-29 18:28:16.347 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-29 18:28:16.351 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-09-29 18:28:16.380 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PersonId], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [p].[Id], [p].[FirstName], [p].[LastName]
FROM (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Persons] AS [p] ON [a0].[PersonId] = [p].[Id]
2025-09-29 18:28:16.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.Business.Dtos.UserDtos.UserSummaryDto, LibraryManagementSystem.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:28:16.409 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.UsersController.GetAll (LibraryManagementSystem.API) in 85.5573ms
2025-09-29 18:28:16.413 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.UsersController.GetAll (LibraryManagementSystem.API)'
2025-09-29 18:28:16.419 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:28:16.421 +03:00 [INF] Generating expiration headers.
2025-09-29 18:28:16.424 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:29:16 GMT. Cache-Control: public,max-age=60.
2025-09-29 18:28:16.426 +03:00 [INF] Generating Validation headers.
2025-09-29 18:28:16.429 +03:00 [INF] Validation headers generated. ETag: Strong, "0C68DA032D54D964109BDAF13F264BBD". Last-Modified: Mon, 29 Sep 2025 15:28:16 GMT
2025-09-29 18:28:16.432 +03:00 [INF] Generating Vary header.
2025-09-29 18:28:16.435 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:28:16.438 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Users - 200 null application/json; charset=utf-8 205.9996ms
2025-09-29 18:36:34.418 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Users - application/json 170
2025-09-29 18:36:34.447 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Users - 307 0 null 29.6137ms
2025-09-29 18:36:34.452 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Users - application/json 170
2025-09-29 18:36:34.481 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:36:34.486 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:36:34.492 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:36:34.497 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:36:34.501 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:36:34.506 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:36:34.511 +03:00 [INF] Incomming Request: POST /api/Users
2025-09-29 18:36:34.519 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.UsersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:36:34.539 +03:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(LibraryManagementSystem.Business.Dtos.UserDtos.CreateUserByAdminDto) on controller LibraryManagementSystem.API.Controllers.UsersController (LibraryManagementSystem.API).
2025-09-29 18:36:34.624 +03:00 [INF] Executing an action Create on controller Users.
2025-09-29 18:36:34.666 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 18:36:34.687 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 18:36:34.730 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 18:36:34.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 18:36:34.947 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([FirstName], [LastName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-09-29 18:36:34.987 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p2='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PersonId], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2025-09-29 18:36:35.096 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-29 18:36:35.188 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-29 18:36:35.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-29 18:36:35.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-29 18:36:35.286 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-29 18:36:35.346 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PersonId] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2025-09-29 18:36:35.376 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-09-29 18:36:35.386 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.UsersController.Create (LibraryManagementSystem.API) in 834.4024ms
2025-09-29 18:36:35.393 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.UsersController.Create (LibraryManagementSystem.API)'
2025-09-29 18:36:35.400 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:36:35.404 +03:00 [INF] Generating expiration headers.
2025-09-29 18:36:35.409 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:37:35 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 18:36:35.414 +03:00 [INF] Generating Validation headers.
2025-09-29 18:36:35.419 +03:00 [INF] Validation headers generated. ETag: Strong, "9D0107809F5364D0FEA723E77E16D51B". Last-Modified: Mon, 29 Sep 2025 15:36:35 GMT
2025-09-29 18:36:35.424 +03:00 [INF] Generating Vary header.
2025-09-29 18:36:35.431 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:36:35.436 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Users - 200 null text/plain; charset=utf-8 984.3463ms
2025-09-29 18:44:09.131 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - application/json 170
2025-09-29 18:44:09.147 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - 307 0 null 17.7938ms
2025-09-29 18:44:09.149 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7266/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - application/json 170
2025-09-29 18:44:09.171 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:44:09.174 +03:00 [INF] Not valid - method isn't GET or HEAD.
2025-09-29 18:44:09.178 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:44:09.180 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:44:09.183 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:44:09.185 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:44:09.189 +03:00 [INF] Incomming Request: POST /api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4
2025-09-29 18:44:09.192 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-09-29 18:44:09.196 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-09-29 18:44:09.199 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:44:09.202 +03:00 [INF] Generating expiration headers.
2025-09-29 18:44:09.205 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:45:09 GMT. Cache-Control: public,max-age=60,must-revalidate.
2025-09-29 18:44:09.213 +03:00 [INF] Not generating Validation headers as the response status code does not indicate success.
2025-09-29 18:44:09.218 +03:00 [INF] Generating Vary header.
2025-09-29 18:44:09.223 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:44:09.228 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7266/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - 405 null application/problem+json 78.2772ms
2025-09-29 18:44:15.468 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - application/json 170
2025-09-29 18:44:15.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - 307 0 null 19.1256ms
2025-09-29 18:44:15.492 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7266/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - application/json 170
2025-09-29 18:44:15.525 +03:00 [INF] Checking for conditional GET/HEAD.
2025-09-29 18:44:15.530 +03:00 [INF] Not valid - no If-None-Match or If-Modified-Since headers.
2025-09-29 18:44:15.534 +03:00 [INF] Don't generate 304 - Not Modified.  Continue.
2025-09-29 18:44:15.539 +03:00 [INF] Checking for conditional PUT/PATCH.
2025-09-29 18:44:15.545 +03:00 [INF] Not valid - method isn't PUT or PATCH.
2025-09-29 18:44:15.551 +03:00 [INF] Don't generate 412 - Precondition Failed.  Continue.
2025-09-29 18:44:15.557 +03:00 [INF] Incomming Request: GET /api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4
2025-09-29 18:44:15.565 +03:00 [INF] Executing endpoint 'LibraryManagementSystem.API.Controllers.UsersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:44:15.574 +03:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.String) on controller LibraryManagementSystem.API.Controllers.UsersController (LibraryManagementSystem.API).
2025-09-29 18:44:15.588 +03:00 [INF] Executing an action GetById on controller Users.
2025-09-29 18:44:15.631 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PersonId], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [p].[Id], [p].[FirstName], [p].[LastName]
FROM [AspNetUsers] AS [a]
INNER JOIN [Persons] AS [p] ON [a].[PersonId] = [p].[Id]
WHERE [a].[Id] = @__id_0
2025-09-29 18:44:15.652 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-29 18:44:15.665 +03:00 [INF] Executing OkObjectResult, writing value of type 'LibraryManagementSystem.Business.Dtos.UserDtos.UserProfileDto'.
2025-09-29 18:44:15.674 +03:00 [INF] Executed action LibraryManagementSystem.API.Controllers.UsersController.GetById (LibraryManagementSystem.API) in 87.2868ms
2025-09-29 18:44:15.683 +03:00 [INF] Executed endpoint 'LibraryManagementSystem.API.Controllers.UsersController.GetById (LibraryManagementSystem.API)'
2025-09-29 18:44:15.694 +03:00 [INF] Outgoing Response: {Status Code}
2025-09-29 18:44:15.700 +03:00 [INF] Generating expiration headers.
2025-09-29 18:44:15.706 +03:00 [INF] Expiration headers generated. Expires: Mon, 29 Sep 2025 15:45:15 GMT. Cache-Control: public,max-age=60.
2025-09-29 18:44:15.712 +03:00 [INF] Generating Validation headers.
2025-09-29 18:44:15.719 +03:00 [INF] Validation headers generated. ETag: Strong, "7B3459079D256630AAEBAD14B87A2859". Last-Modified: Mon, 29 Sep 2025 15:44:15 GMT
2025-09-29 18:44:15.726 +03:00 [INF] Generating Vary header.
2025-09-29 18:44:15.732 +03:00 [INF] Vary header generated: Accept, Accept-Language, Accept-Encoding.
2025-09-29 18:44:15.739 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7266/api/Users/679cc3f0-ca17-421a-b671-7eb5722d1bd4 - 200 null application/json; charset=utf-8 247.7815ms
